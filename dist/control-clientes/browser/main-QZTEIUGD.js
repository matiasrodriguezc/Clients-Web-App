var dx=Object.defineProperty,hx=Object.defineProperties;var fx=Object.getOwnPropertyDescriptors;var qE=Object.getOwnPropertySymbols,px=Object.getPrototypeOf,gx=Object.prototype.hasOwnProperty,mx=Object.prototype.propertyIsEnumerable,yx=Reflect.get;var zE=(t,e,n)=>e in t?dx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k=(t,e)=>{for(var n in e||={})gx.call(e,n)&&zE(t,n,e[n]);if(qE)for(var n of qE(e))mx.call(e,n)&&zE(t,n,e[n]);return t},fe=(t,e)=>hx(t,fx(e));var Or=(t,e,n)=>yx(px(t),n,e);var w=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(l){i(l)}},o=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});function GE(t,e){return Object.is(t,e)}var We=null,Qu=!1,Yu=1,Gn=Symbol("SIGNAL");function pe(t){let e=We;return We=t,e}function WE(){return We}var La={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function bp(t){if(Qu)throw new Error("");if(We===null)return;We.consumerOnSignalRead(t);let e=We.nextProducerIndex++;if(el(We),e<We.producerNode.length&&We.producerNode[e]!==t&&Fa(We)){let n=We.producerNode[e];Xu(n,We.producerIndexOfThis[e])}We.producerNode[e]!==t&&(We.producerNode[e]=t,We.producerIndexOfThis[e]=Fa(We)?JE(t,We,e):0),We.producerLastReadVersion[e]=t.version}function vx(){Yu++}function KE(t){if(!(Fa(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Yu)){if(!t.producerMustRecompute(t)&&!Tp(t)){t.dirty=!1,t.lastCleanEpoch=Yu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Yu}}function QE(t){if(t.liveConsumerNode===void 0)return;let e=Qu;Qu=!0;try{for(let n of t.liveConsumerNode)n.dirty||_x(n)}finally{Qu=e}}function YE(){return We?.consumerAllowSignalWrites!==!1}function _x(t){t.dirty=!0,QE(t),t.consumerMarkedDirty?.(t)}function Zu(t){return t&&(t.nextProducerIndex=0),pe(t)}function Dp(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fa(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Xu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Tp(t){el(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(KE(n),r!==n.version))return!0}return!1}function Cp(t){if(el(t),Fa(t))for(let e=0;e<t.producerNode.length;e++)Xu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function JE(t,e,n){if(ZE(t),t.liveConsumerNode.length===0&&XE(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=JE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Xu(t,e){if(ZE(t),t.liveConsumerNode.length===1&&XE(t))for(let r=0;r<t.producerNode.length;r++)Xu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];el(i),i.producerIndexOfThis[r]=e}}function Fa(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function el(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ZE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function XE(t){return t.producerNode!==void 0}function eb(t){let e=Object.create(wx);e.computation=t;let n=()=>{if(KE(e),bp(e),e.value===Ju)throw e.error;return e.value};return n[Gn]=e,n}var Ip=Symbol("UNSET"),Ep=Symbol("COMPUTING"),Ju=Symbol("ERRORED"),wx=fe(k({},La),{value:Ip,dirty:!0,error:null,equal:GE,producerMustRecompute(t){return t.value===Ip||t.value===Ep},producerRecomputeValue(t){if(t.value===Ep)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ep;let n=Zu(t),r;try{r=t.computation()}catch(i){r=Ju,t.error=i}finally{Dp(t,n)}if(e!==Ip&&e!==Ju&&r!==Ju&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Ix(){throw new Error}var tb=Ix;function nb(){tb()}function rb(t){tb=t}var Ex=null;function ib(t){let e=Object.create(ob);e.value=t;let n=()=>(bp(e),e.value);return n[Gn]=e,n}function Sp(t,e){YE()||nb(),t.equal(t.value,e)||(t.value=e,bx(t))}function sb(t,e){YE()||nb(),Sp(t,e(t.value))}var ob=fe(k({},La),{equal:GE,value:void 0});function bx(t){t.version++,vx(),QE(t),Ex?.()}function ie(t){return typeof t=="function"}function Os(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var tl=Os(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ri(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ke=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(ie(r))try{r()}catch(s){e=s instanceof tl?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{ab(s)}catch(o){e=e??[],o instanceof tl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new tl(e)}}add(e){var n;if(e&&e!==this)if(this.closed)ab(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ri(n,e)}remove(e){let{_finalizers:n}=this;n&&Ri(n,e),e instanceof t&&e._removeParent(this)}};ke.EMPTY=(()=>{let t=new ke;return t.closed=!0,t})();var Ap=ke.EMPTY;function nl(t){return t instanceof ke||t&&"closed"in t&&ie(t.remove)&&ie(t.add)&&ie(t.unsubscribe)}function ab(t){ie(t)?t():t.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ks={setTimeout(t,e,...n){let{delegate:r}=ks;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ks;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function rl(t){ks.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(t);else throw t})}function Va(){}var cb=Rp("C",void 0,void 0);function ub(t){return Rp("E",void 0,t)}function lb(t){return Rp("N",t,void 0)}function Rp(t,e,n){return{kind:t,value:e,error:n}}var Ni=null;function Fs(t){if(un.useDeprecatedSynchronousErrorHandling){let e=!Ni;if(e&&(Ni={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ni;if(Ni=null,n)throw r}}else t()}function db(t){un.useDeprecatedSynchronousErrorHandling&&Ni&&(Ni.errorThrown=!0,Ni.error=t)}var Mi=class extends ke{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nl(e)&&e.add(this)):this.destination=Cx}static create(e,n,r){return new Ls(e,n,r)}next(e){this.isStopped?Mp(lb(e),this):this._next(e)}error(e){this.isStopped?Mp(ub(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Mp(cb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Dx=Function.prototype.bind;function Np(t,e){return Dx.call(t,e)}var xp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){il(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){il(r)}else il(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){il(n)}}},Ls=class extends Mi{constructor(e,n,r){super();let i;if(ie(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&un.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Np(e.next,s),error:e.error&&Np(e.error,s),complete:e.complete&&Np(e.complete,s)}):i=e}this.destination=new xp(i)}};function il(t){un.useDeprecatedSynchronousErrorHandling?db(t):rl(t)}function Tx(t){throw t}function Mp(t,e){let{onStoppedNotification:n}=un;n&&ks.setTimeout(()=>n(t,e))}var Cx={closed:!0,next:Va,error:Tx,complete:Va};var Vs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ht(t){return t}function sl(...t){return Pp(t)}function Pp(t){return t.length===0?Ht:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ce=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=Ax(n)?n:new Ls(n,r,i);return Fs(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=hb(r),new r((i,s)=>{let o=new Ls({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vs](){return this}pipe(...n){return Pp(n)(this)}toPromise(n){return n=hb(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function hb(t){var e;return(e=t??un.Promise)!==null&&e!==void 0?e:Promise}function Sx(t){return t&&ie(t.next)&&ie(t.error)&&ie(t.complete)}function Ax(t){return t&&t instanceof Mi||Sx(t)&&nl(t)}function Op(t){return ie(t?.lift)}function _e(t){return e=>{if(Op(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function me(t,e,n,r,i){return new kp(t,e,n,r,i)}var kp=class extends Mi{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Us(){return _e((t,e)=>{let n=null;t._refCount++;let r=me(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var js=class extends ce{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Op(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ke;let n=this.getSubject();e.add(this.source.subscribe(me(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ke.EMPTY)}return e}refCount(){return Us()(this)}};var fb=Os(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Qe=(()=>{class t extends ce{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new ol(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new fb}next(n){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?Ap:(this.currentObservers=null,s.push(n),new ke(()=>{this.currentObservers=null,Ri(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ce;return n.source=this,n}}return t.create=(e,n)=>new ol(e,n),t})(),ol=class extends Qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ap}};var it=class extends Qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Fp={now(){return(Fp.delegate||Date).now()},delegate:void 0};var al=class extends ke{constructor(e,n){super()}schedule(e,n=0){return this}};var Ua={setInterval(t,e,...n){let{delegate:r}=Ua;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Ua;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bs=class extends al{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Ua.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Ua.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ri(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $s=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$s.now=Fp.now;var Hs=class extends $s{constructor(e,n=$s.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Lp=new Hs(Bs);var cl=class extends Bs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var ul=class extends Hs{};var Vp=new ul(cl);var qt=new ce(t=>t.complete());function pb(t){return t&&ie(t.schedule)}function gb(t){return t[t.length-1]}function ll(t){return ie(gb(t))?t.pop():void 0}function kr(t){return pb(gb(t))?t.pop():void 0}function Up(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function yb(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(h){try{l(r.next(h))}catch(p){o(p)}}function u(h){try{l(r.throw(h))}catch(p){o(p)}}function l(h){h.done?s(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function mb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function xi(t){return this instanceof xi?(this.v=t,this):new xi(t)}function vb(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(y){return function(b){return Promise.resolve(b).then(y,p)}}function a(y,b){r[y]&&(i[y]=function(R){return new Promise(function(S,x){s.push([y,R,S,x])>1||u(y,R)})},b&&(i[y]=b(i[y])))}function u(y,b){try{l(r[y](b))}catch(R){m(s[0][3],R)}}function l(y){y.value instanceof xi?Promise.resolve(y.value.v).then(h,p):m(s[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,b){y(b),s.shift(),s.length&&u(s[0][0],s[0][1])}}function _b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof mb=="function"?mb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}}var dl=t=>t&&typeof t.length=="number"&&typeof t!="function";function hl(t){return ie(t?.then)}function fl(t){return ie(t[Vs])}function pl(t){return Symbol.asyncIterator&&ie(t?.[Symbol.asyncIterator])}function gl(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Rx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ml=Rx();function yl(t){return ie(t?.[ml])}function vl(t){return vb(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield xi(n.read());if(i)return yield xi(void 0);yield yield xi(r)}}finally{n.releaseLock()}})}function _l(t){return ie(t?.getReader)}function Ue(t){if(t instanceof ce)return t;if(t!=null){if(fl(t))return Nx(t);if(dl(t))return Mx(t);if(hl(t))return xx(t);if(pl(t))return wb(t);if(yl(t))return Px(t);if(_l(t))return Ox(t)}throw gl(t)}function Nx(t){return new ce(e=>{let n=t[Vs]();if(ie(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Mx(t){return new ce(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function xx(t){return new ce(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,rl)})}function Px(t){return new ce(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function wb(t){return new ce(e=>{kx(t,e).catch(n=>e.error(n))})}function Ox(t){return wb(vl(t))}function kx(t,e){var n,r,i,s;return yb(this,void 0,void 0,function*(){try{for(n=_b(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Mt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Fr(t,e=0){return _e((n,r)=>{n.subscribe(me(r,i=>Mt(r,t,()=>r.next(i),e),()=>Mt(r,t,()=>r.complete(),e),i=>Mt(r,t,()=>r.error(i),e)))})}function Lr(t,e=0){return _e((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Ib(t,e){return Ue(t).pipe(Lr(e),Fr(e))}function Eb(t,e){return Ue(t).pipe(Lr(e),Fr(e))}function bb(t,e){return new ce(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function Db(t,e){return new ce(n=>{let r;return Mt(n,e,()=>{r=t[ml](),Mt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>ie(r?.return)&&r.return()})}function wl(t,e){if(!t)throw new Error("Iterable cannot be null");return new ce(n=>{Mt(n,e,()=>{let r=t[Symbol.asyncIterator]();Mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Tb(t,e){return wl(vl(t),e)}function Cb(t,e){if(t!=null){if(fl(t))return Ib(t,e);if(dl(t))return bb(t,e);if(hl(t))return Eb(t,e);if(pl(t))return wl(t,e);if(yl(t))return Db(t,e);if(_l(t))return Tb(t,e)}throw gl(t)}function Se(t,e){return e?Cb(t,e):Ue(t)}function J(...t){let e=kr(t);return Se(t,e)}function qs(t,e){let n=ie(t)?t:()=>t,r=i=>i.error(n());return new ce(e?i=>e.schedule(r,0,i):r)}function jp(t){return!!t&&(t instanceof ce||ie(t.lift)&&ie(t.subscribe))}var Wn=Os(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Z(t,e){return _e((n,r)=>{let i=0;n.subscribe(me(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:Fx}=Array;function Lx(t,e){return Fx(e)?t(...e):t(e)}function Il(t){return Z(e=>Lx(t,e))}var{isArray:Vx}=Array,{getPrototypeOf:Ux,prototype:jx,keys:Bx}=Object;function El(t){if(t.length===1){let e=t[0];if(Vx(e))return{args:e,keys:null};if($x(e)){let n=Bx(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function $x(t){return t&&typeof t=="object"&&Ux(t)===jx}function bl(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function ja(...t){let e=kr(t),n=ll(t),{args:r,keys:i}=El(t);if(r.length===0)return Se([],e);let s=new ce(Hx(r,e,i?o=>bl(i,o):Ht));return n?s.pipe(Il(n)):s}function Hx(t,e,n=Ht){return r=>{Sb(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)Sb(e,()=>{let l=Se(t[u],e),h=!1;l.subscribe(me(r,p=>{s[u]=p,h||(h=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function Sb(t,e,n){t?Mt(n,t,e):e()}function Ab(t,e,n,r,i,s,o,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=R=>l<r?b(R):u.push(R),b=R=>{s&&e.next(R),l++;let S=!1;Ue(n(R,h++)).subscribe(me(e,x=>{i?.(x),s?y(x):e.next(x)},()=>{S=!0},void 0,()=>{if(S)try{for(l--;u.length&&l<r;){let x=u.shift();o?Mt(e,o,()=>b(x)):b(x)}m()}catch(x){e.error(x)}}))};return t.subscribe(me(e,y,()=>{p=!0,m()})),()=>{a?.()}}function je(t,e,n=1/0){return ie(e)?je((r,i)=>Z((s,o)=>e(r,s,i,o))(Ue(t(r,i))),n):(typeof e=="number"&&(n=e),_e((r,i)=>Ab(r,i,t,n)))}function zs(t=1/0){return je(Ht,t)}function Rb(){return zs(1)}function Gs(...t){return Rb()(Se(t,kr(t)))}function Dl(t){return new ce(e=>{Ue(t()).subscribe(e)})}function Bp(...t){let e=ll(t),{args:n,keys:r}=El(t),i=new ce(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,l=o;for(let h=0;h<o;h++){let p=!1;Ue(n[h]).subscribe(me(s,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||s.next(r?bl(r,a):a),s.complete())}))}});return e?i.pipe(Il(e)):i}function Dt(t,e){return _e((n,r)=>{let i=0;n.subscribe(me(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Vr(t){return _e((e,n)=>{let r=null,i=!1,s;r=e.subscribe(me(n,void 0,void 0,o=>{s=Ue(t(o,Vr(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function Nb(t,e,n,r,i){return(s,o)=>{let a=n,u=e,l=0;s.subscribe(me(o,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function Kn(t,e){return ie(e)?je(t,e,1):je(t,1)}function Ur(t){return _e((e,n)=>{let r=!1;e.subscribe(me(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Qn(t){return t<=0?()=>qt:_e((e,n)=>{let r=0;e.subscribe(me(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function $p(t){return Z(()=>t)}function Tl(t=qx){return _e((e,n)=>{let r=!1;e.subscribe(me(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function qx(){return new Wn}function Pi(t){return _e((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function _n(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,s)=>t(i,s,r)):Ht,Qn(1),n?Ur(e):Tl(()=>new Wn))}function Ws(t){return t<=0?()=>qt:_e((e,n)=>{let r=[];e.subscribe(me(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Hp(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Dt((i,s)=>t(i,s,r)):Ht,Ws(1),n?Ur(e):Tl(()=>new Wn))}function Cl(t,e){return _e(Nb(t,e,arguments.length>=2,!0))}function Sl(...t){let e=kr(t);return _e((n,r)=>{(e?Gs(t,n,e):Gs(t,n)).subscribe(r)})}function xt(t,e){return _e((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(me(r,u=>{i?.unsubscribe();let l=0,h=s++;Ue(t(u,h)).subscribe(i=me(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function qp(t){return _e((e,n)=>{Ue(t).subscribe(me(n,()=>n.complete(),Va)),!n.closed&&e.subscribe(n)})}function Be(t,e,n){let r=ie(t)||e||n?{next:t,error:e,complete:n}:t;return r?_e((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(me(s,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),s.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ht}var pD="https://g.co/ng/security#xss",W=class extends Error{constructor(e,n){super(cd(e,n)),this.code=e}};function cd(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function ec(t){return{toString:t}.toString()}var Al="__parameters__";function zx(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function gD(t,e,n){return ec(()=>{let r=zx(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,l,h){let p=u.hasOwnProperty(Al)?u[Al]:Object.defineProperty(u,Al,{value:[]})[Al];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var ki=globalThis;function Ae(t){for(let e in t)if(t[e]===Ae)return e;throw Error("Could not find renamed property on target object.")}function Gx(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ot(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ot).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Mb(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var Wx=Ae({__forward_ref__:Ae});function Cn(t){return t.__forward_ref__=Cn,t.toString=function(){return Ot(this())},t}function Tt(t){return mD(t)?t():t}function mD(t){return typeof t=="function"&&t.hasOwnProperty(Wx)&&t.__forward_ref__===Cn}function H(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function er(t){return{providers:t.providers||[],imports:t.imports||[]}}function ud(t){return xb(t,vD)||xb(t,_D)}function yD(t){return ud(t)!==null}function xb(t,e){return t.hasOwnProperty(e)?t[e]:null}function Kx(t){let e=t&&(t[vD]||t[_D]);return e||null}function Pb(t){return t&&(t.hasOwnProperty(Ob)||t.hasOwnProperty(Qx))?t[Ob]:null}var vD=Ae({\u0275prov:Ae}),Ob=Ae({\u0275inj:Ae}),_D=Ae({ngInjectableDef:Ae}),Qx=Ae({ngInjectorDef:Ae}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=H({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function wD(t){return t&&!!t.\u0275providers}var Yx=Ae({\u0275cmp:Ae}),Jx=Ae({\u0275dir:Ae}),Zx=Ae({\u0275pipe:Ae}),Xx=Ae({\u0275mod:Ae}),Ul=Ae({\u0275fac:Ae}),$a=Ae({__NG_ELEMENT_ID__:Ae}),kb=Ae({__NG_ENV_ID__:Ae});function eo(t){return typeof t=="string"?t:t==null?"":String(t)}function eP(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():eo(t)}function tP(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new W(-200,t)}function sm(t,e){throw new W(-201,!1)}var de=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(de||{}),og;function ID(){return og}function Pt(t){let e=og;return og=t,e}function ED(t,e,n){let r=ud(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&de.Optional)return null;if(e!==void 0)return e;sm(t,"Injector")}var nP={},Ha=nP,ag="__NG_DI_FLAG__",jl="ngTempTokenPath",rP="ngTokenPath",iP=/\n/gm,sP="\u0275",Fb="__source",Zs;function oP(){return Zs}function jr(t){let e=Zs;return Zs=t,e}function aP(t,e=de.Default){if(Zs===void 0)throw new W(-203,!1);return Zs===null?ED(t,void 0,e):Zs.get(t,e&de.Optional?null:void 0,e)}function z(t,e=de.Default){return(ID()||aP)(Tt(t),e)}function P(t,e=de.Default){return z(t,ld(e))}function ld(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function cg(t){let e=[];for(let n=0;n<t.length;n++){let r=Tt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new W(900,!1);let i,s=de.Default;for(let o=0;o<r.length;o++){let a=r[o],u=cP(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(z(i,s))}else e.push(z(r))}return e}function bD(t,e){return t[ag]=e,t.prototype[ag]=e,t}function cP(t){return t[ag]}function uP(t,e,n,r){let i=t[jl];throw e[Fb]&&i.unshift(e[Fb]),t.message=lP(`
`+t.message,i,n,r),t[rP]=i,t[jl]=null,t}function lP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==sP?t.slice(2):t;let i=Ot(e);if(Array.isArray(e))i=e.map(Ot).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ot(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(iP,`
  `)}`}var He=bD(gD("Optional"),8);var DD=bD(gD("SkipSelf"),4);function Li(t,e){let n=t.hasOwnProperty(Ul);return n?t[Ul]:null}function dP(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function hP(t){return t.flat(Number.POSITIVE_INFINITY)}function om(t,e){t.forEach(n=>Array.isArray(n)?om(n,e):e(n))}function TD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Bl(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function fP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function pP(t,e,n){let r=tc(t,e);return r>=0?t[r|1]=n:(r=~r,fP(t,r,e,n)),r}function zp(t,e){let n=tc(t,e);if(n>=0)return t[n|1]}function tc(t,e){return gP(t,e,1)}function gP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var to={},Jt=[],no=new $(""),CD=new $("",-1),SD=new $(""),$l=class{get(e,n=Ha){if(n===Ha){let r=new Error(`NullInjectorError: No provider for ${Ot(e)}!`);throw r.name="NullInjectorError",r}return n}},AD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(AD||{}),En=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(En||{}),Hr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Hr||{});function mP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function ug(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];yP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function RD(t){return t===3||t===4||t===6}function yP(t){return t.charCodeAt(0)===64}function qa(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Lb(t,n,i,null,e[++r]):Lb(t,n,i,null,null))}}return t}function Lb(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var ND="ng-template";function vP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&mP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(am(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function am(t){return t.type===4&&t.value!==ND}function _P(t,e,n){let r=t.type===4&&!n?ND:t.value;return e===r}function wP(t,e,n){let r=4,i=t.attrs,s=i!==null?bP(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!ln(r)&&!ln(u))return!1;if(o&&ln(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!_P(t,u,n)||u===""&&e.length===1){if(ln(r))return!1;o=!0}}else if(r&8){if(i===null||!vP(t,i,u,n)){if(ln(r))return!1;o=!0}}else{let l=e[++a],h=IP(u,i,am(t),n);if(h===-1){if(ln(r))return!1;o=!0;continue}if(l!==""){let p;if(h>s?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(ln(r))return!1;o=!0}}}}return ln(r)||o}function ln(t){return(t&1)===0}function IP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return DP(e,t)}function EP(t,e,n=!1){for(let r=0;r<e.length;r++)if(wP(t,e[r],n))return!0;return!1}function bP(t){for(let e=0;e<t.length;e++){let n=t[e];if(RD(n))return e}return t.length}function DP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Vb(t,e){return t?":not("+e.trim()+")":e}function TP(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!ln(o)&&(e+=Vb(s,i),i=""),r=o,s=s||!ln(r);n++}return i!==""&&(e+=Vb(s,i)),e}function CP(t){return t.map(TP).join(",")}function SP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!ln(i))break;i=s}r++}return{attrs:e,classes:n}}function Ye(t){return ec(()=>{let e=FD(t),n=fe(k({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===AD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||En.Emulated,styles:t.styles||Jt,_:null,schemas:t.schemas||null,tView:null,id:""});LD(n);let r=t.dependencies;return n.directiveDefs=jb(r,!1),n.pipeDefs=jb(r,!0),n.id=NP(n),n})}function AP(t){return qr(t)||xD(t)}function RP(t){return t!==null}function tr(t){return ec(()=>({type:t.type,bootstrap:t.bootstrap||Jt,declarations:t.declarations||Jt,imports:t.imports||Jt,exports:t.exports||Jt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ub(t,e){if(t==null)return to;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Hr.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Hr.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Je(t){return ec(()=>{let e=FD(t);return LD(e),e})}function MD(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function qr(t){return t[Yx]||null}function xD(t){return t[Jx]||null}function PD(t){return t[Zx]||null}function OD(t){let e=qr(t)||xD(t)||PD(t);return e!==null?e.standalone:!1}function kD(t,e){let n=t[Xx]||null;if(!n&&e===!0)throw new Error(`Type ${Ot(t)} does not have '\u0275mod' property.`);return n}function FD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||to,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Jt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ub(t.inputs,e),outputs:Ub(t.outputs),debugInfo:null}}function LD(t){t.features?.forEach(e=>e(t))}function jb(t,e){if(!t)return null;let n=e?PD:AP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(RP)}function NP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Ft(t){return{\u0275providers:t}}function MP(...t){return{\u0275providers:VD(!0,t),\u0275fromNgModule:!0}}function VD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return om(e,o=>{let a=o;lg(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&UD(i,s),n}function UD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];cm(i,s=>{e(s,r)})}}function lg(t,e,n,r){if(t=Tt(t),!t)return!1;let i=null,s=Pb(t),o=!s&&qr(t);if(!s&&!o){let u=t.ngModule;if(s=Pb(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let l of u)lg(l,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let l;try{om(s.imports,h=>{lg(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&UD(l,e)}if(!a){let l=Li(i)||(()=>new i);e({provide:i,useFactory:l,deps:Jt},i),e({provide:SD,useValue:i,multi:!0},i),e({provide:no,useValue:()=>z(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let l=t;cm(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function cm(t,e){for(let n of t)wD(n)&&(n=n.\u0275providers),Array.isArray(n)?cm(n,e):e(n)}var xP=Ae({provide:String,useValue:Ae});function jD(t){return t!==null&&typeof t=="object"&&xP in t}function PP(t){return!!(t&&t.useExisting)}function OP(t){return!!(t&&t.useFactory)}function ro(t){return typeof t=="function"}function kP(t){return!!t.useClass}var dd=new $(""),Pl={},FP={},Gp;function um(){return Gp===void 0&&(Gp=new $l),Gp}var Ct=class{},za=class extends Ct{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hg(e,o=>this.processProvider(o)),this.records.set(CD,Ks(void 0,this)),i.has("environment")&&this.records.set(Ct,Ks(void 0,this));let s=this.records.get(dd);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(SD,Jt,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=jr(this),r=Pt(void 0),i;try{return e()}finally{jr(n),Pt(r)}}get(e,n=Ha,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(kb))return e[kb](this);r=ld(r);let i,s=jr(this),o=Pt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=BP(e)&&ud(e);l&&this.injectableDefInScope(l)?u=Ks(dg(e),Pl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?um():this.parent;return n=r&de.Optional&&n===Ha?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[jl]=a[jl]||[]).unshift(Ot(e)),s)throw a;return uP(a,e,"R3InjectorError",this.source)}else throw a}finally{Pt(o),jr(s)}}resolveInjectorInitializers(){let e=pe(null),n=jr(this),r=Pt(void 0),i;try{let s=this.get(no,Jt,de.Self);for(let o of s)o()}finally{jr(n),Pt(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ot(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(e){e=Tt(e);let n=ro(e)?e:Tt(e&&e.provide),r=VP(e);if(!ro(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ks(void 0,Pl,!0),i.factory=()=>cg(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===Pl&&(n.value=FP,n.value=n.factory()),typeof n.value=="object"&&n.value&&jP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Tt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function dg(t){let e=ud(t),n=e!==null?e.factory:Li(t);if(n!==null)return n;if(t instanceof $)throw new W(204,!1);if(t instanceof Function)return LP(t);throw new W(204,!1)}function LP(t){if(t.length>0)throw new W(204,!1);let n=Kx(t);return n!==null?()=>n.factory(t):()=>new t}function VP(t){if(jD(t))return Ks(void 0,t.useValue);{let e=BD(t);return Ks(e,Pl)}}function BD(t,e,n){let r;if(ro(t)){let i=Tt(t);return Li(i)||dg(i)}else if(jD(t))r=()=>Tt(t.useValue);else if(OP(t))r=()=>t.useFactory(...cg(t.deps||[]));else if(PP(t))r=()=>z(Tt(t.useExisting));else{let i=Tt(t&&(t.useClass||t.provide));if(UP(t))r=()=>new i(...cg(t.deps));else return Li(i)||dg(i)}return r}function Ks(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function UP(t){return!!t.deps}function jP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function BP(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function hg(t,e){for(let n of t)Array.isArray(n)?hg(n,e):n&&wD(n)?hg(n.\u0275providers,e):e(n)}function Xt(t,e){t instanceof za&&t.assertNotDestroyed();let n,r=jr(t),i=Pt(void 0);try{return e()}finally{jr(r),Pt(i)}}function $D(){return ID()!==void 0||oP()!=null}function $P(t){if(!$D())throw new W(-203,!1)}function HP(t){return typeof t=="function"}var nr=0,ne=1,te=2,gt=3,dn=4,fn=5,Ga=6,Hl=7,ft=8,io=9,bn=10,$e=11,Wa=12,Bb=13,fo=14,hn=15,Vi=16,Qs=17,Yn=18,hd=19,HD=20,Br=21,Wp=22,Zt=23,kt=25,qD=1;var Ui=7,ql=8,so=9,pt=10,zl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(zl||{});function $r(t){return Array.isArray(t)&&typeof t[qD]=="object"}function rr(t){return Array.isArray(t)&&t[qD]===!0}function zD(t){return(t.flags&4)!==0}function fd(t){return t.componentOffset>-1}function lm(t){return(t.flags&1)===1}function zr(t){return!!t.template}function fg(t){return(t[te]&512)!==0}var pg=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function GD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Wr(){return WD}function WD(t){return t.type.prototype.ngOnChanges&&(t.setInput=zP),qP}Wr.ngInherit=!0;function qP(){let t=QD(this),e=t?.current;if(e){let n=t.previous;if(n===to)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function zP(t,e,n,r,i){let s=this.declaredInputs[r],o=QD(t)||GP(t,{previous:to,current:null}),a=o.current||(o.current={}),u=o.previous,l=u[s];a[s]=new pg(l&&l.currentValue,n,u===to),GD(t,e,i,n)}var KD="__ngSimpleChanges__";function QD(t){return t[KD]||null}function GP(t,e){return t[KD]=e}var $b=null;var wn=function(t,e,n){$b?.(t,e,n)},WP="svg",KP="math";function Dn(t){for(;Array.isArray(t);)t=t[nr];return t}function YD(t,e){return Dn(e[t])}function en(t,e){return Dn(e[t.index])}function dm(t,e){return t.data[e]}function JD(t,e){return t[e]}function Kr(t,e){let n=e[t];return $r(n)?n:n[nr]}function QP(t){return(t[te]&4)===4}function hm(t){return(t[te]&128)===128}function YP(t){return rr(t[gt])}function oo(t,e){return e==null?null:t[e]}function ZD(t){t[Qs]=0}function XD(t){t[te]&1024||(t[te]|=1024,hm(t)&&gd(t))}function JP(t,e){for(;t>0;)e=e[fo],t--;return e}function pd(t){return!!(t[te]&9216||t[Zt]?.dirty)}function gg(t){t[bn].changeDetectionScheduler?.notify(8),t[te]&64&&(t[te]|=1024),pd(t)&&gd(t)}function gd(t){t[bn].changeDetectionScheduler?.notify(0);let e=ji(t);for(;e!==null&&!(e[te]&8192||(e[te]|=8192,!hm(e)));)e=ji(e)}function eT(t,e){if((t[te]&256)===256)throw new W(911,!1);t[Br]===null&&(t[Br]=[]),t[Br].push(e)}function ZP(t,e){if(t[Br]===null)return;let n=t[Br].indexOf(e);n!==-1&&t[Br].splice(n,1)}function ji(t){let e=t[gt];return rr(e)?e[gt]:e}var le={lFrame:dT(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var tT=!1;function XP(){return le.lFrame.elementDepthCount}function eO(){le.lFrame.elementDepthCount++}function tO(){le.lFrame.elementDepthCount--}function nT(){return le.bindingsEnabled}function nO(){return le.skipHydrationRootTNode!==null}function rO(t){return le.skipHydrationRootTNode===t}function iO(){le.skipHydrationRootTNode=null}function ge(){return le.lFrame.lView}function Ze(){return le.lFrame.tView}function St(t){return le.lFrame.contextLView=t,t[ft]}function At(t){return le.lFrame.contextLView=null,t}function Rt(){let t=rT();for(;t!==null&&t.type===64;)t=t.parent;return t}function rT(){return le.lFrame.currentTNode}function sO(){let t=le.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function nc(t,e){let n=le.lFrame;n.currentTNode=t,n.isParent=e}function iT(){return le.lFrame.isParent}function oO(){le.lFrame.isParent=!1}function aO(){return le.lFrame.contextLView}function sT(){return tT}function Hb(t){tT=t}function oT(){let t=le.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function cO(){return le.lFrame.bindingIndex}function uO(t){return le.lFrame.bindingIndex=t}function po(){return le.lFrame.bindingIndex++}function aT(t){let e=le.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function lO(){return le.lFrame.inI18n}function dO(t,e){let n=le.lFrame;n.bindingIndex=n.bindingRootIndex=t,mg(e)}function hO(){return le.lFrame.currentDirectiveIndex}function mg(t){le.lFrame.currentDirectiveIndex=t}function fO(t){let e=le.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function cT(){return le.lFrame.currentQueryIndex}function fm(t){le.lFrame.currentQueryIndex=t}function pO(t){let e=t[ne];return e.type===2?e.declTNode:e.type===1?t[fn]:null}function uT(t,e,n){if(n&de.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&de.Host);)if(i=pO(s),i===null||(s=s[fo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=le.lFrame=lT();return r.currentTNode=e,r.lView=t,!0}function pm(t){let e=lT(),n=t[ne];le.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function lT(){let t=le.lFrame,e=t===null?null:t.child;return e===null?dT(t):e}function dT(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function hT(){let t=le.lFrame;return le.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var fT=hT;function gm(){let t=hT();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function gO(t){return(le.lFrame.contextLView=JP(t,le.lFrame.contextLView))[ft]}function Qr(){return le.lFrame.selectedIndex}function Bi(t){le.lFrame.selectedIndex=t}function md(){let t=le.lFrame;return dm(t.tView,t.selectedIndex)}function mO(){return le.lFrame.currentNamespace}var pT=!0;function mm(){return pT}function ym(t){pT=t}function yO(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=WD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function vm(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function Ol(t,e,n){gT(t,e,3,n)}function kl(t,e,n,r){(t[te]&3)===n&&gT(t,e,n,r)}function Kp(t,e){let n=t[te];(n&3)===e&&(n&=16383,n+=1,t[te]=n)}function gT(t,e,n,r){let i=r!==void 0?t[Qs]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Qs]+=65536),(a<s||s==-1)&&(vO(t,n,e,u),t[Qs]=(t[Qs]&4294901760)+u+2),u++}function qb(t,e){wn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),wn(5,t,e)}}function vO(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[te]>>14<t[Qs]>>16&&(t[te]&3)===e&&(t[te]+=16384,qb(a,s)):qb(a,s)}var Xs=-1,$i=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function _O(t){return t instanceof $i}function wO(t){return(t.flags&8)!==0}function IO(t){return(t.flags&16)!==0}var Qp={},yg=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=ld(r);let i=this.injector.get(e,Qp,r);return i!==Qp||n===Qp?i:this.parentInjector.get(e,n,r)}};function mT(t){return t!==Xs}function Gl(t){return t&32767}function EO(t){return t>>16}function Wl(t,e){let n=EO(t),r=e;for(;n>0;)r=r[fo],n--;return r}var vg=!0;function Kl(t){let e=vg;return vg=t,e}var bO=256,yT=bO-1,vT=5,DO=0,In={};function TO(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty($a)&&(r=n[$a]),r==null&&(r=n[$a]=DO++);let i=r&yT,s=1<<i;e.data[t+(i>>vT)]|=s}function Ql(t,e){let n=_T(t,e);if(n!==-1)return n;let r=e[ne];r.firstCreatePass&&(t.injectorIndex=e.length,Yp(r.data,t),Yp(e,null),Yp(r.blueprint,null));let i=_m(t,e),s=t.injectorIndex;if(mT(i)){let o=Gl(i),a=Wl(i,e),u=a[ne].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=i,s}function Yp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function _T(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function _m(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=DT(i),r===null)return Xs;if(n++,i=i[fo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xs}function _g(t,e,n){TO(t,e,n)}function CO(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(RD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function wT(t,e,n){if(n&de.Optional||t!==void 0)return t;sm(e,"NodeInjector")}function IT(t,e,n,r){if(n&de.Optional&&r===void 0&&(r=null),!(n&(de.Self|de.Host))){let i=t[io],s=Pt(void 0);try{return i?i.get(e,r,n&de.Optional):ED(e,r,n&de.Optional)}finally{Pt(s)}}return wT(r,e,n)}function ET(t,e,n,r=de.Default,i){if(t!==null){if(e[te]&2048&&!(r&de.Self)){let o=NO(t,e,n,r,In);if(o!==In)return o}let s=bT(t,e,n,r,In);if(s!==In)return s}return IT(e,n,r,i)}function bT(t,e,n,r,i){let s=AO(n);if(typeof s=="function"){if(!uT(e,t,r))return r&de.Host?wT(i,n,r):IT(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&de.Optional))sm(n);else return o}finally{fT()}}else if(typeof s=="number"){let o=null,a=_T(t,e),u=Xs,l=r&de.Host?e[hn][fn]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?_m(t,e):e[a+8],u===Xs||!Gb(r,!1)?a=-1:(o=e[ne],a=Gl(u),e=Wl(u,e)));a!==-1;){let h=e[ne];if(zb(s,a,h.data)){let p=SO(a,e,n,o,r,l);if(p!==In)return p}u=e[a+8],u!==Xs&&Gb(r,e[ne].data[a+8]===l)&&zb(s,a,e)?(o=h,a=Gl(u),e=Wl(u,e)):a=-1}}return i}function SO(t,e,n,r,i,s){let o=e[ne],a=o.data[t+8],u=r==null?fd(a)&&vg:r!=o&&(a.type&3)!==0,l=i&de.Host&&s===a,h=Fl(a,o,n,u,l);return h!==null?Hi(e,o,h,a):In}function Fl(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,l=t.directiveEnd,h=s>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let b=o[y];if(y<u&&n===b||y>=u&&b.type===n)return y}if(i){let y=o[u];if(y&&zr(y)&&y.type===n)return u}return null}function Hi(t,e,n,r){let i=t[n],s=e.data;if(_O(i)){let o=i;o.resolving&&tP(eP(s[n]));let a=Kl(o.canSeeViewProviders);o.resolving=!0;let u,l=o.injectImpl?Pt(o.injectImpl):null,h=uT(t,r,de.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&yO(n,s[n],e)}finally{l!==null&&Pt(l),Kl(a),o.resolving=!1,fT()}}return i}function AO(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty($a)?t[$a]:void 0;return typeof e=="number"?e>=0?e&yT:RO:e}function zb(t,e,n){let r=1<<t;return!!(n[e+(t>>vT)]&r)}function Gb(t,e){return!(t&de.Self)&&!(t&de.Host&&e)}var Fi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return ET(this._tNode,this._lView,e,ld(r),n)}};function RO(){return new Fi(Rt(),ge())}function ir(t){return ec(()=>{let e=t.prototype.constructor,n=e[Ul]||wg(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Ul]||wg(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function wg(t){return mD(t)?()=>{let e=wg(Tt(t));return e&&e()}:Li(t)}function NO(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[te]&2048&&!(o[te]&512);){let a=bT(s,o,n,r|de.Self,In);if(a!==In)return a;let u=s.parent;if(!u){let l=o[HD];if(l){let h=l.get(n,In,r);if(h!==In)return h}u=DT(o),o=o[fo]}s=u}return i}function DT(t){let e=t[ne],n=e.type;return n===2?e.declTNode:n===1?t[fn]:null}function wm(t){return CO(Rt(),t)}function Wb(t,e=null,n=null,r){let i=TT(t,e,n,r);return i.resolveInjectorInitializers(),i}function TT(t,e=null,n=null,r,i=new Set){let s=[n||Jt,MP(t)];return r=r||(typeof t=="object"?void 0:Ot(t)),new za(s,e||um(),r||null,i)}var Ke=class t{static{this.THROW_IF_NOT_FOUND=Ha}static{this.NULL=new $l}static create(e,n){if(Array.isArray(e))return Wb({name:""},n,e,"");{let r=e.name??"";return Wb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=H({token:t,providedIn:"any",factory:()=>z(CD)})}static{this.__NG_ELEMENT_ID__=-1}};var MO=new $("");MO.__NG_ELEMENT_ID__=t=>{let e=Rt();if(e===null)throw new W(204,!1);if(e.type&2)return e.value;if(t&de.Optional)return null;throw new W(204,!1)};var xO="ngOriginalError";function Jp(t){return t[xO]}var CT=!0,Im=(()=>{class t{static{this.__NG_ELEMENT_ID__=PO}static{this.__NG_ENV_ID__=n=>n}}return t})(),Ig=class extends Im{constructor(e){super(),this._lView=e}onDestroy(e){return eT(this._lView,e),()=>ZP(this._lView,e)}};function PO(){return new Ig(ge())}var Yr=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new it(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Eg=class extends Qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,$D()&&(this.destroyRef=P(Im,{optional:!0})??void 0,this.pendingTasks=P(Yr,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ke&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ve=Eg;function Yl(...t){}function ST(t){let e,n;function r(){t=Yl;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Kb(t){return queueMicrotask(()=>t()),()=>{t=Yl}}var Em="isAngularZone",Jl=Em+"_ID",OO=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ve(!1),this.onMicrotaskEmpty=new Ve(!1),this.onStable=new Ve(!1),this.onError=new Ve(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=CT}=e;if(typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,LO(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Em)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new W(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,kO,Yl,Yl);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},kO={};function bm(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function FO(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){ST(()=>{t.callbackScheduled=!1,bg(t),t.isCheckStableRunning=!0,bm(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),bg(t)}function LO(t){let e=()=>{FO(t)},n=OO++;t._inner=t._inner.fork({name:"angular",properties:{[Em]:!0,[Jl]:n,[Jl+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(VO(u))return r.invokeTask(s,o,a,u);try{return Qb(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Yb(t)}},onInvoke:(r,i,s,o,a,u,l)=>{try{return Qb(t),r.invoke(s,o,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!UO(u)&&e(),Yb(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,bg(t),bm(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function bg(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Qb(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Yb(t){t._nesting--,bm(t)}var Dg=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ve,this.onMicrotaskEmpty=new Ve,this.onStable=new Ve,this.onError=new Ve}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function VO(t){return AT(t,"__ignore_ng_zone__")}function UO(t){return AT(t,"__scheduler_tick__")}function AT(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Jn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Jp(e);for(;n&&Jp(n);)n=Jp(n);return n||null}},jO=new $("",{providedIn:"root",factory:()=>{let t=P(we),e=P(Jn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function BO(){return go(Rt(),ge())}function go(t,e){return new pn(en(t,e))}var pn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=BO}}return t})();function $O(t){return t instanceof pn?t.nativeElement:t}function HO(){return this._results[Symbol.iterator]()}var Tg=class t{get changes(){return this._changes??=new Ve}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let n=t.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=HO)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=hP(e);(this._changesDetected=!dP(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function RT(t){return(t.flags&128)===128}var NT=new Map,qO=0;function zO(){return qO++}function GO(t){NT.set(t[hd],t)}function Cg(t){NT.delete(t[hd])}var Jb="__ngContext__";function qi(t,e){$r(e)?(t[Jb]=e[hd],GO(e)):t[Jb]=e}function MT(t){return PT(t[Wa])}function xT(t){return PT(t[dn])}function PT(t){for(;t!==null&&!rr(t);)t=t[dn];return t}var Sg;function OT(t){Sg=t}function WO(){if(Sg!==void 0)return Sg;if(typeof document<"u")return document;throw new W(210,!1)}var Dm=new $("",{providedIn:"root",factory:()=>KO}),KO="ng",Tm=new $(""),tn=new $("",{providedIn:"platform",factory:()=>"unknown"});var Cm=new $("",{providedIn:"root",factory:()=>WO().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var QO="h",YO="b";var JO=()=>null;function Sm(t,e,n=!1){return JO(t,e,n)}var kT=!1,ZO=new $("",{providedIn:"root",factory:()=>kT});var Rl;function XO(){if(Rl===void 0&&(Rl=null,ki.trustedTypes))try{Rl=ki.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Rl}function Zb(t){return XO()?.createScriptURL(t)||t}var Zl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${pD})`}};function rc(t){return t instanceof Zl?t.changingThisBreaksApplicationSecurity:t}function Am(t,e){let n=ek(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${pD})`)}return n===e}function ek(t){return t instanceof Zl&&t.getTypeName()||null}var tk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function FT(t){return t=String(t),t.match(tk)?t:"unsafe:"+t}var yd=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(yd||{});function nk(t){let e=VT();return e?e.sanitize(yd.URL,t)||"":Am(t,"URL")?rc(t):FT(eo(t))}function rk(t){let e=VT();if(e)return Zb(e.sanitize(yd.RESOURCE_URL,t)||"");if(Am(t,"ResourceURL"))return Zb(rc(t));throw new W(904,!1)}function ik(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?rk:nk}function LT(t,e,n){return ik(e,n)(t)}function VT(){let t=ge();return t&&t[bn].sanitizer}function UT(t){return t instanceof Function?t():t}function sk(t){return(t??P(Ke)).get(tn)==="browser"}var Zn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Zn||{}),ok;function Rm(t,e){return ok(t,e)}function Ys(t,e,n,r,i){if(r!=null){let s,o=!1;rr(r)?s=r:$r(r)&&(o=!0,r=r[nr]);let a=Dn(r);t===0&&n!==null?i==null?HT(e,n,a):Xl(e,n,a,i||null,!0):t===1&&n!==null?Xl(e,n,a,i||null,!0):t===2?Ik(e,a,o):t===3&&e.destroyNode(a),s!=null&&bk(e,t,s,n,i)}}function ak(t,e){return t.createText(e)}function ck(t,e,n){t.setValue(e,n)}function jT(t,e,n){return t.createElement(e,n)}function uk(t,e){BT(t,e),e[nr]=null,e[fn]=null}function lk(t,e,n,r,i,s){r[nr]=i,r[fn]=e,_d(t,r,n,1,i,s)}function BT(t,e){e[bn].changeDetectionScheduler?.notify(9),_d(t,e,e[$e],2,null,null)}function dk(t){let e=t[Wa];if(!e)return Zp(t[ne],t);for(;e;){let n=null;if($r(e))n=e[Wa];else{let r=e[pt];r&&(n=r)}if(!n){for(;e&&!e[dn]&&e!==t;)$r(e)&&Zp(e[ne],e),e=e[gt];e===null&&(e=t),$r(e)&&Zp(e[ne],e),n=e&&e[dn]}e=n}}function hk(t,e,n,r){let i=pt+r,s=n.length;r>0&&(n[i-1][dn]=e),r<s-pt?(e[dn]=n[i],TD(n,pt+r,e)):(n.push(e),e[dn]=null),e[gt]=n;let o=e[Vi];o!==null&&n!==o&&$T(o,e);let a=e[Yn];a!==null&&a.insertView(t),gg(e),e[te]|=128}function $T(t,e){let n=t[so],r=e[gt];if($r(r))t[te]|=zl.HasTransplantedViews;else{let i=r[gt][hn];e[hn]!==i&&(t[te]|=zl.HasTransplantedViews)}n===null?t[so]=[e]:n.push(e)}function Nm(t,e){let n=t[so],r=n.indexOf(e);n.splice(r,1)}function Ka(t,e){if(t.length<=pt)return;let n=pt+e,r=t[n];if(r){let i=r[Vi];i!==null&&i!==t&&Nm(i,r),e>0&&(t[n-1][dn]=r[dn]);let s=Bl(t,pt+e);uk(r[ne],r);let o=s[Yn];o!==null&&o.detachView(s[ne]),r[gt]=null,r[dn]=null,r[te]&=-129}return r}function vd(t,e){if(!(e[te]&256)){let n=e[$e];n.destroyNode&&_d(t,e,n,3,null,null),dk(e)}}function Zp(t,e){if(e[te]&256)return;let n=pe(null);try{e[te]&=-129,e[te]|=256,e[Zt]&&Cp(e[Zt]),pk(t,e),fk(t,e),e[ne].type===1&&e[$e].destroy();let r=e[Vi];if(r!==null&&rr(e[gt])){r!==e[gt]&&Nm(r,e);let i=e[Yn];i!==null&&i.detachView(t)}Cg(e)}finally{pe(n)}}function fk(t,e){let n=t.cleanup,r=e[Hl];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[Hl]=null);let i=e[Br];if(i!==null){e[Br]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function pk(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof $i)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];wn(4,a,u);try{u.call(a)}finally{wn(5,a,u)}}else{wn(4,i,s);try{s.call(i)}finally{wn(5,i,s)}}}}}function gk(t,e,n){return mk(t,e.parent,n)}function mk(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[nr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===En.None||s===En.Emulated)return null}return en(r,n)}}function Xl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HT(t,e,n){t.appendChild(e,n)}function Xb(t,e,n,r,i){r!==null?Xl(t,e,n,r,i):HT(t,e,n)}function qT(t,e){return t.parentNode(e)}function yk(t,e){return t.nextSibling(e)}function vk(t,e,n){return wk(t,e,n)}function _k(t,e,n){return t.type&40?en(t,n):null}var wk=_k,eD;function Mm(t,e,n,r){let i=gk(t,r,e),s=e[$e],o=r.parent||e[fn],a=vk(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Xb(s,i,n[u],a,!1);else Xb(s,i,n,a,!1);eD!==void 0&&eD(s,r,e,n,i)}function Ba(t,e){if(e!==null){let n=e.type;if(n&3)return en(e,t);if(n&4)return Ag(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ba(t,r);{let i=t[e.index];return rr(i)?Ag(-1,i):Dn(i)}}else{if(n&128)return Ba(t,e.next);if(n&32)return Rm(e,t)()||Dn(t[e.index]);{let r=zT(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ji(t[hn]);return Ba(i,r)}else return Ba(t,e.next)}}}return null}function zT(t,e){if(e!==null){let r=t[hn][fn],i=e.projection;return r.projection[i]}return null}function Ag(t,e){let n=pt+t+1;if(n<e.length){let r=e[n],i=r[ne].firstChild;if(i!==null)return Ba(r,i)}return e[Ui]}function Ik(t,e,n){t.removeChild(null,e,n)}function xm(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&qi(Dn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)xm(t,e,n.child,r,i,s,!1),Ys(e,t,i,a,s);else if(u&32){let l=Rm(n,r),h;for(;h=l();)Ys(e,t,i,h,s);Ys(e,t,i,a,s)}else u&16?Ek(t,e,r,n,i,s):Ys(e,t,i,a,s);n=o?n.projectionNext:n.next}}function _d(t,e,n,r,i,s){xm(n,r,t.firstChild,e,i,s,!1)}function Ek(t,e,n,r,i,s){let o=n[hn],u=o[fn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Ys(e,t,i,h,s)}else{let l=u,h=o[gt];RT(r)&&(l.flags|=128),xm(t,e,l,h,i,s,!0)}}function bk(t,e,n,r,i){let s=n[Ui],o=Dn(n);s!==o&&Ys(e,t,r,s,i);for(let a=pt;a<n.length;a++){let u=n[a];_d(u[ne],u,t,e,r,s)}}function Dk(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Zn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Zn.Important),t.setStyle(n,r,i,s))}}function Tk(t,e,n){t.setAttribute(e,"style",n)}function GT(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function WT(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&ug(t,e,r),i!==null&&GT(t,e,i),s!==null&&Tk(t,e,s)}var nn={};function se(t=1){KT(Ze(),ge(),Qr()+t,!1)}function KT(t,e,n,r){if(!r)if((e[te]&3)===3){let s=t.preOrderCheckHooks;s!==null&&Ol(e,s,n)}else{let s=t.preOrderHooks;s!==null&&kl(e,s,0,n)}Bi(n)}function oe(t,e=de.Default){let n=ge();if(n===null)return z(t,e);let r=Rt();return ET(r,n,Tt(t),e)}function QT(){let t="invalid";throw new Error(t)}function YT(t,e,n,r,i,s){let o=pe(null);try{let a=null;i&Hr.SignalBased&&(a=e[r][Gn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Hr.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):GD(e,a,r,s)}finally{pe(o)}}function Ck(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Bi(~i);else{let s=i,o=n[++r],a=n[++r];dO(o,s);let u=e[s];a(2,u)}}}finally{Bi(-1)}}function wd(t,e,n,r,i,s,o,a,u,l,h){let p=e.blueprint.slice();return p[nr]=i,p[te]=r|4|128|8|64,(l!==null||t&&t[te]&2048)&&(p[te]|=2048),ZD(p),p[gt]=p[fo]=t,p[ft]=n,p[bn]=o||t&&t[bn],p[$e]=a||t&&t[$e],p[io]=u||t&&t[io]||null,p[fn]=s,p[hd]=zO(),p[Ga]=h,p[HD]=l,p[hn]=e.type==2?t[hn]:p,p}function Id(t,e,n,r,i){let s=t.data[e];if(s===null)s=Sk(t,e,n,r,i),lO()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=sO();s.injectorIndex=o===null?-1:o.injectorIndex}return nc(s,!0),s}function Sk(t,e,n,r,i){let s=rT(),o=iT(),a=o?s:s&&s.parent,u=t.data[e]=Pk(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function JT(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function ZT(t,e,n,r,i){let s=Qr(),o=r&2;try{Bi(-1),o&&e.length>kt&&KT(t,e,kt,!1),wn(o?2:0,i),n(r,i)}finally{Bi(s),wn(o?3:1,i)}}function XT(t,e,n){if(zD(e)){let r=pe(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{pe(r)}}}function eC(t,e,n){nT()&&(Uk(t,e,n,en(n,e)),(n.flags&64)===64&&sC(t,e,n))}function tC(t,e,n=en){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function nC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Pm(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Pm(t,e,n,r,i,s,o,a,u,l,h){let p=kt+r,m=p+i,y=Ak(p,m),b=typeof l=="function"?l():l;return y[ne]={type:t,blueprint:y,template:n,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:b,incompleteFirstPass:!1,ssrId:h}}function Ak(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:nn);return n}function Rk(t,e,n,r){let s=r.get(ZO,kT)||n===En.ShadowDom,o=t.selectRootElement(e,s);return Nk(o),o}function Nk(t){Mk(t)}var Mk=()=>null;function xk(t,e,n,r){let i=cC(e);i.push(n),t.firstCreatePass&&uC(t).push(r,i.length-1)}function Pk(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return nO()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tD(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Hr.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let l=s;if(i!==null){if(!i.hasOwnProperty(s))continue;l=i[s]}t===0?nD(r,n,l,a,u):nD(r,n,l,a)}return r}function nD(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function Ok(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=s[h],m=n?n.get(p):null,y=m?m.inputs:null,b=m?m.outputs:null;u=tD(0,p.inputs,h,u,y),l=tD(1,p.outputs,h,l,b);let R=u!==null&&o!==null&&!am(e)?Yk(u,h,o):null;a.push(R)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function kk(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Om(t,e,n,r,i,s,o,a){let u=en(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(km(t,n,h,r,i),fd(e)&&Fk(n,e.index)):e.type&3?(r=kk(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function Fk(t,e){let n=Kr(e,t);n[te]&16||(n[te]|=64)}function rC(t,e,n,r){if(nT()){let i=r===null?null:{"":-1},s=Bk(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&iC(t,e,n,o,i,a),i&&$k(n,r,i)}n.mergedAttrs=qa(n.mergedAttrs,n.attrs)}function iC(t,e,n,r,i,s){for(let l=0;l<r.length;l++)_g(Ql(n,e),t,r[l].type);qk(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let o=!1,a=!1,u=JT(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=qa(n.mergedAttrs,h.hostAttrs),zk(t,n,e,u,h),Hk(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!o&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}Ok(t,n,s)}function Lk(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;Vk(o)!=a&&o.push(a),o.push(n,r,s)}}function Vk(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function Uk(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;fd(n)&&Gk(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Ql(n,e),qi(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],l=Hi(e,t,a,n);if(qi(l,e),o!==null&&Qk(e,a-i,l,u,n,o),zr(u)){let h=Kr(n.index,e);h[ft]=Hi(e,t,a,n)}}}function sC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=hO();try{Bi(s);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];mg(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&jk(u,l)}}finally{Bi(-1),mg(o)}}function jk(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function Bk(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(EP(e,o.selectors,!1))if(r||(r=[]),zr(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Rg(t,e,u)}else r.unshift(o),Rg(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Rg(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function $k(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new W(-301,!1);r.push(e[i],s)}}}function Hk(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;zr(e)&&(n[""]=t)}}function qk(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function zk(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=Li(i.type,!0)),o=new $i(s,zr(i),oe);t.blueprint[r]=o,n[r]=o,Lk(t,e,r,JT(t,n,i.hostVars,nn),i)}function Gk(t,e,n){let r=en(e,t),i=nC(n),s=t[bn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=Ed(t,wd(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function Wk(t,e,n,r,i,s){let o=en(t,e);Kk(e[$e],o,s,t.value,n,r,i)}function Kk(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?eo(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function Qk(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],l=o[a++],h=o[a++],p=o[a++];YT(r,n,u,l,h,p)}}function Yk(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function oC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function aC(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];fm(s),a.contentQueries(2,e[o],o)}}}finally{pe(r)}}}function Ed(t,e){return t[Wa]?t[Bb][dn]=e:t[Wa]=e,t[Bb]=e,e}function Ng(t,e,n){fm(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function cC(t){return t[Hl]??=[]}function uC(t){return t.cleanup??=[]}function lC(t,e){let n=t[io],r=n?n.get(Jn,null):null;r&&r.handleError(e)}function km(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],l=e[o],h=t.data[o];YT(h,l,r,a,u,i)}}function dC(t,e,n){let r=YD(e,t);ck(t[$e],r,n)}function Jk(t,e){let n=Kr(e,t),r=n[ne];Zk(r,n);let i=n[nr];i!==null&&n[Ga]===null&&(n[Ga]=Sm(i,n[io])),Fm(r,n,n[ft])}function Zk(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Fm(t,e,n){pm(e);try{let r=t.viewQuery;r!==null&&Ng(1,r,n);let i=t.template;i!==null&&ZT(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Yn]?.finishViewCreation(t),t.staticContentQueries&&aC(t,e),t.staticViewQueries&&Ng(2,t.viewQuery,n);let s=t.components;s!==null&&Xk(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[te]&=-5,gm()}}function Xk(t,e){for(let n=0;n<e.length;n++)Jk(t,e[n])}function bd(t,e,n,r){let i=pe(null);try{let s=e.tView,a=t[te]&4096?4096:16,u=wd(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[Vi]=l;let h=t[Yn];return h!==null&&(u[Yn]=h.createEmbeddedView(s)),Fm(s,u,n),u}finally{pe(i)}}function hC(t,e){let n=pt+e;if(n<t.length)return t[n]}function Qa(t,e){return!e||e.firstChild===null||RT(t)}function Dd(t,e,n,r=!0){let i=e[ne];if(hk(i,e,t,n),r){let o=Ag(n,t),a=e[$e],u=qT(a,t[Ui]);u!==null&&lk(i,t[fn],a,e,u,o)}let s=e[Ga];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function fC(t,e){let n=Ka(t,e);return n!==void 0&&vd(n[ne],n),n}function ed(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Dn(s)),rr(s)&&e1(s,r);let o=n.type;if(o&8)ed(t,e,n.child,r);else if(o&32){let a=Rm(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=zT(e,n);if(Array.isArray(a))r.push(...a);else{let u=ji(e[hn]);ed(u[ne],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function e1(t,e){for(let n=pt;n<t.length;n++){let r=t[n],i=r[ne].firstChild;i!==null&&ed(r[ne],r,i,e)}t[Ui]!==t[nr]&&e.push(t[Ui])}var pC=[];function t1(t){return t[Zt]??n1(t)}function n1(t){let e=pC.pop()??Object.create(i1);return e.lView=t,e}function r1(t){t.lView[Zt]!==t&&(t.lView=null,pC.push(t))}var i1=fe(k({},La),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{gd(t.lView)},consumerOnSignalRead(){this.lView[Zt]=this}});function s1(t){let e=t[Zt]??Object.create(o1);return e.lView=t,e}var o1=fe(k({},La),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=ji(t.lView);for(;e&&!gC(e[ne]);)e=ji(e);e&&XD(e)},consumerOnSignalRead(){this.lView[Zt]=this}});function gC(t){return t.type!==2}var a1=100;function mC(t,e=!0,n=0){let r=t[bn],i=r.rendererFactory,s=!1;s||i.begin?.();try{c1(t,n)}catch(o){throw e&&lC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function c1(t,e){let n=sT();try{Hb(!0),Mg(t,e);let r=0;for(;pd(t);){if(r===a1)throw new W(103,!1);r++,Mg(t,1)}}finally{Hb(n)}}function u1(t,e,n,r){let i=e[te];if((i&256)===256)return;let s=!1,o=!1;!s&&e[bn].inlineEffectRunner?.flush(),pm(e);let a=!0,u=null,l=null;s||(gC(t)?(l=t1(e),u=Zu(l)):WE()===null?(a=!1,l=s1(e),u=Zu(l)):e[Zt]&&(Cp(e[Zt]),e[Zt]=null));try{ZD(e),uO(t.bindingStartIndex),n!==null&&ZT(t,e,n,2,r);let h=(i&3)===3;if(!s)if(h){let y=t.preOrderCheckHooks;y!==null&&Ol(e,y,null)}else{let y=t.preOrderHooks;y!==null&&kl(e,y,0,null),Kp(e,0)}if(o||l1(e),yC(e,0),t.contentQueries!==null&&aC(t,e),!s)if(h){let y=t.contentCheckHooks;y!==null&&Ol(e,y)}else{let y=t.contentHooks;y!==null&&kl(e,y,1),Kp(e,1)}Ck(t,e);let p=t.components;p!==null&&_C(e,p,0);let m=t.viewQuery;if(m!==null&&Ng(2,m,r),!s)if(h){let y=t.viewCheckHooks;y!==null&&Ol(e,y)}else{let y=t.viewHooks;y!==null&&kl(e,y,2),Kp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Wp]){for(let y of e[Wp])y();e[Wp]=null}s||(e[te]&=-73)}catch(h){throw s||gd(e),h}finally{l!==null&&(Dp(l,u),a&&r1(l)),gm()}}function yC(t,e){for(let n=MT(t);n!==null;n=xT(n))for(let r=pt;r<n.length;r++){let i=n[r];vC(i,e)}}function l1(t){for(let e=MT(t);e!==null;e=xT(e)){if(!(e[te]&zl.HasTransplantedViews))continue;let n=e[so];for(let r=0;r<n.length;r++){let i=n[r];XD(i)}}}function d1(t,e,n){let r=Kr(e,t);vC(r,n)}function vC(t,e){hm(t)&&Mg(t,e)}function Mg(t,e){let r=t[ne],i=t[te],s=t[Zt],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Tp(s)),o||=!1,s&&(s.dirty=!1),t[te]&=-9217,o)u1(r,t,r.template,t[ft]);else if(i&8192){yC(t,1);let a=r.components;a!==null&&_C(t,a,1)}}function _C(t,e,n){for(let r=0;r<e.length;r++)d1(t,e[r],n)}function Lm(t,e){let n=sT()?64:1088;for(t[bn].changeDetectionScheduler?.notify(e);t;){t[te]|=n;let r=ji(t);if(fg(t)&&!r)return t;t=r}return null}var zi=class{get rootNodes(){let e=this._lView,n=e[ne];return ed(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ft]}set context(e){this._lView[ft]=e}get destroyed(){return(this._lView[te]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[gt];if(rr(e)){let n=e[ql],r=n?n.indexOf(this):-1;r>-1&&(Ka(e,r),Bl(n,r))}this._attachedToViewContainer=!1}vd(this._lView[ne],this._lView)}onDestroy(e){eT(this._lView,e)}markForCheck(){Lm(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[te]&=-129}reattach(){gg(this._lView),this._lView[te]|=128}detectChanges(){this._lView[te]|=1024,mC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=fg(this._lView),n=this._lView[Vi];n!==null&&!e&&Nm(n,this._lView),BT(this._lView[ne],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=e;let n=fg(this._lView),r=this._lView[Vi];r!==null&&!n&&$T(r,this._lView),gg(this._lView)}},Ya=(()=>{class t{static{this.__NG_ELEMENT_ID__=p1}}return t})(),h1=Ya,f1=class extends h1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=bd(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new zi(i)}};function p1(){return Vm(Rt(),ge())}function Vm(t,e){return t.type&4?new f1(e,t,go(t,e)):null}var w5=new RegExp(`^(\\d+)*(${YO}|${QO})*(.*)`);var g1=()=>null;function Ja(t,e){return g1(t,e)}var ao=class{},Td=new $("",{providedIn:"root",factory:()=>!1});var wC=new $(""),IC=new $(""),xg=class{},td=class{};function m1(t){let e=Error(`No component factory found for ${Ot(t)}.`);return e[y1]=t,e}var y1="ngComponent";var Pg=class{resolveComponentFactory(e){throw m1(e)}},co=class{static{this.NULL=new Pg}},uo=class{},Wi=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>v1()}}return t})();function v1(){let t=ge(),e=Rt(),n=Kr(e.index,t);return($r(n)?n:t)[$e]}var _1=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>null})}}return t})();function Og(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=Mb(i,a);else if(s==2){let u=a,l=e[++o];r=Mb(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var nd=class extends co{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=qr(e);return new lo(n,this.ngModule)}};function rD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Hr.None;e?n.push({propName:o,templateName:r,isSignal:(a&Hr.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function w1(t){let e=t.toLowerCase();return e==="svg"?WP:e==="math"?KP:null}var lo=class extends td{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=rD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return rD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=CP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=pe(null);try{i=i||this.ngModule;let o=i instanceof Ct?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new yg(e,o):e,u=a.get(uo,null);if(u===null)throw new W(407,!1);let l=a.get(_1,null),h=a.get(ao,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),y=this.componentDef.selectors[0][0]||"div",b=r?Rk(m,r,this.componentDef.encapsulation,a):jT(m,y,w1(y)),R=512;this.componentDef.signals?R|=4096:this.componentDef.onPush||(R|=16);let S=null;b!==null&&(S=Sm(b,a,!0));let x=Pm(0,null,null,1,0,null,null,null,null,null,null),j=wd(null,x,null,R,null,null,p,m,a,null,S);pm(j);let V,G,he=null;try{let Q=this.componentDef,E,v=null;Q.findHostDirectiveDefs?(E=[],v=new Map,Q.findHostDirectiveDefs(Q,E,v),E.push(Q)):E=[Q];let _=I1(j,b);he=E1(_,b,Q,E,j,p,m),G=dm(x,kt),b&&T1(m,Q,b,r),n!==void 0&&C1(G,this.ngContentSelectors,n),V=D1(he,Q,E,v,j,[S1]),Fm(x,j,null)}catch(Q){throw he!==null&&Cg(he),Cg(j),Q}finally{gm()}return new kg(this.componentType,V,go(G,j),j,G)}finally{pe(s)}}},kg=class extends xg{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new zi(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;km(s[ne],s,i,e,n),this.previousInputValues.set(e,n);let o=Kr(this._tNode.index,s);Lm(o,1)}}get injector(){return new Fi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function I1(t,e){let n=t[ne],r=kt;return t[r]=e,Id(n,r,2,"#host",null)}function E1(t,e,n,r,i,s,o){let a=i[ne];b1(r,t,e,o);let u=null;e!==null&&(u=Sm(e,i[io]));let l=s.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=wd(i,nC(n),null,h,i[t.index],t,s,l,null,null,u);return a.firstCreatePass&&Rg(a,t,r.length-1),Ed(i,p),i[t.index]=p}function b1(t,e,n,r){for(let i of t)e.mergedAttrs=qa(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Og(e,e.mergedAttrs,!0),n!==null&&WT(r,n,e))}function D1(t,e,n,r,i,s){let o=Rt(),a=i[ne],u=en(o,i);iC(a,i,o,n,null,r);for(let h=0;h<n.length;h++){let p=o.directiveStart+h,m=Hi(i,a,p,o);qi(m,i)}sC(a,i,o),u&&qi(u,i);let l=Hi(i,a,o.directiveStart+o.componentOffset,o);if(t[ft]=i[ft]=l,s!==null)for(let h of s)h(l,e);return XT(a,o,i),l}function T1(t,e,n,r){if(r)ug(t,n,["ng-version","18.2.10"]);else{let{attrs:i,classes:s}=SP(e.selectors[0]);i&&ug(t,n,i),s&&s.length>0&&GT(t,n,s.join(" "))}}function C1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function S1(){let t=Rt();vm(ge()[ne],t)}var mo=(()=>{class t{static{this.__NG_ELEMENT_ID__=A1}}return t})();function A1(){let t=Rt();return bC(t,ge())}var R1=mo,EC=class extends R1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return go(this._hostTNode,this._hostLView)}get injector(){return new Fi(this._hostTNode,this._hostLView)}get parentInjector(){let e=_m(this._hostTNode,this._hostLView);if(mT(e)){let n=Wl(e,this._hostLView),r=Gl(e),i=n[ne].data[r+8];return new Fi(i,n)}else return new Fi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=iD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-pt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ja(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Qa(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!HP(e),a;if(o)a=n;else{let b=n||{};a=b.index,r=b.injector,i=b.projectableNodes,s=b.environmentInjector||b.ngModuleRef}let u=o?e:new lo(qr(e)),l=r||this.parentInjector;if(!s&&u.ngModule==null){let R=(o?l:this.parentInjector).get(Ct,null);R&&(s=R)}let h=qr(u.componentType??{}),p=Ja(this._lContainer,h?.id??null),m=p?.firstChild??null,y=u.create(l,i,m,s);return this.insertImpl(y.hostView,a,Qa(this._hostTNode,p)),y}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(YP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[gt],l=new EC(u,u[fn],u[gt]);l.detach(l.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return Dd(o,i,s,r),e.attachToViewContainerRef(),TD(Xp(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=iD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Ka(this._lContainer,n);r&&(Bl(Xp(this._lContainer),n),vd(r[ne],r))}detach(e){let n=this._adjustIndex(e,-1),r=Ka(this._lContainer,n);return r&&Bl(Xp(this._lContainer),n)!=null?new zi(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function iD(t){return t[ql]}function Xp(t){return t[ql]||(t[ql]=[])}function bC(t,e){let n,r=e[t.index];return rr(r)?n=r:(n=oC(r,e,null,t),e[t.index]=n,Ed(e,n)),M1(n,e,t,r),new EC(n,t,e)}function N1(t,e){let n=t[$e],r=n.createComment(""),i=en(e,t),s=qT(n,i);return Xl(n,s,r,yk(n,i),!1),r}var M1=O1,x1=()=>!1;function P1(t,e,n){return x1(t,e,n)}function O1(t,e,n,r){if(t[Ui])return;let i;n.type&8?i=Dn(r):i=N1(e,n),t[Ui]=i}var Fg=class t{constructor(e){this.queryList=e,this.matches=null}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Lg=class t{constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)Um(e,n).matches!==null&&this.queries[n].setDirty()}},Vg=class{constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=$1(e):this.predicate=e}},Ug=class t{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},jg=class t{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,k1(n,s)),this.matchTNodeWithReadOption(e,n,Fl(n,e,s,!1,!1))}else r===Ya?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Fl(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===pn||i===mo||i===Ya&&n.type&4)this.addMatch(n.index,-2);else{let s=Fl(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function k1(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function F1(t,e){return t.type&11?go(t,e):t.type&4?Vm(t,e):null}function L1(t,e,n,r){return n===-1?F1(e,t):n===-2?V1(t,e,r):Hi(t,t[ne],n,e)}function V1(t,e,n){if(n===pn)return go(e,t);if(n===Ya)return Vm(e,t);if(n===mo)return bC(e,t)}function DC(t,e,n,r){let i=e[Yn].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let u=0;o!==null&&u<o.length;u+=2){let l=o[u];if(l<0)a.push(null);else{let h=s[l];a.push(L1(e,h,o[u+1],n.metadata.read))}}i.matches=a}return i.matches}function Bg(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=DC(t,e,i,n);for(let a=0;a<s.length;a+=2){let u=s[a];if(u>0)r.push(o[a/2]);else{let l=s[a+1],h=e[-u];for(let p=pt;p<h.length;p++){let m=h[p];m[Vi]===m[gt]&&Bg(m[ne],m,l,r)}if(h[so]!==null){let p=h[so];for(let m=0;m<p.length;m++){let y=p[m];Bg(y[ne],y,l,r)}}}}}return r}function U1(t,e){return t[Yn].queries[e].queryList}function j1(t,e,n){let r=new Tg((n&4)===4);return xk(t,e,r,r.destroy),(e[Yn]??=new Lg).queries.push(new Fg(r))-1}function B1(t,e,n){let r=Ze();return r.firstCreatePass&&(H1(r,new Vg(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),j1(r,ge(),e)}function $1(t){return t.split(",").map(e=>e.trim())}function H1(t,e,n){t.queries===null&&(t.queries=new Ug),t.queries.track(new jg(e,n))}function Um(t,e){return t.queries.getByIndex(e)}function q1(t,e){let n=t[ne],r=Um(n,e);return r.crossesNgTemplate?Bg(n,t,e,[]):DC(n,t,r,e)}var sD=new Set;function sr(t){sD.has(t)||(sD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function z1(t){return typeof t=="function"&&t[Gn]!==void 0}function ic(t,e){sr("NgSignals");let n=ib(t),r=n[Gn];return e?.equal&&(r.equal=e.equal),n.set=i=>Sp(r,i),n.update=i=>sb(r,i),n.asReadonly=G1.bind(n),n}function G1(){let t=this[Gn];if(t.readonlyFn===void 0){let e=()=>this();e[Gn]=t,t.readonlyFn=e}return t.readonlyFn}function TC(t){return z1(t)&&typeof t.set=="function"}function W1(t){return Object.getPrototypeOf(t.prototype).constructor}function rn(t){let e=W1(t.type),n=!0,r=[t];for(;e;){let i;if(zr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new W(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Nl(t.inputs),o.inputTransforms=Nl(t.inputTransforms),o.declaredInputs=Nl(t.declaredInputs),o.outputs=Nl(t.outputs);let a=i.hostBindings;a&&Z1(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&Y1(t,u),l&&J1(t,l),K1(t,i),Gx(t.outputs,i.outputs),zr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===rn&&(n=!1)}}e=Object.getPrototypeOf(e)}Q1(r)}function K1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function Q1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qa(i.hostAttrs,n=qa(n,i.hostAttrs))}}function Nl(t){return t===to?{}:t===Jt?[]:t}function Y1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function J1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function Z1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function jm(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Gr=class{},Za=class{};var $g=class extends Gr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new nd(this);let s=kD(e);this._bootstrapComponents=UT(s.bootstrap),this._r3Injector=TT(e,n,[{provide:Gr,useValue:this},{provide:co,useValue:this.componentFactoryResolver},...r],Ot(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hg=class extends Za{constructor(e){super(),this.moduleType=e}create(e){return new $g(this.moduleType,e,[])}};var rd=class extends Gr{constructor(e){super(),this.componentFactoryResolver=new nd(this),this.instance=null;let n=new za([...e.providers,{provide:Gr,useValue:this},{provide:co,useValue:this.componentFactoryResolver}],e.parent||um(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Cd(t,e,n=null){return new rd({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function CC(t,e,n){return t[e]=n}function X1(t,e){return t[e]}function Tn(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function SC(t,e,n,r){let i=Tn(t,e,n);return Tn(t,e+1,r)||i}function eF(t,e,n,r,i){let s=SC(t,e,n,r);return Tn(t,e+2,i)||s}function tF(t){return(t.flags&32)===32}function nF(t,e,n,r,i,s,o,a,u){let l=e.consts,h=Id(e,t,4,o||null,a||null);rC(e,n,h,oo(l,u)),vm(e,h);let p=h.tView=Pm(2,h,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function qg(t,e,n,r,i,s,o,a,u,l){let h=n+kt,p=e.firstCreatePass?nF(h,e,t,r,i,s,o,a,u):e.data[h];nc(p,!1);let m=rF(e,t,p,n);mm()&&Mm(e,t,m,p),qi(m,t);let y=oC(m,t,m,p);return t[h]=y,Ed(t,y),P1(y,p,t),lm(p)&&eC(e,t,p),u!=null&&tC(t,p,l),p}function mt(t,e,n,r,i,s,o,a){let u=ge(),l=Ze(),h=oo(l.consts,s);return qg(u,l,t,e,n,r,i,h,o,a),mt}var rF=iF;function iF(t,e,n,r){return ym(!0),e[$e].createComment("")}var Js=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Js||{}),AC=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}}return t})(),zg=class t{constructor(){this.ngZone=P(we),this.scheduler=P(ao),this.errorHandler=P(Jn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Js.EarlyRead,Js.Write,Js.MixedReadWrite,Js.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>new t})}},Gg=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Bm(t,e){!e?.injector&&$P(Bm);let n=e?.injector??P(Ke);return sk(n)?(sr("NgAfterNextRender"),oF(t,n,e,!0)):aF}function sF(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function oF(t,e,n,r){let i=e.get(AC);i.impl??=e.get(zg);let s=n?.phase??Js.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(Im):null,a=new Gg(i.impl,sF(t,s),r,o);return i.impl.register(a),a}var aF={destroy(){}};function Ki(t,e,n,r){let i=ge(),s=po();if(Tn(i,s,e)){let o=Ze(),a=md();Wk(a,i,t,e,n,r)}return Ki}function RC(t,e,n,r){return Tn(t,po(),n)?e+eo(n)+r:nn}function cF(t,e,n,r,i,s){let o=cO(),a=SC(t,o,n,i);return aT(2),a?e+eo(n)+r+eo(i)+s:nn}function Ml(t,e){return t<<17|e<<2}function Gi(t){return t>>17&32767}function uF(t){return(t&2)==2}function lF(t,e){return t&131071|e<<17}function Wg(t){return t|2}function ho(t){return(t&131068)>>2}function eg(t,e){return t&-131069|e<<2}function dF(t){return(t&1)===1}function Kg(t){return t|1}function hF(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Gi(o),u=ho(o);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||tc(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Gi(t[a+1]);t[r+1]=Ml(m,a),m!==0&&(t[m+1]=eg(t[m+1],r)),t[a+1]=lF(t[a+1],r)}else t[r+1]=Ml(a,0),a!==0&&(t[a+1]=eg(t[a+1],r)),a=r;else t[r+1]=Ml(u,0),a===0?a=r:t[u+1]=eg(t[u+1],r),u=r;l&&(t[r+1]=Wg(t[r+1])),oD(t,h,r,!0),oD(t,h,r,!1),fF(e,h,t,r,s),o=Ml(a,u),s?e.classBindings=o:e.styleBindings=o}function fF(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&tc(s,e)>=0&&(n[r+1]=Kg(n[r+1]))}function oD(t,e,n,r){let i=t[n+1],s=e===null,o=r?Gi(i):ho(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],l=t[o+1];pF(u,e)&&(a=!0,t[o+1]=r?Kg(l):Wg(l)),o=r?Gi(l):ho(l)}a&&(t[n+1]=r?Wg(i):Kg(i))}function pF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?tc(t,e)>=0:!1}function sn(t,e,n){let r=ge(),i=po();if(Tn(r,i,e)){let s=Ze(),o=md();Om(s,o,r,t,e,r[$e],n,!1)}return sn}function aD(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";km(t,n,s[o],o,r)}function Sd(t,e){return gF(t,e,null,!0),Sd}function gF(t,e,n,r){let i=ge(),s=Ze(),o=aT(2);if(s.firstUpdatePass&&yF(s,t,o,r),e!==nn&&Tn(i,o,e)){let a=s.data[Qr()];EF(s,a,i,i[$e],t,i[o+1]=bF(e,n),r,o)}}function mF(t,e){return e>=t.expandoStartIndex}function yF(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Qr()],o=mF(t,n);DF(s,r)&&e===null&&!o&&(e=!1),e=vF(i,s,e,r),hF(i,s,e,n,o,r)}}function vF(t,e,n,r){let i=fO(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=tg(null,t,e,n,r),n=Xa(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=tg(i,t,e,n,r),s===null){let u=_F(t,e,r);u!==void 0&&Array.isArray(u)&&(u=tg(null,t,e,u[1],r),u=Xa(u,e.attrs,r),wF(t,e,r,u))}else s=IF(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function _F(t,e,n){let r=n?e.classBindings:e.styleBindings;if(ho(r)!==0)return t[Gi(r)]}function wF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Gi(i)]=r}function IF(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Xa(r,o,n)}return Xa(r,e.attrs,n)}function tg(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Xa(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Xa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),pP(t,o,n?!0:e[++s]))}return t===void 0?null:t}function EF(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=dF(l)?cD(u,e,n,i,ho(l),o):void 0;if(!id(h)){id(s)||uF(l)&&(s=cD(u,null,n,i,a,o));let p=YD(Qr(),n);Dk(r,o,p,i,s)}}function cD(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===nn&&(m=p?Jt:void 0);let y=p?zp(m,r):h===r?m:void 0;if(l&&!id(y)&&(y=zp(u,r)),id(y)&&(a=y,o))return a;let b=t[i+1];i=o?Gi(b):ho(b)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=zp(u,r))}return a}function id(t){return t!==void 0}function bF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ot(rc(t)))),t}function DF(t,e){return(t.flags&(e?8:16))!==0}var Qg=class{destroy(e){}updateValue(e,n){}swap(e,n){let r=Math.min(e,n),i=Math.max(e,n),s=this.detach(i);if(i-r>1){let o=this.detach(r);this.attach(r,s),this.attach(i,o)}else this.attach(r,s)}move(e,n){this.attach(n,this.detach(e))}};function ng(t,e,n,r,i){return t===n&&Object.is(e,r)?1:Object.is(i(t,e),i(n,r))?-1:0}function TF(t,e,n){let r,i,s=0,o=t.length-1,a=void 0;if(Array.isArray(e)){let u=e.length-1;for(;s<=o&&s<=u;){let l=t.at(s),h=e[s],p=ng(s,l,s,h,n);if(p!==0){p<0&&t.updateValue(s,h),s++;continue}let m=t.at(o),y=e[u],b=ng(o,m,u,y,n);if(b!==0){b<0&&t.updateValue(o,y),o--,u--;continue}let R=n(s,l),S=n(o,m),x=n(s,h);if(Object.is(x,S)){let j=n(u,y);Object.is(j,R)?(t.swap(s,o),t.updateValue(o,y),u--,o--):t.move(o,s),t.updateValue(s,h),s++;continue}if(r??=new sd,i??=lD(t,s,o,n),Yg(t,r,s,x))t.updateValue(s,h),s++,o++;else if(i.has(x))r.set(R,t.detach(s)),o--;else{let j=t.create(s,e[s]);t.attach(s,j),s++,o++}}for(;s<=u;)uD(t,r,n,s,e[s]),s++}else if(e!=null){let u=e[Symbol.iterator](),l=u.next();for(;!l.done&&s<=o;){let h=t.at(s),p=l.value,m=ng(s,h,s,p,n);if(m!==0)m<0&&t.updateValue(s,p),s++,l=u.next();else{r??=new sd,i??=lD(t,s,o,n);let y=n(s,p);if(Yg(t,r,s,y))t.updateValue(s,p),s++,o++,l=u.next();else if(!i.has(y))t.attach(s,t.create(s,p)),s++,o++,l=u.next();else{let b=n(s,h);r.set(b,t.detach(s)),o--}}}for(;!l.done;)uD(t,r,n,t.length,l.value),l=u.next()}for(;s<=o;)t.destroy(t.detach(o--));r?.forEach(u=>{t.destroy(u)})}function Yg(t,e,n,r){return e!==void 0&&e.has(r)?(t.attach(n,e.get(r)),e.delete(r),!0):!1}function uD(t,e,n,r,i){if(Yg(t,e,r,n(r,i)))t.updateValue(r,i);else{let s=t.create(r,i);t.attach(r,s)}}function lD(t,e,n,r){let i=new Set;for(let s=e;s<=n;s++)i.add(r(s,t.at(s)));return i}var sd=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let n=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(e,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,n){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(e,n)}forEach(e){for(let[n,r]of this.kvMap)if(e(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,n)}}};function st(t,e){sr("NgControlFlow");let n=ge(),r=po(),i=n[r]!==nn?n[r]:-1,s=i!==-1?od(n,kt+i):void 0,o=0;if(Tn(n,r,t)){let a=pe(null);try{if(s!==void 0&&fC(s,o),t!==-1){let u=kt+t,l=od(n,u),h=em(n[ne],u),p=Ja(l,h.tView.ssrId),m=bd(n,h,e,{dehydratedView:p});Dd(l,m,o,Qa(h,p))}}finally{pe(a)}}else if(s!==void 0){let a=hC(s,o);a!==void 0&&(a[ft]=e)}}var Jg=class{constructor(e,n,r){this.lContainer=e,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-pt}};function NC(t,e){return e}var Zg=class{constructor(e,n,r){this.hasEmptyBlock=e,this.trackByFn=n,this.liveCollection=r}};function MC(t,e,n,r,i,s,o,a,u,l,h,p,m){sr("NgControlFlow");let y=ge(),b=Ze(),R=u!==void 0,S=ge(),x=a?o.bind(S[hn][ft]):o,j=new Zg(R,x);S[kt+t]=j,qg(y,b,t+1,e,n,r,i,oo(b.consts,s)),R&&qg(y,b,t+2,u,l,h,p,oo(b.consts,m))}var Xg=class extends Qg{constructor(e,n,r){super(),this.lContainer=e,this.hostLView=n,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-pt}at(e){return this.getLView(e)[ft].$implicit}attach(e,n){let r=n[Ga];this.needsIndexUpdate||=e!==this.length,Dd(this.lContainer,n,e,Qa(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,CF(this.lContainer,e)}create(e,n){let r=Ja(this.lContainer,this.templateTNode.tView.ssrId),i=bd(this.hostLView,this.templateTNode,new Jg(this.lContainer,n,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){vd(e[ne],e),this.operationsCounter?.recordDestroy()}updateValue(e,n){this.getLView(e)[ft].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[ft].$index=e}getLView(e){return SF(this.lContainer,e)}};function xC(t){let e=pe(null),n=Qr();try{let r=ge(),i=r[ne],s=r[n],o=n+1,a=od(r,o);if(s.liveCollection===void 0){let l=em(i,o);s.liveCollection=new Xg(a,r,l)}else s.liveCollection.reset();let u=s.liveCollection;if(TF(u,t,s.trackByFn),u.updateIndexes(),s.hasEmptyBlock){let l=po(),h=u.length===0;if(Tn(r,l,h)){let p=n+2,m=od(r,p);if(h){let y=em(i,p),b=Ja(m,y.tView.ssrId),R=bd(r,y,void 0,{dehydratedView:b});Dd(m,R,0,Qa(y,b))}else fC(m,0)}}}finally{pe(e)}}function od(t,e){return t[e]}function CF(t,e){return Ka(t,e)}function SF(t,e){return hC(t,e)}function em(t,e){return dm(t,e)}function AF(t,e,n,r,i,s){let o=e.consts,a=oo(o,i),u=Id(e,t,2,r,a);return rC(e,n,u,oo(o,s)),u.attrs!==null&&Og(u,u.attrs,!1),u.mergedAttrs!==null&&Og(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function U(t,e,n,r){let i=ge(),s=Ze(),o=kt+t,a=i[$e],u=s.firstCreatePass?AF(o,s,i,e,n,r):s.data[o],l=RF(s,i,u,a,e,t);i[o]=l;let h=lm(u);return nc(u,!0),WT(a,l,u),!tF(u)&&mm()&&Mm(s,i,l,u),XP()===0&&qi(l,i),eO(),h&&(eC(s,i,u),XT(s,u,i)),r!==null&&tC(i,u),U}function F(){let t=Rt();iT()?oO():(t=t.parent,nc(t,!1));let e=t;rO(e)&&iO(),tO();let n=Ze();return n.firstCreatePass&&(vm(n,t),zD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&wO(e)&&aD(n,e,ge(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&IO(e)&&aD(n,e,ge(),e.stylesWithoutHost,!1),F}function Re(t,e,n,r){return U(t,e,n,r),F(),Re}var RF=(t,e,n,r,i,s)=>(ym(!0),jT(r,i,mO()));function yo(){return ge()}var Oi=void 0;function NF(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var MF=["en",[["a","p"],["AM","PM"],Oi],[["AM","PM"],Oi,Oi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Oi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Oi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Oi,"{1} 'at' {0}",Oi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",NF],rg={};function Ad(t){let e=xF(t),n=dD(e);if(n)return n;let r=e.split("-")[0];if(n=dD(r),n)return n;if(r==="en")return MF;throw new W(701,!1)}function dD(t){return t in rg||(rg[t]=ki.ng&&ki.ng.common&&ki.ng.common.locales&&ki.ng.common.locales[t]),rg[t]}var Qi=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Qi||{});function xF(t){return t.toLowerCase().replace(/_/g,"-")}var ad="en-US",PF="USD";var OF=ad;function kF(t){typeof t=="string"&&(OF=t.toLowerCase().replace(/_/g,"-"))}var FF=(t,e,n)=>{};function yt(t,e,n,r){let i=ge(),s=Ze(),o=Rt();return PC(s,i,i[$e],o,t,e,r),yt}function LF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[Hl],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function PC(t,e,n,r,i,s,o){let a=lm(r),l=t.firstCreatePass&&uC(t),h=e[ft],p=cC(e),m=!0;if(r.type&3||o){let R=en(r,e),S=o?o(R):R,x=p.length,j=o?G=>o(Dn(G[r.index])):r.index,V=null;if(!o&&a&&(V=LF(t,e,i,r.index)),V!==null){let G=V.__ngLastListenerFn__||V;G.__ngNextListenerFn__=s,V.__ngLastListenerFn__=s,m=!1}else{s=fD(r,e,h,s),FF(R,i,s);let G=n.listen(S,i,s);p.push(s,G),l&&l.push(i,j,x,x+1)}}else s=fD(r,e,h,s);let y=r.outputs,b;if(m&&y!==null&&(b=y[i])){let R=b.length;if(R)for(let S=0;S<R;S+=2){let x=b[S],j=b[S+1],he=e[x][j].subscribe(s),Q=p.length;p.push(s,he),l&&l.push(i,r.index,Q,-(Q+1))}}}function hD(t,e,n,r){let i=pe(null);try{return wn(6,e,n),n(r)!==!1}catch(s){return lC(t,s),!1}finally{wn(7,e,n),pe(i)}}function fD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Kr(t.index,e):e;Lm(o,5);let a=hD(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=hD(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function Rd(t=1){return gO(t)}function $m(t,e,n,r,i){let s=ge(),o=RC(s,e,n,r);if(o!==nn){let a=Ze(),u=md();Om(a,u,s,t,o,s[$e],i,!1)}return $m}function OC(t,e,n){B1(t,e,n)}function Hm(t){let e=ge(),n=Ze(),r=cT();fm(r+1);let i=Um(n,r);if(t.dirty&&QP(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=q1(e,r);t.reset(s,$O),t.notifyOnChanges()}return!0}return!1}function qm(){return U1(ge(),cT())}function VF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function zt(t){let e=aO();return JD(e,kt+t)}function K(t,e=""){let n=ge(),r=Ze(),i=t+kt,s=r.firstCreatePass?Id(r,i,1,e,null):r.data[i],o=UF(r,n,s,e,t);n[i]=o,mm()&&Mm(r,n,o,s),nc(s,!1)}var UF=(t,e,n,r,i)=>(ym(!0),ak(e[$e],r));function zm(t){return Yi("",t,""),zm}function Yi(t,e,n){let r=ge(),i=RC(r,t,e,n);return i!==nn&&dC(r,Qr(),i),Yi}function Gm(t,e,n,r,i){let s=ge(),o=cF(s,t,e,n,r,i);return o!==nn&&dC(s,Qr(),o),Gm}function Lt(t,e,n){TC(e)&&(e=e());let r=ge(),i=po();if(Tn(r,i,e)){let s=Ze(),o=md();Om(s,o,r,t,e,r[$e],n,!1)}return Lt}function Gt(t,e){let n=TC(t);return n&&t.set(e),n}function Vt(t,e){let n=ge(),r=Ze(),i=Rt();return PC(r,n,n[$e],i,t,e),Vt}function jF(t,e,n){let r=Ze();if(r.firstCreatePass){let i=zr(t);tm(n,r.data,r.blueprint,i,!0),tm(e,r.data,r.blueprint,i,!1)}}function tm(t,e,n,r,i){if(t=Tt(t),Array.isArray(t))for(let s=0;s<t.length;s++)tm(t[s],e,n,r,i);else{let s=Ze(),o=ge(),a=Rt(),u=ro(t)?t:Tt(t.provide),l=BD(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(ro(t)||!t.multi){let y=new $i(l,i,oe),b=sg(u,e,i?h:h+m,p);b===-1?(_g(Ql(a,o),s,u),ig(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(y),o.push(y)):(n[b]=y,o[b]=y)}else{let y=sg(u,e,h+m,p),b=sg(u,e,h,h+m),R=y>=0&&n[y],S=b>=0&&n[b];if(i&&!S||!i&&!R){_g(Ql(a,o),s,u);let x=HF(i?$F:BF,n.length,i,r,l);!i&&S&&(n[b].providerFactory=x),ig(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(x),o.push(x)}else{let x=kC(n[i?b:y],l,!i&&r);ig(s,t,y>-1?y:b,x)}!i&&r&&S&&n[b].componentProviders++}}}function ig(t,e,n,r){let i=ro(e),s=kP(e);if(i||s){let u=(s?Tt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function kC(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sg(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function BF(t,e,n,r){return nm(this.multi,[])}function $F(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Hi(n,n[ne],this.providerFactory.index,r);s=a.slice(0,o),nm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],nm(i,s);return s}function nm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function HF(t,e,n,r,i){let s=new $i(t,n,oe);return s.multi=[],s.index=e,s.componentProviders=0,kC(s,i,r&&!n),s}function Jr(t,e=[]){return n=>{n.providersResolver=(r,i)=>jF(r,i?i(t):t,e)}}var qF=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=VD(!1,n.type),i=r.length>0?Cd([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=H({token:t,providedIn:"environment",factory:()=>new t(z(Ct))})}}return t})();function Xe(t){sr("NgStandalone"),t.getStandaloneInjector=e=>e.get(qF).getOrCreateStandaloneInjector(t)}function or(t,e,n){let r=oT()+t,i=ge();return i[r]===nn?CC(i,r,n?e.call(n):e()):X1(i,r)}function zF(t,e){let n=t[e];return n===nn?void 0:n}function GF(t,e,n,r,i,s,o,a){let u=e+n;return eF(t,u,i,s,o)?CC(t,u+3,a?r.call(a,i,s,o):r(i,s,o)):zF(t,u+3)}function Wm(t,e){let n=Ze(),r,i=t+kt;n.firstCreatePass?(r=WF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=Li(r.type,!0)),o,a=Pt(oe);try{let u=Kl(!1),l=s();return Kl(u),VF(n,ge(),i,l),l}finally{Pt(a)}}function WF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function Km(t,e,n,r,i){let s=t+kt,o=ge(),a=JD(o,s);return KF(o,s)?GF(o,oT(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function KF(t,e){return t[ne].data[e].pure}var Xn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},FC=new Xn("18.2.10");var Nd=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var LC=new $("");function Ji(t){return!!t&&typeof t.then=="function"}function VC(t){return!!t&&typeof t.subscribe=="function"}var Md=new $(""),UC=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=P(Md,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(Ji(s))n.push(s);else if(VC(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),sc=new $("");function QF(){rb(()=>{throw new W(600,!1)})}function YF(t){return t.isBoundToModule}var JF=10;function ZF(t,e,n){try{let r=n();return Ji(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Zr=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=P(jO),this.afterRenderManager=P(AC),this.zonelessEnabled=P(Td),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new Qe,this.afterTick=new Qe,this.componentTypes=[],this.components=[],this.isStable=P(Yr).hasPendingTasks.pipe(Z(n=>!n)),this._injector=P(Ct)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof td;if(!this._injector.get(UC).done){let m=!i&&OD(n),y=!1;throw new W(405,y)}let o;i?o=n:o=this._injector.get(co).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=YF(o)?void 0:this._injector.get(Gr),u=r||o.selector,l=o.create(Ke.NULL,[],u,a),h=l.location.nativeElement,p=l.injector.get(LC,null);return p?.registerApplication(h),l.onDestroy(()=>{this.detachView(l.hostView),Ll(this.components,l),p?.unregisterApplication(h)}),this._loadComponent(l),l}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new W(101,!1);let n=pe(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,pe(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(uo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<JF;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)XF(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>pd(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Ll(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(sc,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ll(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new W(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Ll(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function XF(t,e,n,r){if(!n&&!pd(t))return;mC(t,e,n&&!r?0:1)}var rm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},xd=(()=>{class t{compileModuleSync(n){return new Hg(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=kD(n),s=UT(i.declarations).reduce((o,a)=>{let u=qr(a);return u&&o.push(new lo(u)),o},[]);return new rm(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var eL=(()=>{class t{constructor(){this.zone=P(we),this.changeDetectionScheduler=P(ao),this.applicationRef=P(Zr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),tL=new $("",{factory:()=>!1});function jC({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(fe(k({},$C()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:no,multi:!0,useFactory:()=>{let r=P(eL,{optional:!0});return()=>r.initialize()}},{provide:no,multi:!0,useFactory:()=>{let r=P(nL);return()=>{r.initialize()}}},e===!0?{provide:wC,useValue:!0}:[],{provide:IC,useValue:n??CT}]}function BC(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=jC({ngZoneFactory:()=>{let i=$C(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&sr("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Ft([{provide:tL,useValue:!0},{provide:Td,useValue:!1},r])}function $C(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var nL=(()=>{class t{constructor(){this.subscription=new ke,this.initialized=!1,this.zone=P(we),this.pendingTasks=P(Yr)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var rL=(()=>{class t{constructor(){this.appRef=P(Zr),this.taskService=P(Yr),this.ngZone=P(we),this.zonelessEnabled=P(Td),this.disableScheduling=P(wC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ke,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jl):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(P(IC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Dg||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Kb:ST;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Kb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function iL(){return typeof $localize<"u"&&$localize.locale||ad}var Pd=new $("",{providedIn:"root",factory:()=>P(Pd,de.Optional|de.SkipSelf)||iL()}),HC=new $("",{providedIn:"root",factory:()=>PF});var im=new $("");function xl(t){return!t.moduleRef}function sL(t){let e=xl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{xl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Jn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),xl(t)){let s=()=>e.destroy(),o=t.platformInjector.get(im);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(im);o.add(s),t.moduleRef.onDestroy(()=>{Ll(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return ZF(r,n,()=>{let s=e.get(UC);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Pd,ad);if(kF(o||ad),xl(t)){let a=e.get(Zr);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return oL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function oL(t,e){let n=t.injector.get(Zr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new W(-403,!1);e.push(t)}var Vl=null;function aL(t=[],e){return Ke.create({name:e,providers:[{provide:dd,useValue:"platform"},{provide:im,useValue:new Set([()=>Vl=null])},...t]})}function cL(t=[]){if(Vl)return Vl;let e=aL(t);return Vl=e,QF(),uL(e),e}function uL(t){t.get(Tm,null)?.forEach(n=>n())}var Zi=(()=>{class t{static{this.__NG_ELEMENT_ID__=lL}}return t})();function lL(t){return dL(Rt(),ge(),(t&16)===16)}function dL(t,e,n){if(fd(t)&&!n){let r=Kr(t.index,e);return new zi(r,r)}else if(t.type&175){let r=e[hn];return new zi(r,e)}return null}function qC(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=cL(r),s=[jC({}),{provide:ao,useExisting:rL},...n||[]],o=new rd({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return sL({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Xr(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function oc(t,e){sr("NgSignals");let n=eb(t);return e?.equal&&(n[Gn].equal=e.equal),n}function ar(t){let e=pe(null);try{return t()}finally{pe(e)}}function zC(t){let e=qr(t);if(!e)return null;let n=new lo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var YC=null;function lr(){return YC}function JC(t){YC??=t}var Od=class{};var vt=new $(""),Xm=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(fL),providedIn:"platform"})}}return t})(),ZC=new $(""),fL=(()=>{class t extends Xm{constructor(){super(),this._doc=P(vt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lr().getBaseHref(this._doc)}onPopState(n){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=lr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function ey(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function GC(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function cr(t){return t&&t[0]!=="?"?"?"+t:t}var dr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(ty),providedIn:"root"})}}return t})(),XC=new $(""),ty=(()=>{class t extends dr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??P(vt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ey(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+cr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+cr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+cr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(Xm),z(XC,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),e0=(()=>{class t extends dr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=ey(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+cr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+cr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(z(Xm),z(XC,8))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),_o=(()=>{class t{constructor(n){this._subject=new Ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=mL(GC(WC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+cr(r))}normalize(n){return t.stripTrailingSlash(gL(this._basePath,WC(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+cr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=cr}static{this.joinWithSlash=ey}static{this.stripTrailingSlash=GC}static{this.\u0275fac=function(r){return new(r||t)(z(dr))}}static{this.\u0275prov=H({token:t,factory:()=>pL(),providedIn:"root"})}}return t})();function pL(){return new _o(z(dr))}function gL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function WC(t){return t.replace(/\/index.html$/,"")}function mL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var t0={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},n0=function(t){return t[t.Decimal=0]="Decimal",t[t.Percent=1]="Percent",t[t.Currency=2]="Currency",t[t.Scientific=3]="Scientific",t}(n0||{});var ur={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ac(t,e){let n=Ad(t),r=n[Qi.NumberSymbols][e];if(typeof r>"u"){if(e===ur.CurrencyDecimal)return n[Qi.NumberSymbols][ur.Decimal];if(e===ur.CurrencyGroup)return n[Qi.NumberSymbols][ur.Group]}return r}function yL(t,e){return Ad(t)[Qi.NumberFormats][e]}function vL(t){return Ad(t)[Qi.Currencies]}function _L(t,e,n="en"){let r=vL(n)[t]||t0[t]||[],i=r[1];return e==="narrow"&&typeof i=="string"?i:r[0]||t}var wL=2;function IL(t){let e,n=t0[t];return n&&(e=n[2]),typeof e=="number"?e:wL}var EL=/^(\d+)?\.((\d+)(-(\d+))?)?$/,KC=22,kd=".",cc="0",bL=";",DL=",",Qm="#",QC="\xA4";function TL(t,e,n,r,i,s,o=!1){let a="",u=!1;if(!isFinite(t))a=ac(n,ur.Infinity);else{let l=RL(t);o&&(l=AL(l));let h=e.minInt,p=e.minFrac,m=e.maxFrac;if(s){let j=s.match(EL);if(j===null)throw new Error(`${s} is not a valid digit info`);let V=j[1],G=j[3],he=j[5];V!=null&&(h=Ym(V)),G!=null&&(p=Ym(G)),he!=null?m=Ym(he):G!=null&&p>m&&(m=p)}NL(l,p,m);let y=l.digits,b=l.integerLen,R=l.exponent,S=[];for(u=y.every(j=>!j);b<h;b++)y.unshift(0);for(;b<0;b++)y.unshift(0);b>0?S=y.splice(b,y.length):(S=y,y=[0]);let x=[];for(y.length>=e.lgSize&&x.unshift(y.splice(-e.lgSize,y.length).join(""));y.length>e.gSize;)x.unshift(y.splice(-e.gSize,y.length).join(""));y.length&&x.unshift(y.join("")),a=x.join(ac(n,r)),S.length&&(a+=ac(n,i)+S.join("")),R&&(a+=ac(n,ur.Exponential)+"+"+R)}return t<0&&!u?a=e.negPre+a+e.negSuf:a=e.posPre+a+e.posSuf,a}function CL(t,e,n,r,i){let s=yL(e,n0.Currency),o=SL(s,ac(e,ur.MinusSign));return o.minFrac=IL(r),o.maxFrac=o.minFrac,TL(t,o,e,ur.CurrencyGroup,ur.CurrencyDecimal,i).replace(QC,n).replace(QC,"").trim()}function SL(t,e="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(bL),i=r[0],s=r[1],o=i.indexOf(kd)!==-1?i.split(kd):[i.substring(0,i.lastIndexOf(cc)+1),i.substring(i.lastIndexOf(cc)+1)],a=o[0],u=o[1]||"";n.posPre=a.substring(0,a.indexOf(Qm));for(let h=0;h<u.length;h++){let p=u.charAt(h);p===cc?n.minFrac=n.maxFrac=h+1:p===Qm?n.maxFrac=h+1:n.posSuf+=p}let l=a.split(DL);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,s){let h=i.length-n.posPre.length-n.posSuf.length,p=s.indexOf(Qm);n.negPre=s.substring(0,p).replace(/'/g,""),n.negSuf=s.slice(p+h).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}function AL(t){if(t.digits[0]===0)return t;let e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(e===0?t.digits.push(0,0):e===1&&t.digits.push(0),t.integerLen+=2),t}function RL(t){let e=Math.abs(t)+"",n=0,r,i,s,o,a;for((i=e.indexOf(kd))>-1&&(e=e.replace(kd,"")),(s=e.search(/e/i))>0?(i<0&&(i=s),i+=+e.slice(s+1),e=e.substring(0,s)):i<0&&(i=e.length),s=0;e.charAt(s)===cc;s++);if(s===(a=e.length))r=[0],i=1;else{for(a--;e.charAt(a)===cc;)a--;for(i-=s,r=[],o=0;s<=a;s++,o++)r[o]=Number(e.charAt(s))}return i>KC&&(r=r.splice(0,KC-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function NL(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen,s=Math.min(Math.max(e,i),n),o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let p=o;p<r.length;p++)r[p]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let p=1;p<o;p++)r[p]=0}if(a>=5)if(o-1<0){for(let p=0;p>o;p--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=s!==0,l=e+t.integerLen,h=r.reduceRight(function(p,m,y,b){return m=m+p,b[y]=m<10?m:m-10,u&&(b[y]===0&&y>=l?b.pop():u=!1),m>=10?1:0},0);h&&(r.unshift(h),t.integerLen++)}function Ym(t){let e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}function Fd(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}function ML(t,e){return new W(2100,!1)}var r0=(()=>{class t{constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",s,o){if(!xL(n))return null;o||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let a=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?a=_L(a,i==="symbol"?"wide":"narrow",o):a=i);try{let u=PL(n);return CL(u,o,a,r,s)}catch(u){throw ML(t,u.message)}}static{this.\u0275fac=function(r){return new(r||t)(oe(Pd,16),oe(HC,16))}}static{this.\u0275pipe=MD({name:"currency",type:t,pure:!0,standalone:!0})}}return t})();function xL(t){return!(t==null||t===""||t!==t)}function PL(t){if(typeof t=="string"&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if(typeof t!="number")throw new Error(`${t} is not a number`);return t}var ny=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tr({type:t})}static{this.\u0275inj=er({})}}return t})(),ry="browser",OL="server";function kL(t){return t===ry}function Ld(t){return t===OL}var i0=(()=>{class t{static{this.\u0275prov=H({token:t,providedIn:"root",factory:()=>kL(P(tn))?new Jm(P(vt),window):new Zm})}}return t})(),Jm=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=FL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function FL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Zm=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},vo=class{};var lc=class{},Ud=class{},hr=class t{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var oy=class{encodeKey(e){return s0(e)}encodeValue(e){return s0(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function LL(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],u=n.get(o)||[];u.push(a),n.set(o,u)}),n}var VL=/%(\d[a-f0-9])/gi,UL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function s0(t){return encodeURIComponent(t).replace(VL,(e,n)=>UL[n]??e)}function Vd(t){return`${t}`}var ti=class t{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new oy,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=LL(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(Vd):[Vd(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(Vd(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Vd(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ay=class{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function jL(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function o0(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function a0(t){return typeof Blob<"u"&&t instanceof Blob}function c0(t){return typeof FormData<"u"&&t instanceof FormData}function BL(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var uc=class t{constructor(e,n,r,i){this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(jL(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new hr,this.context??=new ay,!this.params)this.params=new ti,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),u=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+u+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||o0(this.body)||a0(this.body)||c0(this.body)||BL(this.body)?this.body:this.body instanceof ti?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||c0(this.body)?null:a0(this.body)?this.body.type||null:o0(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ti?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,u=e.reportProgress??this.reportProgress,l=e.headers||this.headers,h=e.params||this.params,p=e.context??this.context;return e.setHeaders!==void 0&&(l=Object.keys(e.setHeaders).reduce((m,y)=>m.set(y,e.setHeaders[y]),l)),e.setParams&&(h=Object.keys(e.setParams).reduce((m,y)=>m.set(y,e.setParams[y]),h)),new t(n,r,o,{params:h,headers:l,context:p,reportProgress:u,responseType:i,withCredentials:a,transferCache:s})}},ni=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(ni||{}),dc=class{constructor(e,n=200,r="OK"){this.headers=e.headers||new hr,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},jd=class t extends dc{constructor(e={}){super(e),this.type=ni.ResponseHeader}clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hc=class t extends dc{constructor(e={}){super(e),this.type=ni.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ei=class extends dc{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},h0=200,$L=204;function sy(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var HL=(()=>{class t{constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof uc)s=n;else{let u;i.headers instanceof hr?u=i.headers:u=new hr(i.headers);let l;i.params&&(i.params instanceof ti?l=i.params:l=new ti({fromObject:i.params})),s=new uc(n,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=J(s).pipe(Kn(u=>this.handler.handle(u)));if(n instanceof uc||i.observe==="events")return o;let a=o.pipe(Dt(u=>u instanceof hc));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return u.body}));case"blob":return a.pipe(Z(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new Error("Response is not a Blob.");return u.body}));case"text":return a.pipe(Z(u=>{if(u.body!==null&&typeof u.body!="string")throw new Error("Response is not a string.");return u.body}));case"json":default:return a.pipe(Z(u=>u.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ti().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,sy(i,r))}post(n,r,i={}){return this.request("POST",n,sy(i,r))}put(n,r,i={}){return this.request("PUT",n,sy(i,r))}static{this.\u0275fac=function(r){return new(r||t)(z(lc))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),qL=/^\)\]\}',?\n/,zL="X-Request-URL";function u0(t){if(t.url)return t.url;let e=zL.toLocaleLowerCase();return t.headers.get(e)}var GL=(()=>{class t{constructor(){this.fetchImpl=P(cy,{optional:!0})?.fetch??((...n)=>globalThis.fetch(...n)),this.ngZone=P(we)}handle(n){return new ce(r=>{let i=new AbortController;return this.doRequest(n,i.signal,r).then(uy,s=>r.error(new ei({error:s}))),()=>i.abort()})}doRequest(n,r,i){return w(this,null,function*(){let s=this.createRequestInit(n),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(n.urlWithParams,k({signal:r},s)));WL(y),i.next({type:ni.Sent}),o=yield y}catch(y){i.error(new ei({error:y,status:y.status??0,statusText:y.statusText,url:n.urlWithParams,headers:y.headers}));return}let a=new hr(o.headers),u=o.statusText,l=u0(o)??n.urlWithParams,h=o.status,p=null;if(n.reportProgress&&i.next(new jd({headers:a,status:h,statusText:u,url:l})),o.body){let y=o.headers.get("content-length"),b=[],R=o.body.getReader(),S=0,x,j,V=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>w(this,null,function*(){for(;;){let{done:he,value:Q}=yield R.read();if(he)break;if(b.push(Q),S+=Q.length,n.reportProgress){j=n.responseType==="text"?(j??"")+(x??=new TextDecoder).decode(Q,{stream:!0}):void 0;let E=()=>i.next({type:ni.DownloadProgress,total:y?+y:void 0,loaded:S,partialText:j});V?V.run(E):E()}}}));let G=this.concatChunks(b,S);try{let he=o.headers.get("Content-Type")??"";p=this.parseBody(n,G,he)}catch(he){i.error(new ei({error:he,headers:new hr(o.headers),status:o.status,statusText:o.statusText,url:u0(o)??n.urlWithParams}));return}}h===0&&(h=p?h0:0),h>=200&&h<300?(i.next(new hc({body:p,headers:a,status:h,statusText:u,url:l})),i.complete()):i.error(new ei({error:p,headers:a,status:h,statusText:u,url:l}))})}parseBody(n,r,i){switch(n.responseType){case"json":let s=new TextDecoder().decode(r).replace(qL,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(n){let r={},i=n.withCredentials?"include":void 0;if(n.headers.forEach((s,o)=>r[s]=o.join(",")),n.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!n.headers.has("Content-Type")){let s=n.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:n.serializeBody(),method:n.method,headers:r,credentials:i}}concatChunks(n,r){let i=new Uint8Array(r),s=0;for(let o of n)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),cy=class{};function uy(){}function WL(t){t.then(uy,uy)}function KL(t,e){return e(t)}function QL(t,e,n){return(r,i)=>Xt(n,()=>e(r,s=>t(s,i)))}var f0=new $(""),YL=new $(""),JL=new $("",{providedIn:"root",factory:()=>!0});var l0=(()=>{class t extends lc{constructor(n,r){super(),this.backend=n,this.injector=r,this.chain=null,this.pendingTasks=P(Yr),this.contributeToStability=P(JL)}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(f0),...this.injector.get(YL,[])]));this.chain=r.reduceRight((i,s)=>QL(i,s,this.injector),KL)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Pi(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||t)(z(Ud),z(Ct))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();var ZL=/^\)\]\}',?\n/;function XL(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}var d0=(()=>{class t{constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new W(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Se(r.\u0275loadImpl()):J(null)).pipe(xt(()=>new ce(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((R,S)=>o.setRequestHeader(R,S.join(","))),n.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){let R=n.detectContentTypeHeader();R!==null&&o.setRequestHeader("Content-Type",R)}if(n.responseType){let R=n.responseType.toLowerCase();o.responseType=R!=="json"?R:"text"}let a=n.serializeBody(),u=null,l=()=>{if(u!==null)return u;let R=o.statusText||"OK",S=new hr(o.getAllResponseHeaders()),x=XL(o)||n.url;return u=new jd({headers:S,status:o.status,statusText:R,url:x}),u},h=()=>{let{headers:R,status:S,statusText:x,url:j}=l(),V=null;S!==$L&&(V=typeof o.response>"u"?o.responseText:o.response),S===0&&(S=V?h0:0);let G=S>=200&&S<300;if(n.responseType==="json"&&typeof V=="string"){let he=V;V=V.replace(ZL,"");try{V=V!==""?JSON.parse(V):null}catch(Q){V=he,G&&(G=!1,V={error:Q,text:V})}}G?(s.next(new hc({body:V,headers:R,status:S,statusText:x,url:j||void 0})),s.complete()):s.error(new ei({error:V,headers:R,status:S,statusText:x,url:j||void 0}))},p=R=>{let{url:S}=l(),x=new ei({error:R,status:o.status||0,statusText:o.statusText||"Unknown Error",url:S||void 0});s.error(x)},m=!1,y=R=>{m||(s.next(l()),m=!0);let S={type:ni.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(S.total=R.total),n.responseType==="text"&&o.responseText&&(S.partialText=o.responseText),s.next(S)},b=R=>{let S={type:ni.UploadProgress,loaded:R.loaded};R.lengthComputable&&(S.total=R.total),s.next(S)};return o.addEventListener("load",h),o.addEventListener("error",p),o.addEventListener("timeout",p),o.addEventListener("abort",p),n.reportProgress&&(o.addEventListener("progress",y),a!==null&&o.upload&&o.upload.addEventListener("progress",b)),o.send(a),s.next({type:ni.Sent}),()=>{o.removeEventListener("error",p),o.removeEventListener("abort",p),o.removeEventListener("load",h),o.removeEventListener("timeout",p),n.reportProgress&&(o.removeEventListener("progress",y),a!==null&&o.upload&&o.upload.removeEventListener("progress",b)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||t)(z(vo))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),p0=new $(""),eV="XSRF-TOKEN",tV=new $("",{providedIn:"root",factory:()=>eV}),nV="X-XSRF-TOKEN",rV=new $("",{providedIn:"root",factory:()=>nV}),Bd=class{},iV=(()=>{class t{constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fd(n,this.cookieName),this.lastCookieString=n),this.lastToken}static{this.\u0275fac=function(r){return new(r||t)(z(vt),z(tn),z(tV))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function sV(t,e){let n=t.url.toLowerCase();if(!P(p0)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=P(Bd).getToken(),i=P(rV);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function g0(...t){let e=[HL,d0,l0,{provide:lc,useExisting:l0},{provide:Ud,useFactory:()=>P(GL,{optional:!0})??P(d0)},{provide:f0,useValue:sV,multi:!0},{provide:p0,useValue:!0},{provide:Bd,useClass:iV}];for(let n of t)e.push(...n.\u0275providers);return Ft(e)}var hy=class extends Od{constructor(){super(...arguments),this.supportsDOMEvents=!0}},fy=class t extends hy{static makeCurrent(){JC(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=oV();return n==null?null:aV(n)}resetBaseElement(){fc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Fd(document.cookie,e)}},fc=null;function oV(){return fc=fc||document.querySelector("base"),fc?fc.getAttribute("href"):null}function aV(t){return new URL(t,document.baseURI).pathname}var cV=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),py=new $(""),_0=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new W(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(z(py),z(we))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),$d=class{constructor(e){this._doc=e}},ly="ng-app-id",w0=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ld(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${ly}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(ly),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ly,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(z(vt),z(Dm),z(Cm,8),z(tn))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),dy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},my=/%COMP%/g,I0="%COMP%",uV=`_nghost-${I0}`,lV=`_ngcontent-${I0}`,dV=!0,hV=new $("",{providedIn:"root",factory:()=>dV});function fV(t){return lV.replace(my,t)}function pV(t){return uV.replace(my,t)}function E0(t,e){return e.map(n=>n.replace(my,t))}var m0=(()=>{class t{constructor(n,r,i,s,o,a,u,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=Ld(a),this.defaultRenderer=new pc(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===En.ShadowDom&&(r=fe(k({},r),{encapsulation:En.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Hd?i.applyToHost(n):i instanceof gc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer;switch(r.encapsulation){case En.Emulated:s=new Hd(u,l,r,this.appId,h,o,a,p);break;case En.ShadowDom:return new gy(u,l,n,r,o,a,this.nonce,p);default:s=new gc(u,l,r,h,o,a,p);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(z(_0),z(w0),z(Dm),z(hV),z(vt),z(tn),z(we),z(Cm))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),pc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(dy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(y0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(y0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new W(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=dy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=dy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Zn.DashCase|Zn.Important)?e.style.setProperty(n,r,i&Zn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Zn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=lr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function y0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var gy=class extends pc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=E0(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gc=class extends pc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?E0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Hd=class extends gc{constructor(e,n,r,i,s,o,a,u){let l=i+"-"+r.id;super(e,n,r,s,o,a,u,l),this.contentAttr=fV(l),this.hostAttr=pV(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},gV=(()=>{class t extends $d{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(z(vt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})(),v0=["alt","control","meta","shift"],mV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yV={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},vV=(()=>{class t extends $d{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),v0.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),o+=l+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=mV[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),v0.forEach(o=>{if(o!==i){let a=yV[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(z(vt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function b0(t,e){return qC(k({rootComponent:t},_V(e)))}function _V(t){return{appProviders:[...DV,...t?.providers??[]],platformProviders:bV}}function wV(){fy.makeCurrent()}function IV(){return new Jn}function EV(){return OT(document),document}var bV=[{provide:tn,useValue:ry},{provide:Tm,useValue:wV,multi:!0},{provide:vt,useFactory:EV,deps:[]}];var DV=[{provide:dd,useValue:"root"},{provide:Jn,useFactory:IV,deps:[]},{provide:py,useClass:gV,multi:!0,deps:[vt,we,tn]},{provide:py,useClass:vV,multi:!0,deps:[vt]},m0,w0,_0,{provide:uo,useExisting:m0},{provide:vo,useClass:cV,deps:[]},[]];var D0=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(z(vt))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ue="primary",Nc=Symbol("RouteTitle"),Iy=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function To(t){return new Iy(t)}function CV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function SV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Sn(t[n],e[n]))return!1;return!0}function Sn(t,e){let n=t?Ey(t):void 0,r=e?Ey(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!k0(t[i],e[i]))return!1;return!0}function Ey(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function k0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function F0(t){return t.length>0?t[t.length-1]:null}function ii(t){return jp(t)?t:Ji(t)?Se(Promise.resolve(t)):J(t)}var AV={exact:V0,subset:U0},L0={exact:RV,subset:NV,ignored:()=>!0};function T0(t,e,n){return AV[n.paths](t.root,e.root,n.matrixParams)&&L0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function RV(t,e){return Sn(t,e)}function V0(t,e,n){if(!es(t.segments,e.segments)||!Gd(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!V0(t.children[r],e.children[r],n))return!1;return!0}function NV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>k0(t[n],e[n]))}function U0(t,e,n){return j0(t,e,e.segments,n)}function j0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!es(i,n)||e.hasChildren()||!Gd(i,n,r))}else if(t.segments.length===n.length){if(!es(t.segments,n)||!Gd(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!U0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!es(t.segments,i)||!Gd(t.segments,i,r)||!t.children[ue]?!1:j0(t.children[ue],e,s,r)}}function Gd(t,e,n){return e.every((r,i)=>L0[n](t[i].parameters,r.parameters))}var pr=class{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=To(this.queryParams),this._queryParamMap}toString(){return PV.serialize(this)}},De=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Wd(this)}},Xi=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=To(this.parameters),this._parameterMap}toString(){return $0(this)}};function MV(t,e){return es(t,e)&&t.every((n,r)=>Sn(n.parameters,e[r].parameters))}function es(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function xV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ue&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ue&&(n=n.concat(e(i,r)))}),n}var Mc=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>new Co,providedIn:"root"})}}return t})(),Co=class{parse(e){let n=new Dy(e);return new pr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${mc(e.root,!0)}`,r=FV(e.queryParams),i=typeof e.fragment=="string"?`#${OV(e.fragment)}`:"";return`${n}${r}${i}`}},PV=new Co;function Wd(t){return t.segments.map(e=>$0(e)).join("/")}function mc(t,e){if(!t.hasChildren())return Wd(t);if(e){let n=t.children[ue]?mc(t.children[ue],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ue&&r.push(`${i}:${mc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=xV(t,(r,i)=>i===ue?[mc(t.children[ue],!1)]:[`${i}:${mc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ue]!=null?`${Wd(t)}/${n[0]}`:`${Wd(t)}/(${n.join("//")})`}}function B0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function qd(t){return B0(t).replace(/%3B/gi,";")}function OV(t){return encodeURI(t)}function by(t){return B0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Kd(t){return decodeURIComponent(t)}function C0(t){return Kd(t.replace(/\+/g,"%20"))}function $0(t){return`${by(t.path)}${kV(t.parameters)}`}function kV(t){return Object.entries(t).map(([e,n])=>`;${by(e)}=${by(n)}`).join("")}function FV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${qd(n)}=${qd(i)}`).join("&"):`${qd(n)}=${qd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var LV=/^[^\/()?;#]+/;function yy(t){let e=t.match(LV);return e?e[0]:""}var VV=/^[^\/()?;=#]+/;function UV(t){let e=t.match(VV);return e?e[0]:""}var jV=/^[^=?&#]+/;function BV(t){let e=t.match(jV);return e?e[0]:""}var $V=/^[^&#]+/;function HV(t){let e=t.match($V);return e?e[0]:""}var Dy=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ue]=new De(e,n)),r}parseSegment(){let e=yy(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new W(4009,!1);return this.capture(e),new Xi(Kd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=UV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=yy(this.remaining);i&&(r=i,this.capture(r))}e[Kd(n)]=Kd(r)}parseQueryParam(e){let n=BV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=HV(this.remaining);o&&(r=o,this.capture(r))}let i=C0(n),s=C0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=yy(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new W(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ue);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ue]:new De([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new W(4011,!1)}};function H0(t){return t.segments.length>0?new De([],{[ue]:t}):t}function q0(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=q0(i);if(r===ue&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new De(t.segments,e);return qV(n)}function qV(t){if(t.numberOfChildren===1&&t.children[ue]){let e=t.children[ue];return new De(t.segments.concat(e.segments),e.children)}return t}function ts(t){return t instanceof pr}function zV(t,e,n=null,r=null){let i=z0(t);return G0(i,e,n,r)}function z0(t){let e;function n(s){let o={};for(let u of s.children){let l=n(u);o[u.outlet]=l}let a=new De(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=H0(r);return e??i}function G0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return vy(i,i,i,n,r);let s=GV(e);if(s.toRoot())return vy(i,i,new De([],{}),n,r);let o=WV(s,i,t),a=o.processChildren?_c(o.segmentGroup,o.index,s.commands):K0(o.segmentGroup,o.index,s.commands);return vy(i,o.segmentGroup,a,n,r)}function Qd(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ec(t){return typeof t=="object"&&t!=null&&t.outlets}function vy(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let o;t===e?o=n:o=W0(t,e,n);let a=H0(q0(o));return new pr(a,s,i)}function W0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=W0(s,e,n)}),new De(t.segments,r)}var Yd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Qd(r[0]))throw new W(4003,!1);let i=r.find(Ec);if(i&&i!==F0(r))throw new W(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function GV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Yd(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Yd(n,e,r)}var Eo=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function WV(t,e,n){if(t.isAbsolute)return new Eo(e,!0,0);if(!n)return new Eo(e,!1,NaN);if(n.parent===null)return new Eo(n,!0,0);let r=Qd(t.commands[0])?0:1,i=n.segments.length-1+r;return KV(n,i,t.numberOfDoubleDots)}function KV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new W(4005,!1);i=r.segments.length}return new Eo(r,!1,i-s)}function QV(t){return Ec(t[0])?t[0].outlets:{[ue]:t}}function K0(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return _c(t,e,n);let r=YV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new De(t.segments.slice(0,r.pathIndex),{});return s.children[ue]=new De(t.segments.slice(r.pathIndex),t.children),_c(s,0,i)}else return r.match&&i.length===0?new De(t.segments,{}):r.match&&!t.hasChildren()?Ty(t,e,n):r.match?_c(t,0,i):Ty(t,e,n)}function _c(t,e,n){if(n.length===0)return new De(t.segments,{});{let r=QV(n),i={};if(Object.keys(r).some(s=>s!==ue)&&t.children[ue]&&t.numberOfChildren===1&&t.children[ue].segments.length===0){let s=_c(t.children[ue],e,n);return new De(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=K0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new De(t.segments,i)}}function YV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ec(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!A0(u,l,o))return s;r+=2}else{if(!A0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Ty(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ec(s)){let u=JV(s.outlets);return new De(r,u)}if(i===0&&Qd(n[0])){let u=t.segments[e];r.push(new Xi(u.path,S0(n[0]))),i++;continue}let o=Ec(s)?s.outlets[ue]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Qd(a)?(r.push(new Xi(o,S0(a))),i+=2):(r.push(new Xi(o,{})),i++)}return new De(r,{})}function JV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Ty(new De([],{}),0,r))}),e}function S0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function A0(t,e,n){return t==n.path&&Sn(e,n.parameters)}var wc="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),on=class{constructor(e,n){this.id=e,this.url=n}},So=class extends on{constructor(e,n,r="imperative",i=null){super(e,n),this.type=et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},An=class extends on{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Kt||{}),Jd=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Jd||{}),fr=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ri=class extends on{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationSkipped}},bc=class extends on{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Zd=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cy=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sy=class extends on{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ay=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ry=class extends on{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ny=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},My=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xy=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Py=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Oy=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ky=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Xd=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=et.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Dc=class{},Ao=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function ZV(t,e){return t.providers&&!t._injector&&(t._injector=Cd(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gn(t){return t.outlet||ue}function XV(t,e){let n=t.filter(r=>gn(r)===e);return n.push(...t.filter(r=>gn(r)!==e)),n}function xc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Fy=class{get injector(){return xc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Pc(this.rootInjector),this.attachRef=null}},Pc=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Fy(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(z(Ct))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),eh=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Ly(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Ly(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Vy(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Vy(e,this._root).map(n=>n.value)}};function Ly(t,e){if(t===e.value)return e;for(let n of e.children){let r=Ly(t,n);if(r)return r}return null}function Vy(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Vy(t,n);if(r.length)return r.unshift(e),r}return[]}var Wt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Io(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var th=class extends eh{constructor(e,n){super(e),this.snapshot=n,Wy(this,e)}toString(){return this.snapshot.toString()}};function Q0(t){let e=eU(t),n=new it([new Xi("",{})]),r=new it({}),i=new it({}),s=new it({}),o=new it(""),a=new Rn(n,r,s,o,i,ue,t,e.root);return a.snapshot=e.root,new th(new Wt(a,[]),e)}function eU(t){let e={},n={},r={},i="",s=new bo([],e,r,i,n,ue,t,null,{});return new rh("",new Wt(s,[]))}var Rn=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(Z(l=>l[Nc]))??J(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(e=>To(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(e=>To(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function nh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),t.params),data:k(k({},e.data),t.data),resolve:k(k(k(k({},t.data),e.data),i?.data),t._resolvedData)}:r={params:k({},t.params),data:k({},t.data),resolve:k(k({},t.data),t._resolvedData??{})},i&&J0(i)&&(r.resolve[Nc]=i.title),r}var bo=class{get title(){return this.data?.[Nc]}constructor(e,n,r,i,s,o,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=To(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=To(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},rh=class extends eh{constructor(e,n){super(n),this.url=e,Wy(this,n)}toString(){return Y0(this._root)}};function Wy(t,e){e.value._routerState=t,e.children.forEach(n=>Wy(t,n))}function Y0(t){let e=t.children.length>0?` { ${t.children.map(Y0).join(", ")} } `:"";return`${t.value}${e}`}function _y(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Sn(e.params,n.params)||t.paramsSubject.next(n.params),SV(e.url,n.url)||t.urlSubject.next(n.url),Sn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Uy(t,e){let n=Sn(t.params,e.params)&&MV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Uy(t.parent,e.parent))}function J0(t){return typeof t.title=="string"||t.title===null}var Ky=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ue,this.activateEvents=new Ve,this.deactivateEvents=new Ve,this.attachEvents=new Ve,this.detachEvents=new Ve,this.parentContexts=P(Pc),this.location=P(mo),this.changeDetector=P(Zi),this.inputBinder=P(ah,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new W(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new W(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new W(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new W(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new jy(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Wr]})}}return t})(),jy=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Rn?this.route:e===Pc?this.childContexts:this.parent.get(e,n)}},ah=new $(""),R0=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=ja([r.queryParams,r.params,r.data]).pipe(xt(([s,o,a],u)=>(a=k(k(k({},s),o),a),u===0?J(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=zC(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function tU(t,e,n){let r=Tc(t,e._root,n?n._root:void 0);return new th(r,e)}function Tc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=nU(t,e,n);return new Wt(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Tc(t,a)),o}}let r=rU(e.value),i=e.children.map(s=>Tc(t,s));return new Wt(r,i)}}function nU(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Tc(t,r,i);return Tc(t,r)})}function rU(t){return new Rn(new it(t.url),new it(t.params),new it(t.queryParams),new it(t.fragment),new it(t.data),t.outlet,t.component,t)}var Cc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},Z0="ngNavigationCancelingError";function ih(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ts(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=X0(!1,Kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function X0(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[Z0]=!0,n.cancellationCode=e,n}function iU(t){return eS(t)&&ts(t.url)}function eS(t){return!!t&&t[Z0]}var sU=(t,e,n,r)=>Z(i=>(new By(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),By=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),_y(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Io(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Io(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=Io(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Io(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ky(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Py(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(_y(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),_y(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},sh=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Do=class{constructor(e,n){this.component=e,this.route=n}};function oU(t,e,n){let r=t._root,i=e?e._root:null;return yc(r,i,n,[r.value])}function aU(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function No(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!yD(t)?t:e.get(t):r}function yc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=Io(e);return t.children.forEach(o=>{cU(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ic(a,n.getContext(o),i)),i}function cU(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=uU(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new sh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?yc(t,e,a?a.children:null,r,i):yc(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Do(a.outlet.component,o))}else o&&Ic(e,a,i),i.canActivateChecks.push(new sh(r)),s.component?yc(t,null,a?a.children:null,r,i):yc(t,null,n,r,i);return i}function uU(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!es(t.url,e.url);case"pathParamsOrQueryParamsChange":return!es(t.url,e.url)||!Sn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Uy(t,e)||!Sn(t.queryParams,e.queryParams);case"paramsChange":default:return!Uy(t,e)}}function Ic(t,e,n){let r=Io(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ic(o,e.children.getContext(s),n):Ic(o,null,n):Ic(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Do(e.outlet.component,i)):n.canDeactivateChecks.push(new Do(null,i)):n.canDeactivateChecks.push(new Do(null,i))}function Oc(t){return typeof t=="function"}function lU(t){return typeof t=="boolean"}function dU(t){return t&&Oc(t.canLoad)}function hU(t){return t&&Oc(t.canActivate)}function fU(t){return t&&Oc(t.canActivateChild)}function pU(t){return t&&Oc(t.canDeactivate)}function gU(t){return t&&Oc(t.canMatch)}function tS(t){return t instanceof Wn||t?.name==="EmptyError"}var zd=Symbol("INITIAL_VALUE");function Ro(){return xt(t=>ja(t.map(e=>e.pipe(Qn(1),Sl(zd)))).pipe(Z(e=>{for(let n of e)if(n!==!0){if(n===zd)return zd;if(n===!1||mU(n))return n}return!0}),Dt(e=>e!==zd),Qn(1)))}function mU(t){return ts(t)||t instanceof Cc}function yU(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?J(fe(k({},n),{guardsResult:!0})):vU(o,r,i,t).pipe(je(a=>a&&lU(a)?_U(r,s,t,e):J(a)),Z(a=>fe(k({},n),{guardsResult:a})))})}function vU(t,e,n,r){return Se(t).pipe(je(i=>DU(i.component,i.route,n,e,r)),_n(i=>i!==!0,!0))}function _U(t,e,n,r){return Se(e).pipe(Kn(i=>Gs(IU(i.route.parent,r),wU(i.route,r),bU(t,i.path,n),EU(t,i.route,n))),_n(i=>i!==!0,!0))}function wU(t,e){return t!==null&&e&&e(new Oy(t)),J(!0)}function IU(t,e){return t!==null&&e&&e(new xy(t)),J(!0)}function EU(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return J(!0);let i=r.map(s=>Dl(()=>{let o=xc(e)??n,a=No(s,o),u=hU(a)?a.canActivate(e,t):Xt(o,()=>a(e,t));return ii(u).pipe(_n())}));return J(i).pipe(Ro())}function bU(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>aU(o)).filter(o=>o!==null).map(o=>Dl(()=>{let a=o.guards.map(u=>{let l=xc(o.node)??n,h=No(u,l),p=fU(h)?h.canActivateChild(r,t):Xt(l,()=>h(r,t));return ii(p).pipe(_n())});return J(a).pipe(Ro())}));return J(s).pipe(Ro())}function DU(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return J(!0);let o=s.map(a=>{let u=xc(e)??i,l=No(a,u),h=pU(l)?l.canDeactivate(t,e,n,r):Xt(u,()=>l(t,e,n,r));return ii(h).pipe(_n())});return J(o).pipe(Ro())}function TU(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return J(!0);let s=i.map(o=>{let a=No(o,t),u=dU(a)?a.canLoad(e,n):Xt(t,()=>a(e,n));return ii(u)});return J(s).pipe(Ro(),nS(r))}function nS(t){return sl(Be(e=>{if(typeof e!="boolean")throw ih(t,e)}),Z(e=>e===!0))}function CU(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return J(!0);let s=i.map(o=>{let a=No(o,t),u=gU(a)?a.canMatch(e,n):Xt(t,()=>a(e,n));return ii(u)});return J(s).pipe(Ro(),nS(r))}var Sc=class{constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{constructor(e){super(),this.urlTree=e}};function wo(t){return qs(new Sc(t))}function SU(t){return qs(new W(4e3,!1))}function AU(t){return qs(X0(!1,Kt.GuardRejected))}var $y=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return J(r);if(i.numberOfChildren>1||!i.children[ue])return SU(`${e.redirectTo}`);i=i.children[ue]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:y,data:b,title:R}=i,S=Xt(s,()=>a({params:y,data:b,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:R}));if(S instanceof pr)throw new Ac(S);n=S}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ac(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new pr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new De(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new W(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Hy={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function RU(t,e,n,r,i){let s=rS(t,e,n);return s.matched?(r=ZV(e,r),CU(r,e,n,i).pipe(Z(o=>o===!0?s:k({},Hy)))):J(s)}function rS(t,e,n){if(e.path==="**")return NU(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?k({},Hy):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||CV)(n,t,e);if(!i)return k({},Hy);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?k(k({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function NU(t){return{matched:!0,parameters:t.length>0?F0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function N0(t,e,n,r){return n.length>0&&PU(t,n,r)?{segmentGroup:new De(e,xU(r,new De(n,t.children))),slicedSegments:[]}:n.length===0&&OU(t,n,r)?{segmentGroup:new De(t.segments,MU(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function MU(t,e,n,r){let i={};for(let s of n)if(ch(t,e,s)&&!r[gn(s)]){let o=new De([],{});i[gn(s)]=o}return k(k({},r),i)}function xU(t,e){let n={};n[ue]=e;for(let r of t)if(r.path===""&&gn(r)!==ue){let i=new De([],{});n[gn(r)]=i}return n}function PU(t,e,n){return n.some(r=>ch(t,e,r)&&gn(r)!==ue)}function OU(t,e,n){return n.some(r=>ch(t,e,r))}function ch(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function kU(t,e,n){return e.length===0&&!t.children[n]}var qy=class{};function FU(t,e,n,r,i,s,o="emptyOnly"){return new zy(t,e,n,r,i,o,s).recognize()}var LU=31,zy=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new $y(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new W(4002,`'${e.segmentGroup}'`)}recognize(){let e=N0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Z(({children:n,rootSnapshot:r})=>{let i=new Wt(r,n),s=new rh("",i),o=zV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new bo([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ue,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ue,n).pipe(Z(r=>({children:r,rootSnapshot:n})),Vr(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(Z(o=>o instanceof Wt?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Se(s).pipe(Kn(o=>{let a=r.children[o],u=XV(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Cl((o,a)=>(o.push(...a),o)),Ur(null),Hp(),je(o=>{if(o===null)return wo(r);let a=iS(o);return VU(a),J(a)}))}processSegment(e,n,r,i,s,o,a){return Se(n).pipe(Kn(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(Vr(l=>{if(l instanceof Sc)return J(null);throw l}))),_n(u=>!!u),Vr(u=>{if(tS(u))return kU(r,i,s)?J(new qy):wo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return gn(r)!==o&&(o===ue||!ch(i,s,r))?wo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):wo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=rS(n,i,s);if(!u)return wo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>LU&&(this.allowRedirects=!1));let y=new bo(s,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,M0(i),gn(i),i.component??i._loadedComponent??null,i,x0(i)),b=nh(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(b.params),y.data=Object.freeze(b.data);let R=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e);return this.applyRedirects.lineralizeSegments(i,R).pipe(je(S=>this.processSegment(e,r,n,S.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=RU(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(xt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(xt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,b=new bo(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,M0(r),gn(r),r.component??r._loadedComponent??null,r,x0(r)),R=nh(b,o,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data);let{segmentGroup:S,slicedSegments:x}=N0(n,m,y,l);if(x.length===0&&S.hasChildren())return this.processChildren(h,l,S,b).pipe(Z(V=>new Wt(b,V)));if(l.length===0&&x.length===0)return J(new Wt(b,[]));let j=gn(r)===s;return this.processSegment(h,l,S,x,j?ue:s,!0,b).pipe(Z(V=>new Wt(b,V instanceof Wt?[V]:[])))}))):wo(n)))}getChildConfig(e,n,r){return n.children?J({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?J({routes:n._loadedRoutes,injector:n._loadedInjector}):TU(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Be(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):AU(n))):J({routes:[],injector:e})}};function VU(t){t.sort((e,n)=>e.value.outlet===ue?-1:n.value.outlet===ue?1:e.value.outlet.localeCompare(n.value.outlet))}function UU(t){let e=t.value.routeConfig;return e&&e.path===""}function iS(t){let e=[],n=new Set;for(let r of t){if(!UU(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=iS(r.children);e.push(new Wt(r.value,i))}return e.filter(r=>!n.has(r))}function M0(t){return t.data||{}}function x0(t){return t.resolve||{}}function jU(t,e,n,r,i,s){return je(o=>FU(t,e,n,r,o.extractedUrl,i,s).pipe(Z(({state:a,tree:u})=>fe(k({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function BU(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return J(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of sS(u))o.add(l);let a=0;return Se(o).pipe(Kn(u=>s.has(u)?$U(u,r,t,e):(u.data=nh(u,u.parent,t).resolve,J(void 0))),Be(()=>a++),Ws(1),je(u=>a===o.size?J(n):qt))})}function sS(t){let e=t.children.map(n=>sS(n)).flat();return[t,...e]}function $U(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!J0(i)&&(s[Nc]=i.title),HU(s,t,e,r).pipe(Z(o=>(t._resolvedData=o,t.data=nh(t,t.parent,n).resolve,null)))}function HU(t,e,n,r){let i=Ey(t);if(i.length===0)return J({});let s={};return Se(i).pipe(je(o=>qU(t[o],e,n,r).pipe(_n(),Be(a=>{if(a instanceof Cc)throw ih(new Co,a);s[o]=a}))),Ws(1),$p(s),Vr(o=>tS(o)?qt:qs(o)))}function qU(t,e,n,r){let i=xc(e)??r,s=No(t,i),o=s.resolve?s.resolve(e,n):Xt(i,()=>s(e,n));return ii(o)}function wy(t){return xt(e=>{let n=t(e);return n?Se(n).pipe(Z(()=>e)):J(e)})}var oS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ue);return r}getResolvedTitleForRoute(n){return n.data[Nc]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(zU),providedIn:"root"})}}return t})(),zU=(()=>{class t extends oS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(z(D0))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),kc=new $("",{providedIn:"root",factory:()=>({})}),GU=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Ye({type:t,selectors:[["ng-component"]],standalone:!0,features:[Xe],decls:1,vars:0,template:function(r,i){r&1&&Re(0,"router-outlet")},dependencies:[Ky],encapsulation:2})}}return t})();function Qy(t){let e=t.children&&t.children.map(Qy),n=e?fe(k({},t),{children:e}):k({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ue&&(n.component=GU),n}var Rc=new $(""),Yy=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=P(xd)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return J(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=ii(n.loadComponent()).pipe(Z(aS),Be(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Pi(()=>{this.componentLoaders.delete(n)})),i=new js(r,()=>new Qe).pipe(Us());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return J({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=WU(r,this.compiler,n,this.onLoadEndListener).pipe(Pi(()=>{this.childrenLoaders.delete(r)})),o=new js(s,()=>new Qe).pipe(Us());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function WU(t,e,n,r){return ii(t.loadChildren()).pipe(Z(aS),je(i=>i instanceof Za||Array.isArray(i)?J(i):Se(e.compileModuleAsync(i))),Z(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(Rc,[],{optional:!0,self:!0}).flat()),{routes:o.map(Qy),injector:s}}))}function KU(t){return t&&typeof t=="object"&&"default"in t}function aS(t){return KU(t)?t.default:t}var Jy=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(QU),providedIn:"root"})}}return t})(),QU=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),cS=new $(""),uS=new $("");function YU(t,e,n){let r=t.get(uS),i=t.get(vt);return t.get(we).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),JU(t))),{onViewTransitionCreated:u}=r;return u&&Xt(t,()=>u({transition:a,from:e,to:n})),o})}function JU(t){return new Promise(e=>{Bm({read:()=>setTimeout(e)},{injector:t})})}var ZU=new $(""),Zy=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Qe,this.transitionAbortSubject=new Qe,this.configLoader=P(Yy),this.environmentInjector=P(Ct),this.urlSerializer=P(Mc),this.rootContexts=P(Pc),this.location=P(_o),this.inputBindingEnabled=P(ah,{optional:!0})!==null,this.titleStrategy=P(oS),this.options=P(kc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=P(Jy),this.createViewTransition=P(cS,{optional:!0}),this.navigationErrorHandler=P(ZU,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>J(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Ny(i)),r=i=>this.events.next(new My(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(fe(k(k({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new it({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:wc,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Dt(s=>s.id!==0),Z(s=>fe(k({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),xt(s=>{let o=!1,a=!1;return J(s).pipe(xt(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Kt.SupersededByNewNavigation),qt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?fe(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),h=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&h!=="reload"){let p="";return this.events.next(new ri(u.id,this.urlSerializer.serialize(u.rawUrl),p,Jd.IgnoredSameUrlNavigation)),u.resolve(!1),qt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return J(u).pipe(xt(p=>{let m=this.transitions?.getValue();return this.events.next(new So(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),m!==this.transitions?.getValue()?qt:Promise.resolve(p)}),jU(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),Be(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation=fe(k({},this.currentNavigation),{finalUrl:p.urlAfterRedirects});let m=new Zd(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(m)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:p,extractedUrl:m,source:y,restoredState:b,extras:R}=u,S=new So(p,this.urlSerializer.serialize(m),y,b);this.events.next(S);let x=Q0(this.rootComponentType).snapshot;return this.currentTransition=s=fe(k({},u),{targetSnapshot:x,urlAfterRedirects:m,extras:fe(k({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,J(s)}else{let p="";return this.events.next(new ri(u.id,this.urlSerializer.serialize(u.extractedUrl),p,Jd.IgnoredByUrlHandlingStrategy)),u.resolve(!1),qt}}),Be(u=>{let l=new Cy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),Z(u=>(this.currentTransition=s=fe(k({},u),{guards:oU(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),yU(this.environmentInjector,u=>this.events.next(u)),Be(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw ih(this.urlSerializer,u.guardsResult);let l=new Sy(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Dt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",Kt.GuardRejected),!1)),wy(u=>{if(u.guards.canActivateChecks.length)return J(u).pipe(Be(l=>{let h=new Ay(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),xt(l=>{let h=!1;return J(l).pipe(BU(this.paramsInheritanceStrategy,this.environmentInjector),Be({next:()=>h=!0,complete:()=>{h||this.cancelNavigationTransition(l,"",Kt.NoDataFromResolver)}}))}),Be(l=>{let h=new Ry(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}))}),wy(u=>{let l=h=>{let p=[];h.routeConfig?.loadComponent&&!h.routeConfig._loadedComponent&&p.push(this.configLoader.loadComponent(h.routeConfig).pipe(Be(m=>{h.component=m}),Z(()=>{})));for(let m of h.children)p.push(...l(m));return p};return ja(l(u.targetSnapshot.root)).pipe(Ur(null),Qn(1))}),wy(()=>this.afterPreactivation()),xt(()=>{let{currentSnapshot:u,targetSnapshot:l}=s,h=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return h?Se(h).pipe(Z(()=>s)):J(s)}),Z(u=>{let l=tU(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=fe(k({},u),{targetRouterState:l}),this.currentNavigation.targetRouterState=l,s}),Be(()=>{this.events.next(new Dc)}),sU(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Qn(1),Be({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new An(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),qp(this.transitionAbortSubject.pipe(Be(u=>{throw u}))),Pi(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Vr(u=>{if(a=!0,eS(u))this.events.next(new fr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),iU(u)?this.events.next(new Ao(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let l=new bc(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let h=Xt(this.environmentInjector,()=>this.navigationErrorHandler?.(l));if(h instanceof Cc){let{message:p,cancellationCode:m}=ih(this.urlSerializer,h);this.events.next(new fr(s.id,this.urlSerializer.serialize(s.extractedUrl),p,m)),this.events.next(new Ao(h.redirectTo,h.navigationBehaviorOptions))}else{this.events.next(l);let p=n.errorHandler(u);s.resolve(!!p)}}catch(h){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(h)}}return qt}))}))}cancelNavigationTransition(n,r,i){let s=new fr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function XU(t){return t!==wc}var e2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(t2),providedIn:"root"})}}return t})(),Gy=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},t2=(()=>{class t extends Gy{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),lS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:()=>P(n2),providedIn:"root"})}}return t})(),n2=(()=>{class t extends lS{constructor(){super(...arguments),this.location=P(_o),this.urlSerializer=P(Mc),this.options=P(kc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=P(Jy),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new pr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Q0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof So)this.stateMemento=this.createStateMemento();else if(n instanceof ri)this.rawUrlTree=r.initialUrl;else if(n instanceof Zd){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Dc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof fr&&(n.code===Kt.GuardRejected||n.code===Kt.NoDataFromResolver)?this.restoreHistory(r):n instanceof bc?this.restoreHistory(r,!0):n instanceof An&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof pr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=k(k({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=k(k({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),vc=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(vc||{});function dS(t,e){t.events.pipe(Dt(n=>n instanceof An||n instanceof fr||n instanceof bc||n instanceof ri),Z(n=>n instanceof An||n instanceof ri?vc.COMPLETE:(n instanceof fr?n.code===Kt.Redirect||n.code===Kt.SupersededByNewNavigation:!1)?vc.REDIRECTING:vc.FAILED),Dt(n=>n!==vc.REDIRECTING),Qn(1)).subscribe(()=>{e()})}function r2(t){throw t}var i2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},s2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},at=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=P(Nd),this.stateManager=P(lS),this.options=P(kc,{optional:!0})||{},this.pendingTasks=P(Yr),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=P(Zy),this.urlSerializer=P(Mc),this.location=P(_o),this.urlHandlingStrategy=P(Jy),this._events=new Qe,this.errorHandler=this.options.errorHandler||r2,this.navigated=!1,this.routeReuseStrategy=P(e2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=P(Rc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!P(ah,{optional:!0}),this.eventsSubscription=new ke,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof fr&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof An)this.navigated=!0;else if(r instanceof Ao){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||XU(i.source)},o);this.scheduleNavigation(a,wc,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}a2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),wc,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Qy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:o,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),s);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=s||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=z0(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),p=this.currentUrlTree.root}return G0(p,n,h,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=ts(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,wc,null,r)}navigate(n,r={skipLocationChange:!1}){return o2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=k({},i2):r===!1?i=k({},s2):i=r,ts(n))return T0(this.currentUrlTree,n,i);let s=this.parseUrl(n);return T0(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return dS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function o2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new W(4008,!1)}function a2(t){return!(t instanceof Dc)&&!(t instanceof Ao)}var si=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new Qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof An&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ts(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:LT(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:ts(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(oe(at),oe(Rn),wm("tabindex"),oe(Wi),oe(pn),oe(dr))}}static{this.\u0275dir=Je({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&yt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&Ki("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xr],replaceUrl:[2,"replaceUrl","replaceUrl",Xr],routerLink:"routerLink"},standalone:!0,features:[jm,Wr]})}}return t})();var oh=class{};var c2=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Dt(n=>n instanceof An),Kn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Cd(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Se(i).pipe(zs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=J(null);let s=i.pipe(je(o=>o===null?J(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Se([s,o]).pipe(zs())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(z(at),z(xd),z(Ct),z(oh),z(Yy))}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hS=new $(""),u2=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof So?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof An?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof ri&&n.code===Jd.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Xd&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Xd(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){QT()}}static{this.\u0275prov=H({token:t,factory:t.\u0275fac})}}return t})();function fS(t,...e){return Ft([{provide:Rc,multi:!0,useValue:t},[],{provide:Rn,useFactory:pS,deps:[at]},{provide:sc,multi:!0,useFactory:gS},e.map(n=>n.\u0275providers)])}function pS(t){return t.routerState.root}function Fc(t,e){return{\u0275kind:t,\u0275providers:e}}function gS(){let t=P(Ke);return e=>{let n=t.get(Zr);if(e!==n.components[0])return;let r=t.get(at),i=t.get(mS);t.get(Xy)===1&&r.initialNavigation(),t.get(yS,null,de.Optional)?.setUpPreloading(),t.get(hS,null,de.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var mS=new $("",{factory:()=>new Qe}),Xy=new $("",{providedIn:"root",factory:()=>1});function l2(){return Fc(2,[{provide:Xy,useValue:0},{provide:Md,multi:!0,deps:[Ke],useFactory:e=>{let n=e.get(ZC,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(at),s=e.get(mS);dS(i,()=>{r(!0)}),e.get(Zy).afterPreactivation=()=>(r(!0),s.closed?J(void 0):s),i.initialNavigation()}))}}])}function d2(){return Fc(3,[{provide:Md,multi:!0,useFactory:()=>{let e=P(at);return()=>{e.setUpLocationChangeListener()}}},{provide:Xy,useValue:2}])}var yS=new $("");function h2(t){return Fc(0,[{provide:yS,useExisting:c2},{provide:oh,useExisting:t}])}function f2(){return Fc(8,[R0,{provide:ah,useExisting:R0}])}function p2(t){let e=[{provide:cS,useValue:YU},{provide:uS,useValue:k({skipNextTransition:!!t?.skipInitialTransition},t)}];return Fc(9,e)}var P0=new $("ROUTER_FORROOT_GUARD"),g2=[_o,{provide:Mc,useClass:Co},at,Pc,{provide:Rn,useFactory:pS,deps:[at]},Yy,[]],oi=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[g2,[],{provide:Rc,multi:!0,useValue:n},{provide:P0,useFactory:_2,deps:[[at,new He,new DD]]},{provide:kc,useValue:r||{}},r?.useHash?y2():v2(),m2(),r?.preloadingStrategy?h2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?w2(r):[],r?.bindToComponentInputs?f2().\u0275providers:[],r?.enableViewTransitions?p2().\u0275providers:[],I2()]}}static forChild(n){return{ngModule:t,providers:[{provide:Rc,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(z(P0,8))}}static{this.\u0275mod=tr({type:t})}static{this.\u0275inj=er({})}}return t})();function m2(){return{provide:hS,useFactory:()=>{let t=P(i0),e=P(we),n=P(kc),r=P(Zy),i=P(Mc);return n.scrollOffset&&t.setOffset(n.scrollOffset),new u2(i,r,t,e,n)}}}function y2(){return{provide:dr,useClass:e0}}function v2(){return{provide:dr,useClass:ty}}function _2(t){return"guarded"}function w2(t){return[t.initialNavigation==="disabled"?d2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?l2().\u0275providers:[]]}var O0=new $("");function I2(){return[{provide:O0,useFactory:gS},{provide:sc,multi:!0,useExisting:O0}]}var CS=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(oe(Wi),oe(pn))}}static{this.\u0275dir=Je({type:t})}}return t})(),SS=(()=>{class t extends CS{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,features:[rn]})}}return t})(),tv=new $("");var E2={provide:tv,useExisting:Cn(()=>ai),multi:!0};function b2(){let t=lr()?lr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var D2=new $(""),ai=(()=>{class t extends CS{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!b2())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(oe(Wi),oe(pn),oe(D2,8))}}static{this.\u0275dir=Je({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&yt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Jr([E2]),rn]})}}return t})();function lh(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function T2(t){return t!=null&&typeof t.length=="number"}var Hc=new $(""),AS=new $("");function C2(t){return e=>{if(lh(e.value)||lh(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function S2(t){return lh(t.value)?{required:!0}:null}function A2(t){return e=>lh(e.value)||!T2(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function vS(t){return null}function RS(t){return t!=null}function NS(t){return Ji(t)?Se(t):t}function MS(t){let e={};return t.forEach(n=>{e=n!=null?k(k({},e),n):e}),Object.keys(e).length===0?null:e}function xS(t,e){return e.map(n=>n(t))}function R2(t){return!t.validate}function PS(t){return t.map(e=>R2(e)?e:n=>e.validate(n))}function N2(t){if(!t)return null;let e=t.filter(RS);return e.length==0?null:function(n){return MS(xS(n,e))}}function nv(t){return t!=null?N2(PS(t)):null}function M2(t){if(!t)return null;let e=t.filter(RS);return e.length==0?null:function(n){let r=xS(n,e).map(NS);return Bp(r).pipe(Z(MS))}}function rv(t){return t!=null?M2(PS(t)):null}function _S(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function x2(t){return t._rawValidators}function P2(t){return t._rawAsyncValidators}function ev(t){return t?Array.isArray(t)?t:[t]:[]}function dh(t,e){return Array.isArray(t)?t.includes(e):t===e}function wS(t,e){let n=ev(e);return ev(t).forEach(i=>{dh(n,i)||n.push(i)}),n}function IS(t,e){return ev(e).filter(n=>!dh(t,n))}var hh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=nv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=rv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Oo=class extends hh{get formDirective(){return null}get path(){return null}},$c=class extends hh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},fh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},O2={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},c7=fe(k({},O2),{"[class.ng-submitted]":"isSubmitted"}),Fo=(()=>{class t extends fh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(oe($c,2))}}static{this.\u0275dir=Je({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Sd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[rn]})}}return t})(),Lo=(()=>{class t extends fh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(oe(Oo,10))}}static{this.\u0275dir=Je({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Sd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[rn]})}}return t})();var Lc="VALID",uh="INVALID",xo="PENDING",Vc="DISABLED",ko=class{},ph=class extends ko{constructor(e,n){super(),this.value=e,this.source=n}},jc=class extends ko{constructor(e,n){super(),this.pristine=e,this.source=n}},Bc=class extends ko{constructor(e,n){super(),this.touched=e,this.source=n}},Po=class extends ko{constructor(e,n){super(),this.status=e,this.source=n}};function OS(t){return(yh(t)?t.validators:t)||null}function k2(t){return Array.isArray(t)?nv(t):t||null}function kS(t,e){return(yh(e)?e.asyncValidators:t)||null}function F2(t){return Array.isArray(t)?rv(t):t||null}function yh(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function L2(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new W(1e3,"");if(!r[n])throw new W(1001,"")}function V2(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new W(1002,"")})}var gh=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=oc(()=>this.statusReactive()),this.statusReactive=ic(void 0),this._pristine=oc(()=>this.pristineReactive()),this.pristineReactive=ic(!0),this._touched=oc(()=>this.touchedReactive()),this.touchedReactive=ic(!1),this._events=new Qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return ar(this.statusReactive)}set status(e){ar(()=>this.statusReactive.set(e))}get valid(){return this.status===Lc}get invalid(){return this.status===uh}get pending(){return this.status==xo}get disabled(){return this.status===Vc}get enabled(){return this.status!==Vc}get pristine(){return ar(this.pristineReactive)}set pristine(e){ar(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return ar(this.touchedReactive)}set touched(e){ar(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(wS(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(wS(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(IS(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(IS(e,this._rawAsyncValidators))}hasValidator(e){return dh(this._rawValidators,e)}hasAsyncValidator(e){return dh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(fe(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Bc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Bc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(fe(k({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new jc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new jc(!0,r))}markAsPending(e={}){this.status=xo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Po(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(fe(k({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Vc,this.errors=null,this._forEachChild(i=>{i.disable(fe(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ph(this.value,r)),this._events.next(new Po(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(fe(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Lc,this._forEachChild(r=>{r.enable(fe(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(fe(k({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Lc||this.status===xo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ph(this.value,n)),this._events.next(new Po(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(fe(k({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Vc:Lc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=xo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=NS(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Po(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ve,this.statusChanges=new Ve}_calculateStatus(){return this._allControlsDisabled()?Vc:this.errors?uh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xo)?xo:this._anyControlsHaveStatus(uh)?uh:Lc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new jc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Bc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){yh(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=k2(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=F2(this._rawAsyncValidators)}},mh=class extends gh{constructor(e,n,r){super(OS(n),kS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){V2(this,!0,e),Object.keys(e).forEach(r=>{L2(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var iv=new $("CallSetDisabledState",{providedIn:"root",factory:()=>sv}),sv="always";function U2(t,e){return[...e.path,t]}function FS(t,e,n=sv){LS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),B2(t,e),H2(t,e),$2(t,e),j2(t,e)}function ES(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function j2(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function LS(t,e){let n=x2(t);e.validator!==null?t.setValidators(_S(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=P2(t);e.asyncValidator!==null?t.setAsyncValidators(_S(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();ES(e._rawValidators,i),ES(e._rawAsyncValidators,i)}function B2(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&VS(t,e)})}function $2(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&VS(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function VS(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function H2(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function q2(t,e){t==null,LS(t,e)}function z2(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function G2(t){return Object.getPrototypeOf(t.constructor)===SS}function W2(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function K2(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===ai?n=s:G2(s)?r=s:i=s}),i||r||n||null}var Q2={provide:Oo,useExisting:Cn(()=>ns)},Uc=Promise.resolve(),ns=(()=>{class t extends Oo{get submitted(){return ar(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=oc(()=>this.submittedReactive()),this.submittedReactive=ic(!1),this._directives=new Set,this.ngSubmit=new Ve,this.form=new mh({},nv(n),rv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Uc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),FS(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Uc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Uc.then(()=>{let r=this._findContainer(n.path),i=new mh({});q2(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Uc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Uc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),W2(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(oe(Hc,10),oe(AS,10),oe(iv,8))}}static{this.\u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&yt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jr([Q2]),rn]})}}return t})();function bS(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function DS(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var Y2=class extends gh{constructor(e=null,n,r){super(OS(n),kS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),yh(n)&&(n.nonNullable||n.initialValueIsDefault)&&(DS(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){bS(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){bS(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){DS(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var J2={provide:$c,useExisting:Cn(()=>rs)},TS=Promise.resolve(),rs=(()=>{class t extends $c{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new Y2,this._registered=!1,this.name="",this.update=new Ve,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=K2(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),z2(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){FS(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){TS.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Xr(r);TS.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?U2(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(oe(Oo,9),oe(Hc,10),oe(AS,10),oe(tv,10),oe(Zi,8),oe(iv,8))}}static{this.\u0275dir=Je({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jr([J2]),rn,Wr]})}}return t})(),Vo=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),Z2={provide:tv,useExisting:Cn(()=>qc),multi:!0},qc=(()=>{class t extends SS{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&yt("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[Jr([Z2]),rn]})}}return t})();function X2(t){return typeof t=="number"?t:parseInt(t,10)}function ej(t){return typeof t=="number"?t:parseFloat(t)}var ov=(()=>{class t{constructor(){this._validator=vS}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):vS,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Je({type:t,features:[Wr]})}}return t})();var tj={provide:Hc,useExisting:Cn(()=>zc),multi:!0},zc=(()=>{class t extends ov{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=n=>ej(n),this.createValidator=n=>C2(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ki("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Jr([tj]),rn]})}}return t})(),nj={provide:Hc,useExisting:Cn(()=>is),multi:!0};var is=(()=>{class t extends ov{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=Xr,this.createValidator=n=>S2}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ki("required",i._enabled?"":null)},inputs:{required:"required"},features:[Jr([nj]),rn]})}}return t})();var rj={provide:Hc,useExisting:Cn(()=>Gc),multi:!0},Gc=(()=>{class t extends ov{constructor(){super(...arguments),this.inputName="minlength",this.normalizeInput=n=>X2(n),this.createValidator=n=>A2(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=ir(t)))(i||t)}})()}static{this.\u0275dir=Je({type:t,selectors:[["","minlength","","formControlName",""],["","minlength","","formControl",""],["","minlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ki("minlength",i._enabled?i.minlength:null)},inputs:{minlength:"minlength"},features:[Jr([rj]),rn]})}}return t})();var ij=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tr({type:t})}static{this.\u0275inj=er({})}}return t})();var Uo=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:iv,useValue:n.callSetDisabledState??sv}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=tr({type:t})}static{this.\u0275inj=er({imports:[ij]})}}return t})();var jS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},sj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},BS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,o||(m=64)),r.push(n[h],n[p],n[m],n[y])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(jS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||l==null||p==null)throw new uv;let m=s<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let b=l<<6&192|p;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},uv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},oj=function(t){let e=jS(t);return BS.encodeByteArray(e,!0)},Wc=function(t){return oj(t).replace(/\./g,"")},dv=function(t){try{return BS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var cj=()=>aj().__FIREBASE_DEFAULTS__,uj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&dv(t[1]);return e&&JSON.parse(e)},_h=()=>{try{return cj()||uj()||lj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hv=t=>{var e,n;return(n=(e=_h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},wh=t=>{let e=hv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fv=()=>{var t;return(t=_h())===null||t===void 0?void 0:t.config},pv=t=>{var e;return(e=_h())===null||e===void 0?void 0:e[`_${t}`]};var vh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Ih(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wc(JSON.stringify(n)),Wc(JSON.stringify(o)),""].join(".")}function tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $S(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tt())}function dj(){var t;let e=(t=_h())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function zS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function GS(){let t=tt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function WS(){return!dj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gv(){try{return typeof indexedDB=="object"}catch{return!1}}function KS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var hj="FirebaseError",Nt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hj,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gr.prototype.create)}},gr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?fj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Nt(i,a,r)}};function fj(t,e){return t.replace(pj,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var pj=/\{\$([^}]+)}/g;function QS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ss(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(US(s)&&US(o)){if(!ss(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function US(t){return t!==null&&typeof t=="object"}function Kc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function jo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Bo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function YS(t,e){let n=new lv(t,e);return n.subscribe.bind(n)}var lv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gj(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=cv),i.error===void 0&&(i.error=cv),i.complete===void 0&&(i.complete=cv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gj(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function cv(){}var d7=4*60*60*1e3;function Fe(t){return t&&t._delegate?t._delegate:t}var Ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var os="[DEFAULT]";var mv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new vh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yj(e))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return w(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=os){return this.instances.has(e)}getOptions(e=os){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mj(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=os){return this.component?this.component.multipleInstances?e:os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function mj(t){return t===os?void 0:t}function yj(t){return t.instantiationMode==="EAGER"}var Eh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new mv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var vj=[],ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{}),_j={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},wj=ye.INFO,Ij={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},Ej=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ij[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},ci=class{constructor(e){this.name=e,this._logLevel=wj,this._logHandler=Ej,this._userLogHandler=null,vj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_j[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var bj=(t,e)=>e.some(n=>t instanceof n),JS,ZS;function Dj(){return JS||(JS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Tj(){return ZS||(ZS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var XS=new WeakMap,vv=new WeakMap,eA=new WeakMap,yv=new WeakMap,wv=new WeakMap;function Cj(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Nn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&XS.set(n,t)}).catch(()=>{}),wv.set(e,t),e}function Sj(t){if(vv.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});vv.set(t,e)}var _v={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return vv.get(t);if(e==="objectStoreNames")return t.objectStoreNames||eA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function tA(t){_v=t(_v)}function Aj(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(bh(this),e,...n);return eA.set(r,e.sort?e.sort():[e]),Nn(r)}:Tj().includes(t)?function(...e){return t.apply(bh(this),e),Nn(XS.get(this))}:function(...e){return Nn(t.apply(bh(this),e))}}function Rj(t){return typeof t=="function"?Aj(t):(t instanceof IDBTransaction&&Sj(t),bj(t,Dj())?new Proxy(t,_v):t)}function Nn(t){if(t instanceof IDBRequest)return Cj(t);if(yv.has(t))return yv.get(t);let e=Rj(t);return e!==t&&(yv.set(t,e),wv.set(e,t)),e}var bh=t=>wv.get(t);function rA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=Nn(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Nn(o.result),u.oldVersion,u.newVersion,Nn(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var Nj=["get","getKey","getAll","getAllKeys","count"],Mj=["put","add","delete","clear"],Iv=new Map;function nA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Iv.get(e))return Iv.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Mj.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Nj.includes(n)))return;let s=function(o,...a){return w(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return Iv.set(e,s),s}tA(t=>fe(k({},t),{get:(e,n,r)=>nA(e,n)||t.get(e,n,r),has:(e,n)=>!!nA(e,n)||t.has(e,n)}));var bv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(xj(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function xj(t){let e=t.getComponent();return e?.type==="VERSION"}var Dv="@firebase/app",iA="0.10.13";var mr=new ci("@firebase/app"),Pj="@firebase/app-compat",Oj="@firebase/analytics-compat",kj="@firebase/analytics",Fj="@firebase/app-check-compat",Lj="@firebase/app-check",Vj="@firebase/auth",Uj="@firebase/auth-compat",jj="@firebase/database",Bj="@firebase/data-connect",$j="@firebase/database-compat",Hj="@firebase/functions",qj="@firebase/functions-compat",zj="@firebase/installations",Gj="@firebase/installations-compat",Wj="@firebase/messaging",Kj="@firebase/messaging-compat",Qj="@firebase/performance",Yj="@firebase/performance-compat",Jj="@firebase/remote-config",Zj="@firebase/remote-config-compat",Xj="@firebase/storage",eB="@firebase/storage-compat",tB="@firebase/firestore",nB="@firebase/vertexai-preview",rB="@firebase/firestore-compat",iB="firebase",sB="10.14.1";var Tv="[DEFAULT]",oB={[Dv]:"fire-core",[Pj]:"fire-core-compat",[kj]:"fire-analytics",[Oj]:"fire-analytics-compat",[Lj]:"fire-app-check",[Fj]:"fire-app-check-compat",[Vj]:"fire-auth",[Uj]:"fire-auth-compat",[jj]:"fire-rtdb",[Bj]:"fire-data-connect",[$j]:"fire-rtdb-compat",[Hj]:"fire-fn",[qj]:"fire-fn-compat",[zj]:"fire-iid",[Gj]:"fire-iid-compat",[Wj]:"fire-fcm",[Kj]:"fire-fcm-compat",[Qj]:"fire-perf",[Yj]:"fire-perf-compat",[Jj]:"fire-rc",[Zj]:"fire-rc-compat",[Xj]:"fire-gcs",[eB]:"fire-gcs-compat",[tB]:"fire-fst",[rB]:"fire-fst-compat",[nB]:"fire-vertex","fire-js":"fire-js",[iB]:"fire-js-all"};var Qc=new Map,aB=new Map,Cv=new Map;function sA(t,e){try{t.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Mn(t){let e=t.name;if(Cv.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Cv.set(e,t);for(let n of Qc.values())sA(n,t);for(let n of aB.values())sA(n,t);return!0}function as(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t.settings!==void 0}var cB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ui=new gr("app","Firebase",cB);var Sv=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ui.create("app-deleted",{appName:this._name})}};var Pn=sB;function Nv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Tv,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ui.create("bad-app-name",{appName:String(i)});if(n||(n=fv()),!n)throw ui.create("no-options");let s=Qc.get(i);if(s){if(ss(n,s.options)&&ss(r,s.config))return s;throw ui.create("duplicate-app",{appName:i})}let o=new Eh(i);for(let u of Cv.values())o.addComponent(u);let a=new Sv(n,r,o);return Qc.set(i,a),a}function li(t=Tv){let e=Qc.get(t);if(!e&&t===Tv&&fv())return Nv();if(!e)throw ui.create("no-app",{appName:t});return e}function Dh(){return Array.from(Qc.values())}function Me(t,e,n){var r;let i=(r=oB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(a.join(" "));return}Mn(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var uB="firebase-heartbeat-database",lB=1,Yc="firebase-heartbeat-store",Ev=null;function uA(){return Ev||(Ev=rA(uB,lB,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Yc)}catch(n){console.warn(n)}}}}).catch(t=>{throw ui.create("idb-open",{originalErrorMessage:t.message})})),Ev}function dB(t){return w(this,null,function*(){try{let n=(yield uA()).transaction(Yc),r=yield n.objectStore(Yc).get(lA(t));return yield n.done,r}catch(e){if(e instanceof Nt)mr.warn(e.message);else{let n=ui.create("idb-get",{originalErrorMessage:e?.message});mr.warn(n.message)}}})}function oA(t,e){return w(this,null,function*(){try{let r=(yield uA()).transaction(Yc,"readwrite");yield r.objectStore(Yc).put(e,lA(t)),yield r.done}catch(n){if(n instanceof Nt)mr.warn(n.message);else{let r=ui.create("idb-set",{originalErrorMessage:n?.message});mr.warn(r.message)}}})}function lA(t){return`${t.name}!${t.options.appId}`}var hB=1024,fB=30*24*60*60*1e3,Av=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Rv(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return w(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=fB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){mr.warn(r)}})}getHeartbeatsHeader(){return w(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=aA(),{heartbeatsToSend:r,unsentEntries:i}=pB(this._heartbeatsCache.heartbeats),s=Wc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return mr.warn(n),""}})}};function aA(){return new Date().toISOString().substring(0,10)}function pB(t,e=hB){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),cA(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),cA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Rv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return w(this,null,function*(){return gv()?KS().then(()=>!0).catch(()=>!1):!1})}read(){return w(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield dB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return w(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return oA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function cA(t){return Wc(JSON.stringify({version:2,heartbeats:t})).length}function gB(t){Mn(new Ut("platform-logger",e=>new bv(e),"PRIVATE")),Mn(new Ut("heartbeat",e=>new Av(e),"PRIVATE")),Me(Dv,iA,t),Me(Dv,iA,"esm2017"),Me("fire-js","")}gB("");var mB="firebase",yB="10.14.1";Me(mB,yB,"app");var yr=new Xn("ANGULARFIRE2_VERSION");function Ho(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var us=(t,e)=>{let n=e?[e]:Dh(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},di=class{constructor(){return us(vB)}},vB="app-check";function $o(){}var Th=class{zone;delegate;constructor(e,n=Vp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},Mv=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$o,{},$o,$o)),n.pipe(Be({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},hi=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Th(Zone.current)),this.insideAngular=n.run(()=>new Th(Zone.current,Lp)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(z(we))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ch(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function _B(t){return Ch().ngZone.runOutsideAngular(()=>t())}function cs(t){return Ch().ngZone.run(()=>t())}function wB(t){return IB(Ch())(t)}function IB(t){return function(n){return n=n.lift(new Mv(t.ngZone)),n.pipe(Lr(t.outsideAngular),Fr(t.insideAngular))}}var EB=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),cs(()=>t.apply(void 0,r))},jt=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=cs(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",$o,{},$o,$o))),r[s]=EB(r[s],n));let i=_B(()=>t.apply(this,r));if(!e)if(i instanceof ce){let s=Ch();return i.pipe(Lr(s.outsideAngular),Fr(s.insideAngular))}else return cs(()=>i);return i instanceof ce?i.pipe(wB):i instanceof Promise?cs(()=>new Promise((s,o)=>i.then(a=>cs(()=>s(a)),a=>cs(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:cs(()=>i)};var mn=class{constructor(e){return e}},vr=class{constructor(){return Dh()}};function bB(t){return t&&t.length===1?t[0]:new mn(li())}var xv=new $("angularfire2._apps"),DB={provide:mn,useFactory:bB,deps:[[new He,xv]]},TB={provide:vr,deps:[[new He,xv]]};function CB(t){return(e,n)=>{let r=n.get(tn);Me("angularfire",yr.full,"core"),Me("angularfire",yr.full,"app"),Me("angular",FC.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new mn(i)}}function dA(t,...e){return Ft([DB,TB,{provide:xv,useFactory:CB(t),multi:!0,deps:[we,Ke,hi,...e]}])}var hA=jt(Nv,!0);function NA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var MA=NA,xA=new gr("auth","Firebase",NA());var xh=new ci("@firebase/auth");function SB(t,...e){xh.logLevel<=ye.WARN&&xh.warn(`Auth (${Pn}): ${t}`,...e)}function Ah(t,...e){xh.logLevel<=ye.ERROR&&xh.error(`Auth (${Pn}): ${t}`,...e)}function kn(t,...e){throw e_(t,...e)}function ls(t,...e){return e_(t,...e)}function PA(t,e,n){let r=Object.assign(Object.assign({},MA()),{[e]:n});return new gr("auth","Firebase",r).create(e,{appName:t.name})}function pi(t){return PA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function e_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return xA.create(t,...e)}function X(t,e,...n){if(!t)throw e_(e,...n)}function _r(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Ah(e),new Error(e)}function gi(t,e){t||_r(e)}function Fv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function AB(){return fA()==="http:"||fA()==="https:"}function fA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function RB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(AB()||qS()||"connection"in navigator)?navigator.onLine:!0}function NB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var ds=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,gi(n>e,"Short delay should be less than long delay!"),this.isMobile=$S()||zS()}get(){return RB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function t_(t,e){gi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ph=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;_r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;_r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;_r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var MB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var xB=new ds(3e4,6e4);function fs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function mi(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){return OA(t,i,()=>w(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Kc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let y=Object.assign({method:e,headers:m},l);return HS()||(y.referrerPolicy="no-referrer"),Ph.fetch()(kA(t,t.config.apiHost,n,p),y)}))})}function OA(t,e,n){return w(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},MB),e);try{let i=new Lv(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Sh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sh(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Sh(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Sh(t,"user-disabled",o);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw PA(t,h,l);kn(t,h)}}catch(i){if(i instanceof Nt)throw i;kn(t,"network-request-failed",{message:String(i)})}})}function Hh(s,o,a,u){return w(this,arguments,function*(t,e,n,r,i={}){let l=yield mi(t,e,n,r,i);return"mfaPendingCredential"in l&&kn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function kA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?t_(t.config,i):`${t.config.apiScheme}://${i}`}function PB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Lv=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(ls(this.auth,"network-request-failed")),xB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Sh(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=ls(t,e,r);return i.customData._tokenResponse=n,i}function pA(t){return t!==void 0&&t.enterprise!==void 0}var Vv=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return PB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function OB(t,e){return w(this,null,function*(){return mi(t,"GET","/v2/recaptchaConfig",fs(t,e))})}function kB(t,e){return w(this,null,function*(){return mi(t,"POST","/v1/accounts:delete",e)})}function FA(t,e){return w(this,null,function*(){return mi(t,"POST","/v1/accounts:lookup",e)})}function Jc(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function n_(t,e=!1){return w(this,null,function*(){let n=Fe(t),r=yield n.getIdToken(e),i=r_(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Jc(Pv(i.auth_time)),issuedAtTime:Jc(Pv(i.iat)),expirationTime:Jc(Pv(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Pv(t){return Number(t)*1e3}function r_(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Ah("JWT malformed, contained fewer than 3 sections"),null;try{let i=dv(n);return i?JSON.parse(i):(Ah("Failed to decode base64 JWT payload"),null)}catch(i){return Ah("Caught error parsing JWT payload as JSON",i?.toString()),null}}function gA(t){let e=r_(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Xc(t,e,n=!1){return w(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Nt&&FB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function FB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Uv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>w(this,null,function*(){yield this.iteration()}),n)}iteration(){return w(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var eu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jc(this.lastLoginAt),this.creationTime=Jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Oh(t){return w(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Xc(t,FA(n,{idToken:r}));X(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?LA(s.providerUserInfo):[],a=LB(t.providerData,o),u=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!a?.length,h=u?l:!1,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new eu(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function i_(t){return w(this,null,function*(){let e=Fe(t);yield Oh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function LB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function LA(t){return t.map(e=>{var{providerId:n}=e,r=Up(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function VB(t,e){return w(this,null,function*(){let n=yield OA(t,{},()=>w(this,null,function*(){let r=Kc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=kA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ph.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function UB(t,e){return w(this,null,function*(){return mi(t,"POST","/v2/accounts:revokeToken",fs(t,e))})}var Zc=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):gA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=gA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return w(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return w(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield VB(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return _r("not implemented")}};function fi(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var qo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Uv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new eu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return w(this,null,function*(){let n=yield Xc(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return n_(this,e)}reload(){return i_(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return w(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Oh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return w(this,null,function*(){if(xn(this.auth.app))return Promise.reject(pi(this.auth));let e=yield this.getIdToken();return yield Xc(this,kB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,y=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,b=(o=n.photoURL)!==null&&o!==void 0?o:void 0,R=(a=n.tenantId)!==null&&a!==void 0?a:void 0,S=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(l=n.createdAt)!==null&&l!==void 0?l:void 0,j=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:V,emailVerified:G,isAnonymous:he,providerData:Q,stsTokenManager:E}=n;X(V&&E,e,"internal-error");let v=Zc.fromJSON(this.name,E);X(typeof V=="string",e,"internal-error"),fi(p,e.name),fi(m,e.name),X(typeof G=="boolean",e,"internal-error"),X(typeof he=="boolean",e,"internal-error"),fi(y,e.name),fi(b,e.name),fi(R,e.name),fi(S,e.name),fi(x,e.name),fi(j,e.name);let _=new t({uid:V,auth:e,email:m,emailVerified:G,displayName:p,isAnonymous:he,photoURL:b,phoneNumber:y,tenantId:R,stsTokenManager:v,createdAt:x,lastLoginAt:j});return Q&&Array.isArray(Q)&&(_.providerData=Q.map(D=>Object.assign({},D))),S&&(_._redirectEventId=S),_}static _fromIdTokenResponse(e,n,r=!1){return w(this,null,function*(){let i=new Zc;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Oh(s),s})}static _fromGetAccountInfoResponse(e,n,r){return w(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?LA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Zc;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new eu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,l),u})}};var mA=new Map;function wr(t){gi(t instanceof Function,"Expected a class definition");let e=mA.get(t);return e?(gi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,mA.set(t,e),e)}var jB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return w(this,null,function*(){return!0})}_set(n,r){return w(this,null,function*(){this.storage[n]=r})}_get(n){return w(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return w(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),jv=jB;function Rh(t,e,n){return`firebase:${t}:${e}:${n}`}var kh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Rh(this.userKey,i.apiKey,s),this.fullPersistenceKey=Rh("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return w(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?qo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return w(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return w(this,null,function*(){if(!n.length)return new t(wr(jv),e,r);let i=(yield Promise.all(n.map(l=>w(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),s=i[0]||wr(jv),o=Rh(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(o);if(h){let p=qo._fromJSON(e,h);l!==s&&(a=p),s=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(l=>w(this,null,function*(){if(l!==s)try{yield l._remove(o)}catch{}}))),new t(s,e,r))})}};function yA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(BA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(HA(e))return"Blackberry";if(qA(e))return"Webos";if(UA(e))return"Safari";if((e.includes("chrome/")||jA(e))&&!e.includes("edge/"))return"Chrome";if($A(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function VA(t=tt()){return/firefox\//i.test(t)}function UA(t=tt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jA(t=tt()){return/crios\//i.test(t)}function BA(t=tt()){return/iemobile/i.test(t)}function $A(t=tt()){return/android/i.test(t)}function HA(t=tt()){return/blackberry/i.test(t)}function qA(t=tt()){return/webos/i.test(t)}function s_(t=tt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BB(t=tt()){var e;return s_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $B(){return GS()&&document.documentMode===10}function zA(t=tt()){return s_(t)||$A(t)||qA(t)||HA(t)||/windows phone/i.test(t)||BA(t)}function GA(t,e=[]){let n;switch(t){case"Browser":n=yA(tt());break;case"Worker":n=`${yA(tt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Pn}/${r}`}var Bv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return w(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function HB(n){return w(this,arguments,function*(t,e={}){return mi(t,"GET","/v2/passwordPolicy",fs(t,e))})}var qB=6,$v=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:qB,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Hv=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fh(this),this.idTokenSubscription=new Fh(this),this.beforeStateQueue=new Bv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=wr(n)),this._initializationPromise=this.queue(()=>w(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield kh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return w(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return w(this,null,function*(){try{let n=yield FA(this,{idToken:e}),r=yield qo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return w(this,null,function*(){var n;if(xn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return w(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return w(this,null,function*(){try{yield Oh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=NB()}_delete(){return w(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return w(this,null,function*(){if(xn(this.app))return Promise.reject(pi(this));let n=e?Fe(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return w(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>w(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return w(this,null,function*(){return xn(this.app)?Promise.reject(pi(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return xn(this.app)?Promise.reject(pi(this)):this.queue(()=>w(this,null,function*(){yield this.assertedPersistence.setPersistence(wr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return w(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return w(this,null,function*(){let e=yield HB(this),n=new $v(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return w(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield UB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return w(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return w(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&wr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield kh.create(this,[wr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return w(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>w(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return w(this,null,function*(){if(e===this.currentUser)return this.queue(()=>w(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return w(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return w(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return w(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&SB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function zo(t){return Fe(t)}var Fh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=YS(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var qh={loadJS(){return w(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zB(t){qh=t}function WA(t){return qh.loadJS(t)}function GB(){return qh.recaptchaEnterpriseScript}function WB(){return qh.gapiScript}function KA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var KB="recaptcha-enterprise",QB="NO_RECAPTCHA",qv=class{constructor(e){this.type=KB,this.auth=zo(e)}verify(e="verify",n=!1){return w(this,null,function*(){function r(s){return w(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>w(this,null,function*(){OB(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new Vv(u);return s.tenantId==null?s._agentRecaptchaConfig=l:s._tenantRecaptchaConfigs[s.tenantId]=l,o(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;pA(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(l=>{o(l)}).catch(()=>{o(QB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&pA(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=GB();u.length!==0&&(u+=a),WA(u).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})})}};function vA(t,e,n,r=!1){return w(this,null,function*(){let i=new qv(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function _A(t,e,n,r){return w(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield vA(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>w(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield vA(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function o_(t,e){let n=as(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(ss(s,e??{}))return i;kn(i,"already-initialized")}return n.initialize({options:e})}function YB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(wr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function a_(t,e,n){let r=zo(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=QA(e),{host:o,port:a}=JB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||ZB()}function QA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JB(t){let e=QA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:wA(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:wA(o)}}}function wA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function ZB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var tu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return _r("not implemented")}_getIdTokenResponse(e){return _r("not implemented")}_linkToIdToken(e,n){return _r("not implemented")}_getReauthenticationResolver(e){return _r("not implemented")}};function XB(t,e){return w(this,null,function*(){return mi(t,"POST","/v1/accounts:signUp",e)})}function e$(t,e){return w(this,null,function*(){return Hh(t,"POST","/v1/accounts:signInWithPassword",fs(t,e))})}function t$(t,e){return w(this,null,function*(){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))})}function n$(t,e){return w(this,null,function*(){return Hh(t,"POST","/v1/accounts:signInWithEmailLink",fs(t,e))})}var nu=class t extends tu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return w(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _A(e,n,"signInWithPassword",e$);case"emailLink":return t$(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}})}_linkToIdToken(e,n){return w(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _A(e,r,"signUpPassword",XB);case"emailLink":return n$(e,{idToken:n,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ov(t,e){return w(this,null,function*(){return Hh(t,"POST","/v1/accounts:signInWithIdp",fs(t,e))})}function r$(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i$(t){let e=jo(Bo(t)).link,n=e?jo(Bo(e)).deep_link_id:null,r=jo(Bo(t)).deep_link_id;return(r?jo(Bo(r)).link:null)||r||n||e||t}var Lh=class t{constructor(e){var n,r,i,s,o,a;let u=jo(Bo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=r$((i=u.mode)!==null&&i!==void 0?i:null);X(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=i$(e);try{return new t(n)}catch{return null}}};var YA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return nu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Lh.parseLink(r);return X(i,"argument-error"),nu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Vh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var zv=class extends Vh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var ru=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return w(this,null,function*(){let s=yield qo._fromIdTokenResponse(e,r,i),o=IA(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return w(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=IA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function IA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Gv=class t extends Nt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function JA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Gv._fromErrorAndOperation(t,s,e,r):s})}function s$(t,e,n=!1){return w(this,null,function*(){let r=yield Xc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ru._forOperation(t,"link",r)})}function o$(t,e,n=!1){return w(this,null,function*(){let{auth:r}=t;if(xn(r.app))return Promise.reject(pi(r));let i="reauthenticate";try{let s=yield Xc(t,JA(r,i,e,t),n);X(s.idToken,r,"internal-error");let o=r_(s.idToken);X(o,r,"internal-error");let{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),ru._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&kn(r,"user-mismatch"),s}})}function ZA(t,e,n=!1){return w(this,null,function*(){if(xn(t.app))return Promise.reject(pi(t));let r="signIn",i=yield JA(t,r,e),s=yield ru._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function c_(t,e){return w(this,null,function*(){return ZA(zo(t),e)})}function a$(t){return w(this,null,function*(){let e=zo(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function zh(t,e,n){return xn(t.app)?Promise.reject(pi(t)):c_(Fe(t),YA.credential(e,n)).catch(r=>w(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&a$(t),r}))}function Gh(t,e,n,r){return Fe(t).onIdTokenChanged(e,n,r)}function u_(t,e,n){return Fe(t).beforeAuthStateChanged(e,n)}function Wh(t,e,n,r){return Fe(t).onAuthStateChanged(e,n,r)}var Uh="__sak";var jh=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var c$=1e3,u$=10,l$=(()=>{class t extends jh{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);$B()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,u$):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},c$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return w(this,null,function*(){yield Or(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return w(this,null,function*(){let r=yield Or(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return w(this,null,function*(){yield Or(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),XA=l$;var d$=(()=>{class t extends jh{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),l_=d$;function h$(t){return Promise.all(t.map(e=>w(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var f$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return w(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(h=>w(this,null,function*(){return h(r.origin,o)})),l=yield h$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function eR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Wv=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return w(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let l=eR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function On(){return window}function p$(t){On().location.href=t}function tR(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}function g$(){return w(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function m$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function y$(){return tR()?self:null}var nR="firebaseLocalStorageDb",v$=1,Bh="firebaseLocalStorage",rR="fbase_key",hs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Kh(t,e){return t.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function _$(){let t=indexedDB.deleteDatabase(nR);return new hs(t).toPromise()}function Kv(){let t=indexedDB.open(nR,v$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Bh,{keyPath:rR})}catch(i){n(i)}}),t.addEventListener("success",()=>w(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),yield _$(),e(yield Kv()))}))})}function EA(t,e,n){return w(this,null,function*(){let r=Kh(t,!0).put({[rR]:e,value:n});return new hs(r).toPromise()})}function w$(t,e){return w(this,null,function*(){let n=Kh(t,!1).get(e),r=yield new hs(n).toPromise();return r===void 0?null:r.value})}function bA(t,e){let n=Kh(t,!0).delete(e);return new hs(n).toPromise()}var I$=800,E$=3,b$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return w(this,null,function*(){return this.db?this.db:(this.db=yield Kv(),this.db)})}_withRetries(n){return w(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>E$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return w(this,null,function*(){return tR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return w(this,null,function*(){this.receiver=f$._getInstance(y$()),this.receiver._subscribe("keyChanged",(n,r)=>w(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>w(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return w(this,null,function*(){var n,r;if(this.activeServiceWorker=yield g$(),!this.activeServiceWorker)return;this.sender=new Wv(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return w(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||m$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return w(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Kv();return yield EA(n,Uh,"1"),yield bA(n,Uh),!0}catch{}return!1})}_withPendingWrite(n){return w(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(i=>EA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return w(this,null,function*(){let r=yield this._withRetries(i=>w$(i,n));return this.localCache[n]=r,r})}_remove(n){return w(this,null,function*(){return this._withPendingWrite(()=>w(this,null,function*(){return yield this._withRetries(r=>bA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return w(this,null,function*(){let n=yield this._withRetries(s=>{let o=Kh(s,!1).getAll();return new hs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>w(this,null,function*(){return this._poll()}),I$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),iR=b$;var iQ=KA("rcb"),sQ=new ds(3e4,6e4);function D$(t,e){return e?wr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var iu=class extends tu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ov(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ov(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ov(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function T$(t){return ZA(t.auth,new iu(t),t.bypassAuthState)}function C$(t){let{auth:e,user:n}=t;return X(n,e,"internal-error"),o$(n,new iu(t),t.bypassAuthState)}function S$(t){return w(this,null,function*(){let{auth:e,user:n}=t;return X(n,e,"internal-error"),s$(n,new iu(t),t.bypassAuthState)})}var Qv=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>w(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return w(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return T$;case"linkViaPopup":case"linkViaRedirect":return S$;case"reauthViaPopup":case"reauthViaRedirect":return C$;default:kn(this.auth,"internal-error")}}resolve(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){gi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var oQ=new ds(2e3,1e4);var A$="pendingRedirect",Nh=new Map,Yv=class t extends Qv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return w(this,null,function*(){let e=Nh.get(this.auth._key());if(!e){try{let r=(yield R$(this.resolver,this.auth))?yield Or(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nh.set(this.auth._key(),e)}return this.bypassAuthState||Nh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return w(this,null,function*(){if(e.type==="signInViaRedirect")return Or(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Or(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return w(this,null,function*(){})}cleanUp(){}};function R$(t,e){return w(this,null,function*(){let n=x$(e),r=M$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function N$(t,e){Nh.set(t._key(),e)}function M$(t){return wr(t._redirectPersistence)}function x$(t){return Rh(A$,t.config.apiKey,t.name)}function P$(t,e,n=!1){return w(this,null,function*(){if(xn(t.app))return Promise.reject(pi(t));let r=zo(t),i=D$(r,e),o=yield new Yv(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var O$=10*60*1e3,Jv=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!k$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(ls(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=O$&&this.cachedEventUids.clear(),this.cachedEventUids.has(DA(e))}saveEventToCache(e){this.cachedEventUids.add(DA(e)),this.lastProcessedEventTime=Date.now()}};function DA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function k$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sR(t);default:return!1}}function F$(n){return w(this,arguments,function*(t,e={}){return mi(t,"GET","/v1/projects",e)})}var L$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,V$=/^https?/;function U$(t){return w(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield F$(t);for(let n of e)try{if(j$(n))return}catch{}kn(t,"unauthorized-domain")})}function j$(t){let e=Fv(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!V$.test(n))return!1;if(L$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var B$=new ds(3e4,6e4);function TA(){let t=On().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function $$(t){return new Promise((e,n)=>{var r,i,s;function o(){TA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{TA(),n(ls(t,"network-request-failed"))},timeout:B$.get()})}if(!((i=(r=On().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=On().gapi)===null||s===void 0)&&s.load)o();else{let a=KA("iframefcb");return On()[a]=()=>{gapi.load?o():n(ls(t,"network-request-failed"))},WA(`${WB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Mh=null,e})}var Mh=null;function H$(t){return Mh=Mh||$$(t),Mh}var q$=new ds(5e3,15e3),z$="__/auth/iframe",G$="emulator/auth/iframe",W$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},K$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Q$(t){let e=t.config;X(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?t_(e,G$):`https://${t.config.authDomain}/${z$}`,r={apiKey:e.apiKey,appName:t.name,v:Pn},i=K$.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Kc(r).slice(1)}`}function Y$(t){return w(this,null,function*(){let e=yield H$(t),n=On().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:Q$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:W$,dontclear:!0},r=>new Promise((i,s)=>w(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=ls(t,"network-request-failed"),a=On().setTimeout(()=>{s(o)},q$.get());function u(){On().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var J$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Z$=500,X$=600,eH="_blank",tH="http://localhost",$h=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function nH(t,e,n,r=Z$,i=X$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},J$),{width:r.toString(),height:i.toString(),top:s,left:o}),l=tt().toLowerCase();n&&(a=jA(l)?eH:n),VA(l)&&(e=e||tH,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[y,b])=>`${m}${y}=${b},`,"");if(BB(l)&&a!=="_self")return rH(e||"",a),new $h(null);let p=window.open(e||"",a,h);X(p,t,"popup-blocked");try{p.focus()}catch{}return new $h(p)}function rH(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var iH="__/auth/handler",sH="emulator/auth/handler",oH=encodeURIComponent("fac");function CA(t,e,n,r,i,s){return w(this,null,function*(){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Pn,eventId:i};if(e instanceof Vh){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",QS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(s||{}))o[h]=p}if(e instanceof zv){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${oH}=${encodeURIComponent(u)}`:"";return`${aH(t)}?${Kc(a).slice(1)}${l}`})}function aH({config:t}){return t.emulator?t_(t,sH):`https://${t.authDomain}/${iH}`}var kv="webStorageSupport",Zv=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=l_,this._completeRedirectFn=P$,this._overrideRedirectResult=N$}_openPopup(e,n,r,i){return w(this,null,function*(){var s;gi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield CA(e,n,r,Fv(),i);return nH(e,o,eR())})}_openRedirect(e,n,r,i){return w(this,null,function*(){yield this._originValidation(e);let s=yield CA(e,n,r,Fv(),i);return p$(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(gi(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return w(this,null,function*(){let n=yield Y$(e),r=new Jv(e);return n.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(kv,{type:kv},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[kv];o!==void 0&&n(!!o),kn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=U$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return zA()||UA()||s_()}},oR=Zv;var SA="@firebase/auth",AA="1.7.9";var Xv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return w(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function cH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uH(t){Mn(new Ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GA(t)},l=new Hv(r,i,s,u);return YB(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Mn(new Ut("auth-internal",e=>{let n=zo(e.getProvider("auth").getImmediate());return(r=>new Xv(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(SA,AA,cH(t)),Me(SA,AA,"esm2017")}var lH=5*60,dH=pv("authIdTokenMaxAge")||lH,RA=null,hH=t=>e=>w(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dH)return;let i=n?.token;RA!==i&&(RA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function d_(t=li()){let e=as(t,"auth");if(e.isInitialized())return e.getImmediate();let n=o_(t,{popupRedirectResolver:oR,persistence:[iR,XA,l_]}),r=pv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=hH(s.toString());u_(n,o,()=>o(n.currentUser)),Gh(n,a=>o(a))}}let i=hv("auth");return i&&a_(n,`http://${i}`),n}function fH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=ls("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uH("Browser");function cR(t){return new ce(function(e){var n=Wh(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var uR="auth",Ir=class{constructor(e){return e}},ps=class{constructor(){return us(uR)}};var h_=new $("angularfire2.auth-instances");function rq(t,e){let n=Ho(uR,t,e);return n&&new Ir(n)}function iq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ir(r)}}var sq={provide:ps,deps:[[new He,h_]]},oq={provide:Ir,useFactory:rq,deps:[[new He,h_],mn]};function lR(t,...e){return Me("angularfire",yr.full,"auth"),Ft([oq,sq,{provide:h_,useFactory:iq(t),multi:!0,deps:[we,Ke,hi,vr,[new He,di],...e]}])}var Qh=jt(cR,!0);var dR=jt(d_,!0);var fR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pR={};var yi,f_;(function(){var t;function e(E,v){function _(){}_.prototype=v.prototype,E.D=v.prototype,E.prototype=new _,E.prototype.constructor=E,E.C=function(D,T,A){for(var I=Array(arguments.length-2),Hn=2;Hn<arguments.length;Hn++)I[Hn-2]=arguments[Hn];return v.prototype[T].apply(D,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(E,v,_){_||(_=0);var D=Array(16);if(typeof v=="string")for(var T=0;16>T;++T)D[T]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(T=0;16>T;++T)D[T]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=E.g[0],_=E.g[1],T=E.g[2];var A=E.g[3],I=v+(A^_&(T^A))+D[0]+3614090360&4294967295;v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[1]+3905402710&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[2]+606105819&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[3]+3250441966&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[4]+4118548399&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[5]+1200080426&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[6]+2821735955&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[7]+4249261313&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[8]+1770035416&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[9]+2336552879&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[10]+4294925233&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[11]+2304563134&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(A^_&(T^A))+D[12]+1804603682&4294967295,v=_+(I<<7&4294967295|I>>>25),I=A+(T^v&(_^T))+D[13]+4254626195&4294967295,A=v+(I<<12&4294967295|I>>>20),I=T+(_^A&(v^_))+D[14]+2792965006&4294967295,T=A+(I<<17&4294967295|I>>>15),I=_+(v^T&(A^v))+D[15]+1236535329&4294967295,_=T+(I<<22&4294967295|I>>>10),I=v+(T^A&(_^T))+D[1]+4129170786&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[6]+3225465664&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[11]+643717713&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[0]+3921069994&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[5]+3593408605&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[10]+38016083&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[15]+3634488961&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[4]+3889429448&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[9]+568446438&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[14]+3275163606&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[3]+4107603335&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[8]+1163531501&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(T^A&(_^T))+D[13]+2850285829&4294967295,v=_+(I<<5&4294967295|I>>>27),I=A+(_^T&(v^_))+D[2]+4243563512&4294967295,A=v+(I<<9&4294967295|I>>>23),I=T+(v^_&(A^v))+D[7]+1735328473&4294967295,T=A+(I<<14&4294967295|I>>>18),I=_+(A^v&(T^A))+D[12]+2368359562&4294967295,_=T+(I<<20&4294967295|I>>>12),I=v+(_^T^A)+D[5]+4294588738&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[8]+2272392833&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[11]+1839030562&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[14]+4259657740&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[1]+2763975236&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[4]+1272893353&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[7]+4139469664&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[10]+3200236656&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[13]+681279174&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[0]+3936430074&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[3]+3572445317&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[6]+76029189&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(_^T^A)+D[9]+3654602809&4294967295,v=_+(I<<4&4294967295|I>>>28),I=A+(v^_^T)+D[12]+3873151461&4294967295,A=v+(I<<11&4294967295|I>>>21),I=T+(A^v^_)+D[15]+530742520&4294967295,T=A+(I<<16&4294967295|I>>>16),I=_+(T^A^v)+D[2]+3299628645&4294967295,_=T+(I<<23&4294967295|I>>>9),I=v+(T^(_|~A))+D[0]+4096336452&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[7]+1126891415&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[14]+2878612391&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[5]+4237533241&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[12]+1700485571&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[3]+2399980690&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[10]+4293915773&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[1]+2240044497&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[8]+1873313359&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[15]+4264355552&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[6]+2734768916&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[13]+1309151649&4294967295,_=T+(I<<21&4294967295|I>>>11),I=v+(T^(_|~A))+D[4]+4149444226&4294967295,v=_+(I<<6&4294967295|I>>>26),I=A+(_^(v|~T))+D[11]+3174756917&4294967295,A=v+(I<<10&4294967295|I>>>22),I=T+(v^(A|~_))+D[2]+718787259&4294967295,T=A+(I<<15&4294967295|I>>>17),I=_+(A^(T|~v))+D[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(T+(I<<21&4294967295|I>>>11))&4294967295,E.g[2]=E.g[2]+T&4294967295,E.g[3]=E.g[3]+A&4294967295}r.prototype.u=function(E,v){v===void 0&&(v=E.length);for(var _=v-this.blockSize,D=this.B,T=this.h,A=0;A<v;){if(T==0)for(;A<=_;)i(this,E,A),A+=this.blockSize;if(typeof E=="string"){for(;A<v;)if(D[T++]=E.charCodeAt(A++),T==this.blockSize){i(this,D),T=0;break}}else for(;A<v;)if(D[T++]=E[A++],T==this.blockSize){i(this,D),T=0;break}}this.h=T,this.o+=v},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;var _=8*this.o;for(v=E.length-8;v<E.length;++v)E[v]=_&255,_/=256;for(this.u(E),E=Array(16),v=_=0;4>v;++v)for(var D=0;32>D;D+=8)E[_++]=this.g[v]>>>D&255;return E};function s(E,v){var _=a;return Object.prototype.hasOwnProperty.call(_,E)?_[E]:_[E]=v(E)}function o(E,v){this.h=v;for(var _=[],D=!0,T=E.length-1;0<=T;T--){var A=E[T]|0;D&&A==v||(_[T]=A,D=!1)}this.g=_}var a={};function u(E){return-128<=E&&128>E?s(E,function(v){return new o([v|0],0>v?-1:0)}):new o([E|0],0>E?-1:0)}function l(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return S(l(-E));for(var v=[],_=1,D=0;E>=_;D++)v[D]=E/_|0,_*=4294967296;return new o(v,0)}function h(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return S(h(E.substring(1),v));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(v,8)),D=p,T=0;T<E.length;T+=8){var A=Math.min(8,E.length-T),I=parseInt(E.substring(T,T+A),v);8>A?(A=l(Math.pow(v,A)),D=D.j(A).add(l(I))):(D=D.j(_),D=D.add(l(I)))}return D}var p=u(0),m=u(1),y=u(16777216);t=o.prototype,t.m=function(){if(R(this))return-S(this).m();for(var E=0,v=1,_=0;_<this.g.length;_++){var D=this.i(_);E+=(0<=D?D:4294967296+D)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(b(this))return"0";if(R(this))return"-"+S(this).toString(E);for(var v=l(Math.pow(E,6)),_=this,D="";;){var T=G(_,v).g;_=x(_,T.j(v));var A=((0<_.g.length?_.g[0]:_.h)>>>0).toString(E);if(_=T,b(_))return A+D;for(;6>A.length;)A="0"+A;D=A+D}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function b(E){if(E.h!=0)return!1;for(var v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=x(this,E),R(E)?-1:b(E)?0:1};function S(E){for(var v=E.g.length,_=[],D=0;D<v;D++)_[D]=~E.g[D];return new o(_,~E.h).add(m)}t.abs=function(){return R(this)?S(this):this},t.add=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0,T=0;T<=v;T++){var A=D+(this.i(T)&65535)+(E.i(T)&65535),I=(A>>>16)+(this.i(T)>>>16)+(E.i(T)>>>16);D=I>>>16,A&=65535,I&=65535,_[T]=I<<16|A}return new o(_,_[_.length-1]&-2147483648?-1:0)};function x(E,v){return E.add(S(v))}t.j=function(E){if(b(this)||b(E))return p;if(R(this))return R(E)?S(this).j(S(E)):S(S(this).j(E));if(R(E))return S(this.j(S(E)));if(0>this.l(y)&&0>E.l(y))return l(this.m()*E.m());for(var v=this.g.length+E.g.length,_=[],D=0;D<2*v;D++)_[D]=0;for(D=0;D<this.g.length;D++)for(var T=0;T<E.g.length;T++){var A=this.i(D)>>>16,I=this.i(D)&65535,Hn=E.i(T)>>>16,ya=E.i(T)&65535;_[2*D+2*T]+=I*ya,j(_,2*D+2*T),_[2*D+2*T+1]+=A*ya,j(_,2*D+2*T+1),_[2*D+2*T+1]+=I*Hn,j(_,2*D+2*T+1),_[2*D+2*T+2]+=A*Hn,j(_,2*D+2*T+2)}for(D=0;D<v;D++)_[D]=_[2*D+1]<<16|_[2*D];for(D=v;D<2*v;D++)_[D]=0;return new o(_,0)};function j(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function V(E,v){this.g=E,this.h=v}function G(E,v){if(b(v))throw Error("division by zero");if(b(E))return new V(p,p);if(R(E))return v=G(S(E),v),new V(S(v.g),S(v.h));if(R(v))return v=G(E,S(v)),new V(S(v.g),v.h);if(30<E.g.length){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var _=m,D=v;0>=D.l(E);)_=he(_),D=he(D);var T=Q(_,1),A=Q(D,1);for(D=Q(D,2),_=Q(_,2);!b(D);){var I=A.add(D);0>=I.l(E)&&(T=T.add(_),A=I),D=Q(D,1),_=Q(_,1)}return v=x(E,T.j(v)),new V(T,v)}for(T=p;0<=E.l(v);){for(_=Math.max(1,Math.floor(E.m()/v.m())),D=Math.ceil(Math.log(_)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),A=l(_),I=A.j(v);R(I)||0<I.l(E);)_-=D,A=l(_),I=A.j(v);b(A)&&(A=m),T=T.add(A),E=x(E,I)}return new V(T,E)}t.A=function(E){return G(this,E).h},t.and=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)&E.i(D);return new o(_,this.h&E.h)},t.or=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)|E.i(D);return new o(_,this.h|E.h)},t.xor=function(E){for(var v=Math.max(this.g.length,E.g.length),_=[],D=0;D<v;D++)_[D]=this.i(D)^E.i(D);return new o(_,this.h^E.h)};function he(E){for(var v=E.g.length+1,_=[],D=0;D<v;D++)_[D]=E.i(D)<<1|E.i(D-1)>>>31;return new o(_,E.h)}function Q(E,v){var _=v>>5;v%=32;for(var D=E.g.length-_,T=[],A=0;A<D;A++)T[A]=0<v?E.i(A+_)>>>v|E.i(A+_+1)<<32-v:E.i(A+_);return new o(T,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,f_=pR.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=h,yi=pR.Integer=o}).apply(typeof fR<"u"?fR:typeof self<"u"?self:typeof window<"u"?window:{});var Yh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Er={};var p_,aq,Go,g_,su,Jh,m_,y_,v_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yh=="object"&&Yh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var C=c[g];if(!(C in f))break e;f=f[C]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function s(c,d){c instanceof String&&(c+="");var f=0,g=!1,C={next:function(){if(!g&&f<c.length){var N=f++;return{value:d(N,c[N]),done:!1}}return g=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(c){return c||function(){return s(this,function(d,f){return f})}});var o=o||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,g),c.apply(d,C)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function b(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,C,N){for(var L=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)L[Ce-2]=arguments[Ce];return d.prototype[C].apply(g,L)}}function R(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function S(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let C=c.length||0,N=g.length||0;c.length=C+N;for(let L=0;L<N;L++)c[C+L]=g[L]}else c.push(g)}}class x{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function j(c){return/^[\s\xa0]*$/.test(c)}function V(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function G(c){return G[" "](c),c}G[" "]=function(){};var he=V().indexOf("Gecko")!=-1&&!(V().toLowerCase().indexOf("webkit")!=-1&&V().indexOf("Edge")==-1)&&!(V().indexOf("Trident")!=-1||V().indexOf("MSIE")!=-1)&&V().indexOf("Edge")==-1;function Q(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function E(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,d){let f,g;for(let C=1;C<arguments.length;C++){g=arguments[C];for(f in g)c[f]=g[f];for(let N=0;N<_.length;N++)f=_[N],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function T(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function A(c){a.setTimeout(()=>{throw c},0)}function I(){var c=Yf;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Hn{constructor(){this.h=this.g=null}add(d,f){let g=ya.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var ya=new x(()=>new MM,c=>c.reset());class MM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let va,_a=!1,Yf=new Hn,HI=()=>{let c=a.Promise.resolve(void 0);va=()=>{c.then(xM)}};var xM=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(f){A(f)}var d=ya;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}_a=!1};function Nr(){this.s=this.s,this.C=this.C}Nr.prototype.s=!1,Nr.prototype.ma=function(){this.s||(this.s=!0,this.N())},Nr.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var PM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function wa(c,d){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(he){e:{try{G(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:OM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wa.aa.h.call(this)}}b(wa,ut);var OM={2:"touch",3:"pen",4:"mouse"};wa.prototype.h=function(){wa.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Ia="closure_listenable_"+(1e6*Math.random()|0),kM=0;function FM(c,d,f,g,C){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=C,this.key=++kM,this.da=this.fa=!1}function xu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Pu(c){this.src=c,this.g={},this.h=0}Pu.prototype.add=function(c,d,f,g,C){var N=c.toString();c=this.g[N],c||(c=this.g[N]=[],this.h++);var L=Zf(c,d,g,C);return-1<L?(d=c[L],f||(d.fa=!1)):(d=new FM(d,this.src,N,!!g,C),d.fa=f,c.push(d)),d};function Jf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],C=Array.prototype.indexOf.call(g,d,void 0),N;(N=0<=C)&&Array.prototype.splice.call(g,C,1),N&&(xu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function Zf(c,d,f,g){for(var C=0;C<c.length;++C){var N=c[C];if(!N.da&&N.listener==d&&N.capture==!!f&&N.ha==g)return C}return-1}var Xf="closure_lm_"+(1e6*Math.random()|0),ep={};function qI(c,d,f,g,C){if(g&&g.once)return GI(c,d,f,g,C);if(Array.isArray(d)){for(var N=0;N<d.length;N++)qI(c,d[N],f,g,C);return null}return f=ip(f),c&&c[Ia]?c.K(d,f,l(g)?!!g.capture:!!g,C):zI(c,d,f,!1,g,C)}function zI(c,d,f,g,C,N){if(!d)throw Error("Invalid event type");var L=l(C)?!!C.capture:!!C,Ce=np(c);if(Ce||(c[Xf]=Ce=new Pu(c)),f=Ce.add(d,f,g,L,N),f.proxy)return f;if(g=LM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)PM||(C=L),C===void 0&&(C=!1),c.addEventListener(d.toString(),g,C);else if(c.attachEvent)c.attachEvent(KI(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function LM(){function c(f){return d.call(c.src,c.listener,f)}let d=VM;return c}function GI(c,d,f,g,C){if(Array.isArray(d)){for(var N=0;N<d.length;N++)GI(c,d[N],f,g,C);return null}return f=ip(f),c&&c[Ia]?c.L(d,f,l(g)?!!g.capture:!!g,C):zI(c,d,f,!0,g,C)}function WI(c,d,f,g,C){if(Array.isArray(d))for(var N=0;N<d.length;N++)WI(c,d[N],f,g,C);else g=l(g)?!!g.capture:!!g,f=ip(f),c&&c[Ia]?(c=c.i,d=String(d).toString(),d in c.g&&(N=c.g[d],f=Zf(N,f,g,C),-1<f&&(xu(N[f]),Array.prototype.splice.call(N,f,1),N.length==0&&(delete c.g[d],c.h--)))):c&&(c=np(c))&&(d=c.g[d.toString()],c=-1,d&&(c=Zf(d,f,g,C)),(f=-1<c?d[c]:null)&&tp(f))}function tp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[Ia])Jf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(KI(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=np(d))?(Jf(f,c),f.h==0&&(f.src=null,d[Xf]=null)):xu(c)}}}function KI(c){return c in ep?ep[c]:ep[c]="on"+c}function VM(c,d){if(c.da)c=!0;else{d=new wa(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&tp(c),c=f.call(g,d)}return c}function np(c){return c=c[Xf],c instanceof Pu?c:null}var rp="__closure_events_fn_"+(1e9*Math.random()>>>0);function ip(c){return typeof c=="function"?c:(c[rp]||(c[rp]=function(d){return c.handleEvent(d)}),c[rp])}function lt(){Nr.call(this),this.i=new Pu(this),this.M=this,this.F=null}b(lt,Nr),lt.prototype[Ia]=!0,lt.prototype.removeEventListener=function(c,d,f,g){WI(this,c,d,f,g)};function Et(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new ut(d,c);else if(d instanceof ut)d.target=d.target||c;else{var C=d;d=new ut(g,c),D(d,C)}if(C=!0,f)for(var N=f.length-1;0<=N;N--){var L=d.g=f[N];C=Ou(L,g,!0,d)&&C}if(L=d.g=c,C=Ou(L,g,!0,d)&&C,C=Ou(L,g,!1,d)&&C,f)for(N=0;N<f.length;N++)L=d.g=f[N],C=Ou(L,g,!1,d)&&C}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)xu(f[g]);delete c.g[d],c.h--}}this.F=null},lt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},lt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Ou(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,N=0;N<d.length;++N){var L=d[N];if(L&&!L.da&&L.capture==f){var Ce=L.listener,rt=L.ha||L.src;L.fa&&Jf(c.i,L),C=Ce.call(rt,g)!==!1&&C}}return C&&!g.defaultPrevented}function QI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function YI(c){c.g=QI(()=>{c.g=null,c.i&&(c.i=!1,YI(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class UM extends Nr{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:YI(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ea(c){Nr.call(this),this.h=c,this.g={}}b(Ea,Nr);var JI=[];function ZI(c){Q(c.g,function(d,f){this.g.hasOwnProperty(f)&&tp(d)},c),c.g={}}Ea.prototype.N=function(){Ea.aa.N.call(this),ZI(this)},Ea.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sp=a.JSON.stringify,jM=a.JSON.parse,BM=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function op(){}op.prototype.h=null;function XI(c){return c.h||(c.h=c.i())}function eE(){}var ba={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ap(){ut.call(this,"d")}b(ap,ut);function cp(){ut.call(this,"c")}b(cp,ut);var Ti={},tE=null;function ku(){return tE=tE||new lt}Ti.La="serverreachability";function nE(c){ut.call(this,Ti.La,c)}b(nE,ut);function Da(c){let d=ku();Et(d,new nE(d))}Ti.STAT_EVENT="statevent";function rE(c,d){ut.call(this,Ti.STAT_EVENT,c),this.stat=d}b(rE,ut);function bt(c){let d=ku();Et(d,new rE(d,c))}Ti.Ma="timingevent";function iE(c,d){ut.call(this,Ti.Ma,c),this.size=d}b(iE,ut);function Ta(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function Ca(){this.g=!0}Ca.prototype.xa=function(){this.g=!1};function $M(c,d,f,g,C,N){c.info(function(){if(c.g)if(N)for(var L="",Ce=N.split("&"),rt=0;rt<Ce.length;rt++){var Ee=Ce[rt].split("=");if(1<Ee.length){var dt=Ee[0];Ee=Ee[1];var ht=dt.split("_");L=2<=ht.length&&ht[1]=="type"?L+(dt+"="+Ee+"&"):L+(dt+"=redacted&")}}else L=null;else L=N;return"XMLHTTP REQ ("+g+") [attempt "+C+"]: "+d+`
`+f+`
`+L})}function HM(c,d,f,g,C,N,L){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+C+"]: "+d+`
`+f+`
`+N+" "+L})}function Ns(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+zM(c,f)+(g?" "+g:"")})}function qM(c,d){c.info(function(){return"TIMEOUT: "+d})}Ca.prototype.info=function(){};function zM(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var C=g[1];if(Array.isArray(C)&&!(1>C.length)){var N=C[0];if(N!="noop"&&N!="stop"&&N!="close")for(var L=1;L<C.length;L++)C[L]=""}}}}return sp(f)}catch{return d}}var Fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},sE={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},up;function Lu(){}b(Lu,op),Lu.prototype.g=function(){return new XMLHttpRequest},Lu.prototype.i=function(){return{}},up=new Lu;function Mr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new Ea(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oE}function oE(){this.i=null,this.g="",this.h=!1}var aE={},lp={};function dp(c,d,f){c.L=1,c.v=Bu(qn(d)),c.m=f,c.P=!0,cE(c,null)}function cE(c,d){c.F=Date.now(),Vu(c),c.A=qn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),EE(f.i,"t",g),c.C=0,f=c.j.J,c.h=new oE,c.g=jE(c.j,f?d:null,!c.m),0<c.O&&(c.M=new UM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var C="readystatechange";Array.isArray(C)||(C&&(JI[0]=C.toString()),C=JI);for(var N=0;N<C.length;N++){var L=qI(f,C[N],g||d.handleEvent,!1,d.h||d);if(!L)break;d.g[L.key]=L}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Da(),$M(c.i,c.u,c.A,c.l,c.R,c.m)}Mr.prototype.ca=function(c){c=c.target;let d=this.M;d&&zn(c)==3?d.j():this.Y(c)},Mr.prototype.Y=function(c){try{if(c==this.g)e:{let ht=zn(this.g);var d=this.g.Ba();let Ps=this.g.Z();if(!(3>ht)&&(ht!=3||this.g&&(this.h.h||this.g.oa()||RE(this.g)))){this.J||ht!=4||d==7||(d==8||0>=Ps?Da(3):Da(2)),hp(this);var f=this.g.Z();this.X=f;t:if(uE(this)){var g=RE(this.g);c="";var C=g.length,N=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ci(this),Sa(this);var L="";break t}this.h.i=new a.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(N&&d==C-1)});g.length=0,this.h.g+=c,this.C=0,L=this.h.g}else L=this.g.oa();if(this.o=f==200,HM(this.i,this.u,this.A,this.l,this.R,ht,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,rt=this.g;if((Ce=rt.g?rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!j(Ce)){var Ee=Ce;break t}}Ee=null}if(f=Ee)Ns(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fp(this,f);else{this.o=!1,this.s=3,bt(12),Ci(this),Sa(this);break e}}if(this.P){f=!0;let cn;for(;!this.J&&this.C<L.length;)if(cn=GM(this,L),cn==lp){ht==4&&(this.s=4,bt(14),f=!1),Ns(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==aE){this.s=4,bt(15),Ns(this.i,this.l,L,"[Invalid Chunk]"),f=!1;break}else Ns(this.i,this.l,cn,null),fp(this,cn);if(uE(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ht!=4||L.length!=0||this.h.h||(this.s=1,bt(16),f=!1),this.o=this.o&&f,!f)Ns(this.i,this.l,L,"[Invalid Chunked Response]"),Ci(this),Sa(this);else if(0<L.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+L.length),_p(dt),dt.M=!0,bt(11))}}else Ns(this.i,this.l,L,null),fp(this,L);ht==4&&Ci(this),this.o&&!this.J&&(ht==4?FE(this.j,this):(this.o=!1,Vu(this)))}else ux(this.g),f==400&&0<L.indexOf("Unknown SID")?(this.s=3,bt(12)):(this.s=0,bt(13)),Ci(this),Sa(this)}}}catch{}finally{}};function uE(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function GM(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?lp:(f=Number(d.substring(f,g)),isNaN(f)?aE:(g+=1,g+f>d.length?lp:(d=d.slice(g,g+f),c.C=g+f,d)))}Mr.prototype.cancel=function(){this.J=!0,Ci(this)};function Vu(c){c.S=Date.now()+c.I,lE(c,c.I)}function lE(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ta(m(c.ba,c),d)}function hp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Mr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(qM(this.i,this.A),this.L!=2&&(Da(),bt(17)),Ci(this),this.s=2,Sa(this)):lE(this,this.S-c)};function Sa(c){c.j.G==0||c.J||FE(c.j,c)}function Ci(c){hp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,ZI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function fp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||pp(f.h,c))){if(!c.K&&pp(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var C=g;if(C[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Gu(f),qu(f);else break e;vp(f),bt(18)}}else f.za=C[1],0<f.za-f.T&&37500>C[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ta(m(f.Za,f),6e3));if(1>=fE(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else Ai(f,11)}else if((c.K||f.g==c)&&Gu(f),!j(d))for(C=f.Da.g.parse(d),d=0;d<C.length;d++){let Ee=C[d];if(f.T=Ee[0],Ee=Ee[1],f.G==2)if(Ee[0]=="c"){f.K=Ee[1],f.ia=Ee[2];let dt=Ee[3];dt!=null&&(f.la=dt,f.j.info("VER="+f.la));let ht=Ee[4];ht!=null&&(f.Aa=ht,f.j.info("SVER="+f.Aa));let Ps=Ee[5];Ps!=null&&typeof Ps=="number"&&0<Ps&&(g=1.5*Ps,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let cn=c.g;if(cn){let Ku=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ku){var N=g.h;N.g||Ku.indexOf("spdy")==-1&&Ku.indexOf("quic")==-1&&Ku.indexOf("h2")==-1||(N.j=N.l,N.g=new Set,N.h&&(gp(N,N.h),N.h=null))}if(g.D){let wp=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;wp&&(g.ya=wp,Ne(g.I,g.D,wp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var L=c;if(g.qa=UE(g,g.J?g.ia:null,g.W),L.K){pE(g.h,L);var Ce=L,rt=g.L;rt&&(Ce.I=rt),Ce.B&&(hp(Ce),Vu(Ce)),g.g=L}else OE(g);0<f.i.length&&zu(f)}else Ee[0]!="stop"&&Ee[0]!="close"||Ai(f,7);else f.G==3&&(Ee[0]=="stop"||Ee[0]=="close"?Ee[0]=="stop"?Ai(f,7):yp(f):Ee[0]!="noop"&&f.l&&f.l.ta(Ee),f.v=0)}}Da(4)}catch{}}var WM=class{constructor(c,d){this.g=c,this.map=d}};function dE(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function hE(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function fE(c){return c.h?1:c.g?c.g.size:0}function pp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function gp(c,d){c.g?c.g.add(d):c.h=d}function pE(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}dE.prototype.cancel=function(){if(this.i=gE(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function gE(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return R(c.i)}function KM(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function QM(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function mE(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=QM(c),g=KM(c),C=g.length,N=0;N<C;N++)d.call(void 0,g[N],f&&f[N],c)}var yE=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function YM(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),C=null;if(0<=g){var N=c[f].substring(0,g);C=c[f].substring(g+1)}else N=c[f];d(N,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Si(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Si){this.h=c.h,Uu(this,c.j),this.o=c.o,this.g=c.g,ju(this,c.s),this.l=c.l;var d=c.i,f=new Na;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),vE(this,f),this.m=c.m}else c&&(d=String(c).match(yE))?(this.h=!1,Uu(this,d[1]||"",!0),this.o=Aa(d[2]||""),this.g=Aa(d[3]||"",!0),ju(this,d[4]),this.l=Aa(d[5]||"",!0),vE(this,d[6]||"",!0),this.m=Aa(d[7]||"")):(this.h=!1,this.i=new Na(null,this.h))}Si.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ra(d,_E,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ra(d,_E,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ra(f,f.charAt(0)=="/"?XM:ZM,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ra(f,tx)),c.join("")};function qn(c){return new Si(c)}function Uu(c,d,f){c.j=f?Aa(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function ju(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function vE(c,d,f){d instanceof Na?(c.i=d,nx(c.i,c.h)):(f||(d=Ra(d,ex)),c.i=new Na(d,c.h))}function Ne(c,d,f){c.i.set(d,f)}function Bu(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Aa(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ra(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,JM),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function JM(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _E=/[#\/\?@]/g,ZM=/[#\?:]/g,XM=/[#\?]/g,ex=/[#\?@]/g,tx=/#/g;function Na(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function xr(c){c.g||(c.g=new Map,c.h=0,c.i&&YM(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=Na.prototype,t.add=function(c,d){xr(this),this.i=null,c=Ms(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function wE(c,d){xr(c),d=Ms(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function IE(c,d){return xr(c),d=Ms(c,d),c.g.has(d)}t.forEach=function(c,d){xr(this),this.g.forEach(function(f,g){f.forEach(function(C){c.call(d,C,g,this)},this)},this)},t.na=function(){xr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let C=c[g];for(let N=0;N<C.length;N++)f.push(d[g])}return f},t.V=function(c){xr(this);let d=[];if(typeof c=="string")IE(this,c)&&(d=d.concat(this.g.get(Ms(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return xr(this),this.i=null,c=Ms(this,c),IE(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function EE(c,d,f){wE(c,d),0<f.length&&(c.i=null,c.g.set(Ms(c,d),R(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let N=encodeURIComponent(String(g)),L=this.V(g);for(g=0;g<L.length;g++){var C=N;L[g]!==""&&(C+="="+encodeURIComponent(String(L[g]))),c.push(C)}}return this.i=c.join("&")};function Ms(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function nx(c,d){d&&!c.j&&(xr(c),c.i=null,c.g.forEach(function(f,g){var C=g.toLowerCase();g!=C&&(wE(this,g),EE(this,C,f))},c)),c.j=d}function rx(c,d){let f=new Ca;if(a.Image){let g=new Image;g.onload=y(Pr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Pr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Pr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Pr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function ix(c,d){let f=new Ca,g=new AbortController,C=setTimeout(()=>{g.abort(),Pr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(N=>{clearTimeout(C),N.ok?Pr(f,"TestPingServer: ok",!0,d):Pr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Pr(f,"TestPingServer: error",!1,d)})}function Pr(c,d,f,g,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),g(f)}catch{}}function sx(){this.g=new BM}function ox(c,d,f){let g=f||"";try{mE(c,function(C,N){let L=C;l(C)&&(L=sp(C)),d.push(g+N+"="+encodeURIComponent(L))})}catch(C){throw d.push(g+"type="+encodeURIComponent("_badmap")),C}}function Ma(c){this.l=c.Ub||null,this.j=c.eb||!1}b(Ma,op),Ma.prototype.g=function(){return new $u(this.l,this.j)},Ma.prototype.i=function(c){return function(){return c}}({});function $u(c,d){lt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b($u,lt),t=$u.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Pa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,xa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Pa(this)),this.g&&(this.readyState=3,Pa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;bE(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function bE(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?xa(this):Pa(this),this.readyState==3&&bE(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,xa(this))},t.Qa=function(c){this.g&&(this.response=c,xa(this))},t.ga=function(){this.g&&xa(this)};function xa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Pa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Pa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function DE(c){let d="";return Q(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function mp(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=DE(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Ne(c,d,f))}function Oe(c){lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Oe,lt);var ax=/^https?$/i,cx=["POST","PUT"];t=Oe.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():up.g(),this.v=this.o?XI(this.o):XI(up),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(N){TE(this,N);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var C in g)f.set(C,g[C]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let N of g.keys())f.set(N,g.get(N));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(N=>N.toLowerCase()=="content-type"),C=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(cx,d,void 0))||g||C||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[N,L]of f)this.g.setRequestHeader(N,L);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{AE(this),this.u=!0,this.g.send(c),this.u=!1}catch(N){TE(this,N)}};function TE(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,CE(c),Hu(c)}function CE(c){c.A||(c.A=!0,Et(c,"complete"),Et(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Et(this,"complete"),Et(this,"abort"),Hu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hu(this,!0)),Oe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?SE(this):this.bb())},t.bb=function(){SE(this)};function SE(c){if(c.h&&typeof o<"u"&&(!c.v[1]||zn(c)!=4||c.Z()!=2)){if(c.u&&zn(c)==4)QI(c.Ea,0,c);else if(Et(c,"readystatechange"),zn(c)==4){c.h=!1;try{let L=c.Z();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=L===0){var C=String(c.D).match(yE)[1]||null;!C&&a.self&&a.self.location&&(C=a.self.location.protocol.slice(0,-1)),g=!ax.test(C?C.toLowerCase():"")}f=g}if(f)Et(c,"complete"),Et(c,"success");else{c.m=6;try{var N=2<zn(c)?c.g.statusText:""}catch{N=""}c.l=N+" ["+c.Z()+"]",CE(c)}}finally{Hu(c)}}}}function Hu(c,d){if(c.g){AE(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Et(c,"ready");try{f.onreadystatechange=g}catch{}}}function AE(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function zn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),jM(d)}};function RE(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ux(c){let d={};c=(c.g&&2<=zn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(j(c[g]))continue;var f=T(c[g]);let C=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let N=d[C]||[];d[C]=N,N.push(f)}E(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function NE(c){this.Aa=0,this.i=[],this.j=new Ca,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Oa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Oa("baseRetryDelayMs",5e3,c),this.cb=Oa("retryDelaySeedMs",1e4,c),this.Wa=Oa("forwardChannelMaxRetries",2,c),this.wa=Oa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new dE(c&&c.concurrentRequestLimit),this.Da=new sx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=NE.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){bt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=UE(this,null,this.W),zu(this)};function yp(c){if(ME(c),c.G==3){var d=c.U++,f=qn(c.I);if(Ne(f,"SID",c.K),Ne(f,"RID",d),Ne(f,"TYPE","terminate"),ka(c,f),d=new Mr(c,c.j,d),d.L=2,d.v=Bu(qn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=jE(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Vu(d)}VE(c)}function qu(c){c.g&&(_p(c),c.g.cancel(),c.g=null)}function ME(c){qu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Gu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function zu(c){if(!hE(c.h)&&!c.s){c.s=!0;var d=c.Ga;va||HI(),_a||(va(),_a=!0),Yf.add(d,c),c.B=0}}function lx(c,d){return fE(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ta(m(c.Ga,c,d),LE(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let C=new Mr(this,this.j,c),N=this.o;if(this.S&&(N?(N=v(N),D(N,this.S)):N=this.S),this.m!==null||this.O||(C.H=N,N=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=PE(this,C,d),f=qn(this.I),Ne(f,"RID",c),Ne(f,"CVER",22),this.D&&Ne(f,"X-HTTP-Session-Id",this.D),ka(this,f),N&&(this.O?d="headers="+encodeURIComponent(String(DE(N)))+"&"+d:this.m&&mp(f,this.m,N)),gp(this.h,C),this.Ua&&Ne(f,"TYPE","init"),this.P?(Ne(f,"$req",d),Ne(f,"SID","null"),C.T=!0,dp(C,f,null)):dp(C,f,d),this.G=2}}else this.G==3&&(c?xE(this,c):this.i.length==0||hE(this.h)||xE(this))};function xE(c,d){var f;d?f=d.l:f=c.U++;let g=qn(c.I);Ne(g,"SID",c.K),Ne(g,"RID",f),Ne(g,"AID",c.T),ka(c,g),c.m&&c.o&&mp(g,c.m,c.o),f=new Mr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=PE(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),gp(c.h,f),dp(f,g,d)}function ka(c,d){c.H&&Q(c.H,function(f,g){Ne(d,g,f)}),c.l&&mE({},function(f,g){Ne(d,g,f)})}function PE(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var C=c.i;let N=-1;for(;;){let L=["count="+f];N==-1?0<f?(N=C[0].g,L.push("ofs="+N)):N=0:L.push("ofs="+N);let Ce=!0;for(let rt=0;rt<f;rt++){let Ee=C[rt].g,dt=C[rt].map;if(Ee-=N,0>Ee)N=Math.max(0,C[rt].g-100),Ce=!1;else try{ox(dt,L,"req"+Ee+"_")}catch{g&&g(dt)}}if(Ce){g=L.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function OE(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;va||HI(),_a||(va(),_a=!0),Yf.add(d,c),c.v=0}}function vp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ta(m(c.Fa,c),LE(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,kE(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ta(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,bt(10),qu(this),kE(this))};function _p(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function kE(c){c.g=new Mr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=qn(c.qa);Ne(d,"RID","rpc"),Ne(d,"SID",c.K),Ne(d,"AID",c.T),Ne(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(d,"TO",c.ja),Ne(d,"TYPE","xmlhttp"),ka(c,d),c.m&&c.o&&mp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Bu(qn(d)),f.m=null,f.P=!0,cE(f,c)}t.Za=function(){this.C!=null&&(this.C=null,qu(this),vp(this),bt(19))};function Gu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function FE(c,d){var f=null;if(c.g==d){Gu(c),_p(c),c.g=null;var g=2}else if(pp(c.h,d))f=d.D,pE(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var C=c.B;g=ku(),Et(g,new iE(g,f)),zu(c)}else OE(c);else if(C=d.s,C==3||C==0&&0<d.X||!(g==1&&lx(c,d)||g==2&&vp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),C){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function LE(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function Ai(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let C=!g;g=new Si(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Uu(g,"https"),Bu(g),C?rx(g.toString(),f):ix(g.toString(),f)}else bt(2);c.G=0,c.l&&c.l.sa(d),VE(c),ME(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function VE(c){if(c.G=0,c.ka=[],c.l){let d=gE(c.h);(d.length!=0||c.i.length!=0)&&(S(c.ka,d),S(c.ka,c.i),c.h.i.length=0,R(c.i),c.i.length=0),c.l.ra()}}function UE(c,d,f){var g=f instanceof Si?qn(f):new Si(f);if(g.g!="")d&&(g.g=d+"."+g.g),ju(g,g.s);else{var C=a.location;g=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var N=new Si(null);g&&Uu(N,g),d&&(N.g=d),C&&ju(N,C),f&&(N.l=f),g=N}return f=c.D,d=c.ya,f&&d&&Ne(g,f,d),Ne(g,"VER",c.la),ka(c,g),g}function jE(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new Ma({eb:f})):new Oe(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function BE(){}t=BE.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Wu(){}Wu.prototype.g=function(c,d){return new $t(c,d)};function $t(c,d){lt.call(this),this.g=new NE(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!j(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!j(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new xs(this)}b($t,lt),$t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$t.prototype.close=function(){yp(this.g)},$t.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=sp(c),c=f);d.i.push(new WM(d.Ya++,c)),d.G==3&&zu(d)},$t.prototype.N=function(){this.g.l=null,delete this.j,yp(this.g),delete this.g,$t.aa.N.call(this)};function $E(c){ap.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}b($E,ap);function HE(){cp.call(this),this.status=1}b(HE,cp);function xs(c){this.g=c}b(xs,BE),xs.prototype.ua=function(){Et(this.g,"a")},xs.prototype.ta=function(c){Et(this.g,new $E(c))},xs.prototype.sa=function(c){Et(this.g,new HE)},xs.prototype.ra=function(){Et(this.g,"b")},Wu.prototype.createWebChannel=Wu.prototype.g,$t.prototype.send=$t.prototype.o,$t.prototype.open=$t.prototype.m,$t.prototype.close=$t.prototype.close,v_=Er.createWebChannelTransport=function(){return new Wu},y_=Er.getStatEventTarget=function(){return ku()},m_=Er.Event=Ti,Jh=Er.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,su=Er.ErrorCode=Fu,sE.COMPLETE="complete",g_=Er.EventType=sE,eE.EventType=ba,ba.OPEN="a",ba.CLOSE="b",ba.ERROR="c",ba.MESSAGE="d",lt.prototype.listen=lt.prototype.K,Go=Er.WebChannel=eE,aq=Er.FetchXmlHttpFactory=Ma,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,p_=Er.XhrIo=Oe}).apply(typeof Yh<"u"?Yh:typeof self<"u"?self:typeof window<"u"?window:{});var gR="@firebase/firestore";var nt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};nt.UNAUTHENTICATED=new nt(null),nt.GOOGLE_CREDENTIALS=new nt("google-credentials-uid"),nt.FIRST_PARTY=new nt("first-party-uid"),nt.MOCK_USER=new nt("mock-user");var da="10.14.0";var vs=new ci("@firebase/firestore");function ou(){return vs.logLevel}function q(t,...e){if(vs.logLevel<=ye.DEBUG){let n=e.map(iI);vs.debug(`Firestore (${da}): ${t}`,...n)}}function Tr(t,...e){if(vs.logLevel<=ye.ERROR){let n=e.map(iI);vs.error(`Firestore (${da}): ${t}`,...n)}}function Xo(t,...e){if(vs.logLevel<=ye.WARN){let n=e.map(iI);vs.warn(`Firestore (${da}): ${t}`,...n)}}function iI(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw Tr(e),new Error(e)}function Te(t,e){t||ee()}function re(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends Nt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var br=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var nf=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},b_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nt.UNAUTHENTICATED))}shutdown(){}},D_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},T_=class{constructor(e){this.t=e,this.currentUser=nt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new br;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new br,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>w(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new br)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string"),new nf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new nt(e)}},C_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=nt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},S_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new C_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},A_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},R_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);let r=s=>{s.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,q("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new A_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function cq(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var rf=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=cq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function be(t,e){return t<e?-1:t>e?1:0}function ea(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new B(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new B(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new B(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ct(0,0))}static max(){return new t(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sf=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Pe=class t extends sf{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},uq=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yt=class t extends sf{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return uq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new B(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new B(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Y=class t{constructor(e){this.path=e}static fromPath(e){return new t(Pe.fromString(e))}static fromName(e){return new t(Pe.fromString(e).popFirst(5))}static empty(){return new t(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Pe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Pe(e.slice()))}};var N_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};N_.UNKNOWN_ID=-1;function lq(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new _s(i,Y.empty(),e)}function dq(t){return new _s(t.readTime,t.key,-1)}var _s=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),Y.empty(),-1)}static max(){return new t(ae.max(),Y.empty(),-1)}};function hq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}var fq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",M_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Tu(t){return w(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==fq)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let l=u;n(e[l]).next(h=>{o[l]=h,++a,a===s&&r(o)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function pq(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cu(t){return t.name==="IndexedDbTransactionError"}var JR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Of(t){return t==null}function hu(t){return t===0&&1/t==-1/0}function gq(t){return typeof t=="number"&&Number.isInteger(t)&&!hu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var mq=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],aY=[...mq,"documentOverlays"],yq=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],vq=yq,_q=[...vq,"indexConfiguration","indexState","indexEntries"];var cY=[..._q,"globals"];function mR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function ZR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Le=class t{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yo(this.root,e,this.comparator,!0)}},Yo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var wt=class t{constructor(e){this.comparator=e,this.data=new Le(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new of(this.data.getIterator())}getIteratorFrom(e){return new of(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},of=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var an=class t{constructor(e){this.fields=e,e.sort(Yt.comparator)}static empty(){return new t([])}unionWith(e){let n=new wt(Yt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ea(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var af=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var It=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new af("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};It.EMPTY_BYTE_STRING=new It("");var wq=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Cr(t){if(Te(!!t),typeof t=="string"){let e=0,n=wq.exec(t);if(Te(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(t.seconds),nanos:xe(t.nanos)}}function xe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function wi(t){return typeof t=="string"?It.fromBase64String(t):It.fromUint8Array(t)}function sI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function oI(t){let e=t.mapValue.fields.__previous_value__;return sI(e)?oI(e):e}function fu(t){let e=Cr(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var x_=class{constructor(e,n,r,i,s,o,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},cf=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Zh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?sI(t)?4:eN(t)?9007199254740991:XR(t)?10:11:ee()}function jn(t,e){if(t===e)return!0;let n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return fu(t).isEqual(fu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Cr(i.timestampValue),a=Cr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return wi(i.bytesValue).isEqual(wi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return xe(i.geoPointValue.latitude)===xe(s.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return xe(i.integerValue)===xe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=xe(i.doubleValue),a=xe(s.doubleValue);return o===a?hu(o)===hu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ea(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(mR(o)!==mR(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!jn(o[u],a[u])))return!1;return!0}(t,e);default:return ee()}}function pu(t,e){return(t.values||[]).find(n=>jn(n,e))!==void 0}function ta(t,e){if(t===e)return 0;let n=ws(t),r=ws(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=xe(s.integerValue||s.doubleValue),u=xe(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return yR(t.timestampValue,e.timestampValue);case 4:return yR(fu(t),fu(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(s,o){let a=wi(s),u=wi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=be(a[l],u[l]);if(h!==0)return h}return be(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=be(xe(s.latitude),xe(o.latitude));return a!==0?a:be(xe(s.longitude),xe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vR(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,l,h;let p=s.fields||{},m=o.fields||{},y=(a=p.value)===null||a===void 0?void 0:a.arrayValue,b=(u=m.value)===null||u===void 0?void 0:u.arrayValue,R=be(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=b?.values)===null||h===void 0?void 0:h.length)||0);return R!==0?R:vR(y,b)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Zh.mapValue&&o===Zh.mapValue)return 0;if(s===Zh.mapValue)return 1;if(o===Zh.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),l=o.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=be(u[p],h[p]);if(m!==0)return m;let y=ta(a[u[p]],l[h[p]]);if(y!==0)return y}return be(u.length,h.length)}(t.mapValue,e.mapValue);default:throw ee()}}function yR(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);let n=Cr(t),r=Cr(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function vR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=ta(n[i],r[i]);if(s)return s}return be(n.length,r.length)}function na(t){return P_(t)}function P_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Cr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return wi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=P_(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${P_(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function _R(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function O_(t){return!!t&&"integerValue"in t}function aI(t){return!!t&&"arrayValue"in t}function wR(t){return!!t&&"nullValue"in t}function IR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ef(t){return!!t&&"mapValue"in t}function XR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function cu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Cs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function eN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Qt=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ef(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cu(n)}setAll(e){let n=Yt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());ef(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ef(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Cs(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(cu(this.value))}};function tN(t){let e=[];return Cs(t.fields,(n,r)=>{let i=new Yt([n]);if(ef(r)){let s=tN(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new an(e)}var yn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),Qt.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ra=class{constructor(e,n){this.position=e,this.inclusive=n}};function ER(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Y.comparator(Y.fromName(o.referenceValue),n.key):r=ta(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function bR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!jn(t.position[n],e.position[n]))return!1;return!0}var Is=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Iq(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var uf=class{},Ge=class t extends uf{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new F_(e,n,r):n==="array-contains"?new U_(e,r):n==="in"?new j_(e,r):n==="not-in"?new B_(e,r):n==="array-contains-any"?new $_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new L_(e,r):new V_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ta(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(ta(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},vn=class t extends uf{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return nN(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function nN(t){return t.op==="and"}function rN(t){return Eq(t)&&nN(t)}function Eq(t){for(let e of t.filters)if(e instanceof vn)return!1;return!0}function k_(t){if(t instanceof Ge)return t.field.canonicalString()+t.op.toString()+na(t.value);if(rN(t))return t.filters.map(e=>k_(e)).join(",");{let e=t.filters.map(n=>k_(n)).join(",");return`${t.op}(${e})`}}function iN(t,e){return t instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&jn(r.value,i.value)}(t,e):t instanceof vn?function(r,i){return i instanceof vn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&iN(o,i.filters[a]),!0):!1}(t,e):void ee()}function sN(t){return t instanceof Ge?function(n){return`${n.field.canonicalString()} ${n.op} ${na(n.value)}`}(t):t instanceof vn?function(n){return n.op.toString()+" {"+n.getFilters().map(sN).join(" ,")+"}"}(t):"Filter"}var F_=class extends Ge{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){let n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}},L_=class extends Ge{constructor(e,n){super(e,"in",n),this.keys=oN("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},V_=class extends Ge{constructor(e,n){super(e,"not-in",n),this.keys=oN("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function oN(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}var U_=class extends Ge{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return aI(n)&&pu(n.arrayValue,this.value)}},j_=class extends Ge{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}},B_=class extends Ge{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!pu(this.value.arrayValue,n)}},$_=class extends Ge{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!aI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>pu(this.value.arrayValue,r))}};var H_=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function DR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new H_(t,e,n,r,i,s,o)}function cI(t){let e=re(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>k_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Of(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>na(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>na(r)).join(",")),e.ue=n}return e.ue}function uI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Iq(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!iN(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!bR(t.startAt,e.startAt)&&bR(t.endAt,e.endAt)}function q_(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ii=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function bq(t,e,n,r,i,s,o,a){return new Ii(t,e,n,r,i,s,o,a)}function lI(t){return new Ii(t)}function TR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function aN(t){return t.collectionGroup!==null}function uu(t){let e=re(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new wt(Yt.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Is(s,r))}),n.has(Yt.keyField().canonicalString())||e.ce.push(new Is(Yt.keyField(),r))}return e.ce}function Vn(t){let e=re(t);return e.le||(e.le=Dq(e,uu(t))),e.le}function Dq(t,e){if(t.limitType==="F")return DR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Is(i.field,s)});let n=t.endAt?new ra(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ra(t.startAt.position,t.startAt.inclusive):null;return DR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function z_(t,e){let n=t.filters.concat([e]);return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function G_(t,e,n){return new Ii(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function kf(t,e){return uI(Vn(t),Vn(e))&&t.limitType===e.limitType}function cN(t){return`${cI(Vn(t))}|lt:${t.limitType}`}function Wo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>sN(i)).join(", ")}]`),Of(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>na(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>na(i)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function Ff(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Y.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of uu(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let l=ER(o,a,u);return o.inclusive?l<=0:l<0}(r.startAt,uu(r),i)||r.endAt&&!function(o,a,u){let l=ER(o,a,u);return o.inclusive?l>=0:l>0}(r.endAt,uu(r),i))}(t,e)}function Tq(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function uN(t){return(e,n)=>{let r=!1;for(let i of uu(t)){let s=Cq(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Cq(t,e,n){let r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),l=a.data.field(s);return u!==null&&l!==null?ta(u,l):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Ei=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Cs(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return ZR(this.inner)}size(){return this.innerSize}};var Sq=new Le(Y.comparator);function Sr(){return Sq}var lN=new Le(Y.comparator);function au(...t){let e=lN;for(let n of t)e=e.insert(n.key,n);return e}function dN(t){let e=lN;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function gs(){return lu()}function hN(){return lu()}function lu(){return new Ei(t=>t.toString(),(t,e)=>t.isEqual(e))}var Aq=new Le(Y.comparator),Rq=new wt(Y.comparator);function ve(...t){let e=Rq;for(let n of t)e=e.add(n);return e}var Nq=new wt(be);function Mq(){return Nq}function dI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:hu(e)?"-0":e}}function fN(t){return{integerValue:""+t}}function xq(t,e){return gq(e)?fN(e):dI(t,e)}var ia=class{constructor(){this._=void 0}};function Pq(t,e,n){return t instanceof sa?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&sI(s)&&(s=oI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Es?gN(t,e):t instanceof bs?mN(t,e):function(i,s){let o=pN(i,s),a=CR(o)+CR(i.Pe);return O_(o)&&O_(i.Pe)?fN(a):dI(i.serializer,a)}(t,e)}function Oq(t,e,n){return t instanceof Es?gN(t,e):t instanceof bs?mN(t,e):n}function pN(t,e){return t instanceof oa?function(r){return O_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var sa=class extends ia{},Es=class extends ia{constructor(e){super(),this.elements=e}};function gN(t,e){let n=yN(e);for(let r of t.elements)n.some(i=>jn(i,r))||n.push(r);return{arrayValue:{values:n}}}var bs=class extends ia{constructor(e){super(),this.elements=e}};function mN(t,e){let n=yN(e);for(let r of t.elements)n=n.filter(i=>!jn(i,r));return{arrayValue:{values:n}}}var oa=class extends ia{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function CR(t){return xe(t.integerValue||t.doubleValue)}function yN(t){return aI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function kq(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Es&&i instanceof Es||r instanceof bs&&i instanceof bs?ea(r.elements,i.elements,jn):r instanceof oa&&i instanceof oa?jn(r.Pe,i.Pe):r instanceof sa&&i instanceof sa}(t.transform,e.transform)}var W_=class{constructor(e,n){this.version=e,this.transformResults=n}},Dr=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function tf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var aa=class{};function vN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new gu(t.key,Dr.none()):new Ds(t.key,t.data,Dr.none());{let n=t.data,r=Qt.empty(),i=new wt(Yt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Bn(t.key,r,new an(i.toArray()),Dr.none())}}function Fq(t,e,n){t instanceof Ds?function(i,s,o){let a=i.value.clone(),u=AR(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Bn?function(i,s,o){if(!tf(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=AR(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(_N(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function du(t,e,n,r){return t instanceof Ds?function(s,o,a,u){if(!tf(s.precondition,o))return a;let l=s.value.clone(),h=RR(s.fieldTransforms,u,o);return l.setAll(h),o.convertToFoundDocument(o.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Bn?function(s,o,a,u){if(!tf(s.precondition,o))return a;let l=RR(s.fieldTransforms,u,o),h=o.data;return h.setAll(_N(s)),h.setAll(l),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(s,o,a){return tf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Lq(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=pN(r.transform,i||null);s!=null&&(n===null&&(n=Qt.empty()),n.set(r.field,s))}return n||null}function SR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ea(r,i,(s,o)=>kq(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Ds=class extends aa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Bn=class extends aa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function _N(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function AR(t,e,n){let r=new Map;Te(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Oq(o,a,n[i]))}return r}function RR(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,Pq(s,o,e))}return r}var gu=class extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},K_=class extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Q_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&Fq(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=du(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=hN();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=vN(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ve())}isEqual(e){return this.batchId===e.batchId&&ea(this.mutations,e.mutations,(n,r)=>SR(n,r))&&ea(this.baseMutations,e.baseMutations,(n,r)=>SR(n,r))}},Y_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length);let i=function(){return Aq}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var J_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Z_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var qe,Ie;function Vq(t){switch(t){default:return ee();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function wN(t){if(t===void 0)return Tr("GRPC error has no .code"),M.UNKNOWN;switch(t){case qe.OK:return M.OK;case qe.CANCELLED:return M.CANCELLED;case qe.UNKNOWN:return M.UNKNOWN;case qe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case qe.INTERNAL:return M.INTERNAL;case qe.UNAVAILABLE:return M.UNAVAILABLE;case qe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case qe.NOT_FOUND:return M.NOT_FOUND;case qe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case qe.ABORTED:return M.ABORTED;case qe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case qe.DATA_LOSS:return M.DATA_LOSS;default:return ee()}}(Ie=qe||(qe={}))[Ie.OK=0]="OK",Ie[Ie.CANCELLED=1]="CANCELLED",Ie[Ie.UNKNOWN=2]="UNKNOWN",Ie[Ie.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ie[Ie.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ie[Ie.NOT_FOUND=5]="NOT_FOUND",Ie[Ie.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ie[Ie.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ie[Ie.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ie[Ie.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ie[Ie.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ie[Ie.ABORTED=10]="ABORTED",Ie[Ie.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ie[Ie.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ie[Ie.INTERNAL=13]="INTERNAL",Ie[Ie.UNAVAILABLE=14]="UNAVAILABLE",Ie[Ie.DATA_LOSS=15]="DATA_LOSS";var NR=null;function Uq(){return new TextEncoder}var jq=new yi([4294967295,4294967295],0);function MR(t){let e=Uq().encode(t),n=new f_;return n.update(e),new Uint8Array(n.digest())}function xR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new yi([n,r],0),new yi([i,s],0)]}var X_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ms(`Invalid padding: ${n}`);if(r<0)throw new ms(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ms(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ms(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=yi.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(yi.fromNumber(r)));return i.compare(jq)===1&&(i=new yi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=MR(e),[r,i]=xR(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=MR(e),[r,i]=xR(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ms=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var lf=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,mu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new Le(be),Sr(),ve())}},mu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,ve(),ve(),ve())}};var Jo=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},df=class{constructor(e,n){this.targetId=e,this.me=n}},hf=class{constructor(e,n,r=It.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},ff=class{constructor(){this.fe=0,this.ge=OR(),this.pe=It.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ve(),n=ve(),r=ve();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new mu(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=OR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},ew=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Sr(),this.qe=PR(),this.Qe=new Le(be)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(q_(s))if(r===0){let o=new Y(s.path);this.Ue(n,o,yn.newNoDocument(o,ae.min()))}else Te(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}NR?.et(function(h,p,m,y,b){var R,S,x,j,V,G;let he={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},Q=p.unchangedNames;return Q&&(he.bloomFilter={applied:b===0,hashCount:(R=Q?.hashCount)!==null&&R!==void 0?R:0,bitmapLength:(j=(x=(S=Q?.bits)===null||S===void 0?void 0:S.bitmap)===null||x===void 0?void 0:x.length)!==null&&j!==void 0?j:0,padding:(G=(V=Q?.bits)===null||V===void 0?void 0:V.padding)!==null&&G!==void 0?G:0,mightContain:E=>{var v;return(v=y?.mightContain(E))!==null&&v!==void 0&&v}}),he}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=wi(r).toUint8Array()}catch(u){if(u instanceof af)return Xo("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new X_(o,i,s)}catch(u){return Xo(u instanceof ms?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&q_(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,yn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=ve();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new lf(e,n,this.Qe,this.ke,r);return this.ke=Sr(),this.qe=PR(),this.Qe=new Le(be),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new ff,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new wt(be),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new ff),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function PR(){return new Le(Y.comparator)}function OR(){return new Le(Y.comparator)}var Bq={asc:"ASCENDING",desc:"DESCENDING"},$q={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hq={and:"AND",or:"OR"},tw=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function nw(t,e){return t.useProto3Json||Of(e)?e:{value:e}}function pf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function qq(t,e){return pf(t,e.toTimestamp())}function Un(t){return Te(!!t),ae.fromTimestamp(function(n){let r=Cr(n);return new ct(r.seconds,r.nanos)}(t))}function hI(t,e){return rw(t,e).canonicalString()}function rw(t,e){let n=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function EN(t){let e=Pe.fromString(t);return Te(SN(e)),e}function iw(t,e){return hI(t.databaseId,e.path)}function __(t,e){let n=EN(e);if(n.get(1)!==t.databaseId.projectId)throw new B(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new B(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(DN(n))}function bN(t,e){return hI(t.databaseId,e)}function zq(t){let e=EN(t);return e.length===4?Pe.emptyPath():DN(e)}function sw(t){return new Pe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function DN(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function kR(t,e,n){return{name:iw(t,e),fields:n.value.mapValue.fields}}function Gq(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(l,h){return l.useProto3Json?(Te(h===void 0||typeof h=="string"),It.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),It.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){let h=l.code===void 0?M.UNKNOWN:wN(l.code);return new B(h,l.message||"")}(o);n=new hf(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=__(t,r.document.name),s=Un(r.document.updateTime),o=r.document.createTime?Un(r.document.createTime):ae.min(),a=new Qt({mapValue:{fields:r.document.fields}}),u=yn.newFoundDocument(i,s,o,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Jo(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=__(t,r.document),s=r.readTime?Un(r.readTime):ae.min(),o=yn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Jo([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=__(t,r.document),s=r.removedTargetIds||[];n=new Jo([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new Z_(i,s),a=r.targetId;n=new df(a,o)}}return n}function Wq(t,e){let n;if(e instanceof Ds)n={update:kR(t,e.key,e.value)};else if(e instanceof gu)n={delete:iw(t,e.key)};else if(e instanceof Bn)n={update:kR(t,e.key,e.data),updateMask:n4(e.fieldMask)};else{if(!(e instanceof K_))return ee();n={verify:iw(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof sa)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Es)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof bs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof oa)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:qq(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function Kq(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?Un(i.updateTime):Un(s);return o.isEqual(ae.min())&&(o=Un(s)),new W_(o,i.transformResults||[])}(n,e))):[]}function Qq(t,e){return{documents:[bN(t,e.path)]}}function Yq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=bN(t,i);let s=function(l){if(l.length!==0)return CN(vn.create(l,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:Ko(m.field),direction:Xq(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=nw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function Jq(t){let e=zq(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Te(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(p){let m=TN(p);return m instanceof vn&&rN(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(m=>function(b){return new Is(Qo(b.field),function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Of(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,y=p.values||[];return new ra(y,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,y=p.values||[];return new ra(y,m)}(n.endAt)),bq(e,i,o,s,a,"F",u,l)}function Zq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function TN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Qo(n.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qo(n.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Qo(n.unaryFilter.field);return Ge.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Qo(n.unaryFilter.field);return Ge.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return Ge.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return vn.create(n.compositeFilter.filters.map(r=>TN(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function Xq(t){return Bq[t]}function e4(t){return $q[t]}function t4(t){return Hq[t]}function Ko(t){return{fieldPath:t.canonicalString()}}function Qo(t){return Yt.fromServerFormat(t.fieldPath)}function CN(t){return t instanceof Ge?function(n){if(n.op==="=="){if(IR(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NAN"}};if(wR(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(IR(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NAN"}};if(wR(n.value))return{unaryFilter:{field:Ko(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ko(n.field),op:e4(n.op),value:n.value}}}(t):t instanceof vn?function(n){let r=n.getFilters().map(i=>CN(i));return r.length===1?r[0]:{compositeFilter:{op:t4(n.op),filters:r}}}(t):ee()}function n4(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function SN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var yu=class t{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=It.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var ow=class{constructor(e){this.ct=e}};function r4(t){let e=Jq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?G_(e,e.limit,"L"):e}var gf=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),hu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Cr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(wi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?eN(e)?this.dt(n,Number.MAX_SAFE_INTEGER):XR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ee()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(xe(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Y.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};gf.vt=new gf;var aw=class{constructor(){this.un=new cw}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(_s.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},cw=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new wt(Pe.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new wt(Pe.comparator)).toArray()}};var lY=new Uint8Array(0);var Fn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(41943040,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);var vu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var uw=class{constructor(){this.changes=new Ei(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,yn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var lw=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var dw=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&du(r.mutation,i,an.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ve()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ve()){let i=gs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=au();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=gs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ve()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Sr(),o=lu(),a=function(){return lu()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Bn)?s=s.insert(l.key,l):h!==void 0?(o.set(l.key,h.mutation.getFieldMask()),du(h.mutation,l,h.mutation.getFieldMask(),ct.now())):o.set(l.key,an.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((l,h)=>o.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new lw(h,(p=o.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=lu(),i=new Le((o,a)=>o-a),s=ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||an.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ve()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=hN();h.forEach(m=>{if(!s.has(m)){let y=vN(n.get(m),r.get(m));y!==null&&p.set(m,y),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Y.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):aN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(gs()),a=-1,u=s;return o.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),s.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,s)).next(()=>this.computeViews(e,u,l,ve())).next(h=>({batchId:a,changes:dN(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=au();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=au();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,u=>{let l=function(p,m){return new Ii(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{o=o.insert(p,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,l)=>{let h=l.getKey();o.get(h)===null&&(o=o.insert(h,yn.newInvalidDocument(h)))});let a=au();return o.forEach((u,l)=>{let h=s.get(u);h!==void 0&&du(h.mutation,l,an.empty(),ct.now()),Ff(n,l)&&(a=a.insert(u,l))}),a})}};var hw=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Un(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:r4(i.bundledQuery),readTime:Un(i.readTime)}}(n)),O.resolve()}};var fw=class{constructor(){this.overlays=new Le(Y.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=gs();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=gs(),s=n.length+1,o=new Y(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Le((l,h)=>l-h),o=this.overlays.getIterator();for(;o.hasNext();){let l=o.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=s.get(l.largestBatchId);h===null&&(h=gs(),s=s.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=gs(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new J_(n,r));let s=this.Ir.get(n);s===void 0&&(s=ve(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var pw=class{constructor(){this.sessionToken=It.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var _u=class{constructor(){this.Tr=new wt(ze.Er),this.dr=new wt(ze.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ze(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ze(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Y(new Pe([])),r=new ze(n,e),i=new ze(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Y(new Pe([])),r=new ze(n,e),i=new ze(n,e+1),s=ve();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new ze(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ze=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||Y.comparator(e.key,n.key)}};var gw=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new wt(ze.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Q_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new ze(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(o)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ze(n,0),i=new ze(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new wt(be);return n.forEach(i=>{let s=new ze(i,0),o=new ze(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Y.isDocumentKey(s)||(s=s.child(""));let o=new ze(new Y(s),0),a=new wt(be);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},o),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let s=new ze(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ze(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var mw=class{constructor(e){this.Mr=e,this.docs=function(){return new Le(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():yn.newInvalidDocument(n))}getEntries(e,n){let r=Sr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():yn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Sr(),o=n.path,a=new Y(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!o.isPrefixOf(l.path))break;l.path.length>o.length+1||hq(dq(h),r)<=0||(i.has(h.key)||Ff(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new yw(this)}getSize(e){return O.resolve(this.size)}},yw=class extends uw{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var vw=class{constructor(e){this.persistence=e,this.Nr=new Ei(n=>cI(n),uI),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new _u,this.targetCount=0,this.kr=vu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new vu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var _w=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new JR(0),this.Kr=!1,this.Kr=!0,this.$r=new pw,this.referenceDelegate=e(this),this.Ur=new vw(this),this.indexManager=new aw,this.remoteDocumentCache=function(i){return new mw(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ow(n),this.Gr=new hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fw,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new gw(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new ww(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},ww=class extends M_{constructor(e){super(),this.currentSequenceNumber=e}},Iw=class t{constructor(e){this.persistence=e,this.Jr=new _u,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=Y.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Ew=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=ve(),i=ve();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var bw=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Dw=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return WS()?8:pq(tt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new bw;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(ou()<=ye.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",Wo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(ou()<=ye.DEBUG&&q("QueryEngine","Query:",Wo(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ou()<=ye.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",Wo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):O.resolve())}Yi(e,n){if(TR(n))return O.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=G_(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=ve(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,o,u.readTime)?this.Yi(e,G_(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return TR(n)||i.isEqual(ae.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?O.resolve(null):(ou()<=ye.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Wo(n)),this.rs(e,o,n,lq(i,-1)).next(a=>a))})}ts(e,n){let r=new wt(uN(e));return n.forEach((i,s)=>{Ff(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return ou()<=ye.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",Wo(n)),this.Ji.getDocumentsMatchingQuery(e,n,_s.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var Tw=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Le(be),this._s=new Ei(s=>cI(s),uI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new dw(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function i4(t,e,n,r){return new Tw(t,e,n,r)}function AN(t,e){return w(this,null,function*(){let n=re(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=ve();for(let l of i){o.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of s){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:o,addedBatchIds:a}))})})})}function s4(t,e){let n=re(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),y=O.resolve();return m.forEach(b=>{y=y.next(()=>h.getEntry(u,b)).next(R=>{let S=l.docVersions.get(b);Te(S!==null),R.version.compareTo(S)<0&&(p.applyToRemoteDocument(R,l),R.isValidDocument()&&(R.setReadTime(l.commitVersion),h.addEntry(R)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ve();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function RN(t){let e=re(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function o4(t,e){let n=re(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,p)));let y=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(It.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(R,S,x){return R.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-R.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(m,y,h)&&a.push(n.Ur.updateTargetData(s,y))});let u=Sr(),l=ve();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(a4(s,o,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ae.min())){let h=n.Ur.getLastRemoteSnapshotVersion(s).next(p=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,l)).next(()=>u)}).then(s=>(n.os=i,s))}function a4(t,e,n){let r=ve(),i=ve();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Sr();return n.forEach((a,u)=>{let l=s.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function c4(t,e){let n=re(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function u4(t,e){let n=re(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,O.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new yu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function Cw(t,e,n){return w(this,null,function*(){let r=re(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!Cu(o))throw o;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function FR(t,e,n){let r=re(t),i=ae.min(),s=ve();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,l,h){let p=re(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,o,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:ve())).next(a=>(l4(r,Tq(e),a),{documents:a,Ts:s})))}function l4(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var mf=class{constructor(){this.activeTargetIds=Mq()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var Sw=class{constructor(){this.so=new mf,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new mf,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var Aw=class{_o(e){}shutdown(){}};var yf=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xh=null;function w_(){return Xh===null?Xh=function(){return 268435456+Math.round(2147483648*Math.random())}():Xh++,"0x"+Xh.toString(16)}var d4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var Rw=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var _t="WebChannelConnection",Nw=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=w_(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,s,o),this.No(n,u,l,i).then(h=>(q("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Xo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=d4[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=w_();return new Promise((o,a)=>{let u=new p_;u.setWithCredentials(!0),u.listenOnce(g_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case su.NO_ERROR:let h=u.getResponseJson();q(_t,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case su.TIMEOUT:q(_t,`RPC '${e}' ${s} timed out`),a(new B(M.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:let p=u.getStatus();if(q(_t,`RPC '${e}' ${s} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let y=m?.error;if(y&&y.status&&y.message){let b=function(S){let x=S.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(x)>=0?x:M.UNKNOWN}(y.status);a(new B(b,y.message))}else a(new B(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new B(M.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{q(_t,`RPC '${e}' ${s} completed.`)}});let l=JSON.stringify(i);q(_t,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=w_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=v_(),a=y_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=s.join("");q(_t,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=o.createWebChannel(h,u),m=!1,y=!1,b=new Rw({Io:S=>{y?q(_t,`Not sending because RPC '${e}' stream ${i} is closed:`,S):(m||(q(_t,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),q(_t,`RPC '${e}' stream ${i} sending:`,S),p.send(S))},To:()=>p.close()}),R=(S,x,j)=>{S.listen(x,V=>{try{j(V)}catch(G){setTimeout(()=>{throw G},0)}})};return R(p,Go.EventType.OPEN,()=>{y||(q(_t,`RPC '${e}' stream ${i} transport opened.`),b.yo())}),R(p,Go.EventType.CLOSE,()=>{y||(y=!0,q(_t,`RPC '${e}' stream ${i} transport closed`),b.So())}),R(p,Go.EventType.ERROR,S=>{y||(y=!0,Xo(_t,`RPC '${e}' stream ${i} transport errored:`,S),b.So(new B(M.UNAVAILABLE,"The operation could not be completed")))}),R(p,Go.EventType.MESSAGE,S=>{var x;if(!y){let j=S.data[0];Te(!!j);let V=j,G=V.error||((x=V[0])===null||x===void 0?void 0:x.error);if(G){q(_t,`RPC '${e}' stream ${i} received error:`,G);let he=G.status,Q=function(_){let D=qe[_];if(D!==void 0)return wN(D)}(he),E=G.message;Q===void 0&&(Q=M.INTERNAL,E="Unknown error status: "+he+" with message "+G.message),y=!0,b.So(new B(Q,E)),p.close()}else q(_t,`RPC '${e}' stream ${i} received:`,j),b.bo(j)}}),R(a,m_.STAT_EVENT,S=>{S.stat===Jh.PROXY?q(_t,`RPC '${e}' stream ${i} detected buffering proxy`):S.stat===Jh.NOPROXY&&q(_t,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}};function I_(){return typeof document<"u"?document:null}function Lf(t){return new tw(t,!0)}var vf=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var _f=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new vf(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return w(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return w(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return w(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Tr(n.toString()),Tr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new B(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>w(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},Mw=class extends _f{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=Gq(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?Un(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=sw(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=q_(u)?{documents:Qq(s,u)}:{query:Yq(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=IN(s,o.resumeToken);let l=nw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=pf(s,o.snapshotVersion.toTimestamp());let l=nw(s,o.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=Zq(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=sw(this.serializer),n.removeTarget=e,this.a_(n)}},xw=class extends _f{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=Kq(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=sw(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>Wq(this.serializer,r))};this.a_(n)}};var Pw=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new B(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,rw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(M.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,rw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},Ow=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Tr(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var kw=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>w(this,null,function*(){Ss(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return w(this,null,function*(){let l=re(u);l.L_.add(4),yield Su(l),l.q_.set("Unknown"),l.L_.delete(4),yield Vf(l)})}(this))}))}),this.q_=new Ow(r,i)}};function Vf(t){return w(this,null,function*(){if(Ss(t))for(let e of t.B_)yield e(!0)})}function Su(t){return w(this,null,function*(){for(let e of t.B_)yield e(!1)})}function NN(t,e){let n=re(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),mI(n)?gI(n):ha(n).r_()&&pI(n,e))}function fI(t,e){let n=re(t),r=ha(n);n.N_.delete(e),r.r_()&&MN(n,e),n.N_.size===0&&(r.r_()?r.o_():Ss(n)&&n.q_.set("Unknown"))}function pI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ha(t).A_(e)}function MN(t,e){t.Q_.xe(e),ha(t).R_(e)}function gI(t){t.Q_=new ew({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ha(t).start(),t.q_.v_()}function mI(t){return Ss(t)&&!ha(t).n_()&&t.N_.size>0}function Ss(t){return re(t).L_.size===0}function xN(t){t.Q_=void 0}function h4(t){return w(this,null,function*(){t.q_.set("Online")})}function f4(t){return w(this,null,function*(){t.N_.forEach((e,n)=>{pI(t,e)})})}function p4(t,e){return w(this,null,function*(){xN(t),mI(t)?(t.q_.M_(e),gI(t)):t.q_.set("Unknown")})}function g4(t,e,n){return w(this,null,function*(){if(t.q_.set("Online"),e instanceof hf&&e.state===2&&e.cause)try{yield function(i,s){return w(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wf(t,r)}else if(e instanceof Jo?t.Q_.Ke(e):e instanceof df?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{let r=yield RN(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=s.N_.get(l);h&&s.N_.set(l,h.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,l)=>{let h=s.N_.get(u);if(!h)return;s.N_.set(u,h.withResumeToken(It.EMPTY_BYTE_STRING,h.snapshotVersion)),MN(s,u);let p=new yu(h.target,u,l,h.sequenceNumber);pI(s,p)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield wf(t,r)}})}function wf(t,e,n){return w(this,null,function*(){if(!Cu(e))throw e;t.L_.add(1),yield Su(t),t.q_.set("Offline"),n||(n=()=>RN(t.localStore)),t.asyncQueue.enqueueRetryable(()=>w(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Vf(t)}))})}function PN(t,e){return e().catch(n=>wf(t,n,e))}function Uf(t){return w(this,null,function*(){let e=re(t),n=bi(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;m4(e);)try{let i=yield c4(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,y4(e,i)}catch(i){yield wf(e,i)}ON(e)&&kN(e)})}function m4(t){return Ss(t)&&t.O_.length<10}function y4(t,e){t.O_.push(e);let n=bi(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ON(t){return Ss(t)&&!bi(t).n_()&&t.O_.length>0}function kN(t){bi(t).start()}function v4(t){return w(this,null,function*(){bi(t).p_()})}function _4(t){return w(this,null,function*(){let e=bi(t);for(let n of t.O_)e.m_(n.mutations)})}function w4(t,e,n){return w(this,null,function*(){let r=t.O_.shift(),i=Y_.from(r,e,n);yield PN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Uf(t)})}function I4(t,e){return w(this,null,function*(){e&&bi(t).V_&&(yield function(r,i){return w(this,null,function*(){if(function(o){return Vq(o)&&o!==M.ABORTED}(i.code)){let s=r.O_.shift();bi(r).s_(),yield PN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Uf(r)}})}(t,e)),ON(t)&&kN(t)})}function LR(t,e){return w(this,null,function*(){let n=re(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=Ss(n);n.L_.add(3),yield Su(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Vf(n)})}function E4(t,e){return w(this,null,function*(){let n=re(t);e?(n.L_.delete(2),yield Vf(n)):e||(n.L_.add(2),yield Su(n),n.q_.set("Unknown"))})}function ha(t){return t.K_||(t.K_=function(n,r,i){let s=re(n);return s.w_(),new Mw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:h4.bind(null,t),Ro:f4.bind(null,t),mo:p4.bind(null,t),d_:g4.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.K_.s_(),mI(t)?gI(t):t.q_.set("Unknown")):(yield t.K_.stop(),xN(t))}))),t.K_}function bi(t){return t.U_||(t.U_=function(n,r,i){let s=re(n);return s.w_(),new xw(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:v4.bind(null,t),mo:I4.bind(null,t),f_:_4.bind(null,t),g_:w4.bind(null,t)}),t.B_.push(e=>w(this,null,function*(){e?(t.U_.s_(),yield Uf(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var Fw=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function yI(t,e){if(Tr("AsyncQueue",`${e}: ${t}`),Cu(t))return new B(M.UNAVAILABLE,`${e}: ${t}`);throw t}var If=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=au(),this.sortedSet=new Le(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Ef=class{constructor(){this.W_=new Le(Y.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},ca=class t{constructor(e,n,r,i,s,o,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,If.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var Lw=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},Vw=class{constructor(){this.queries=VR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=re(n),s=i.queries;i.queries=VR(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new B(M.ABORTED,"Firestore shutting down"))}};function VR(){return new Ei(t=>cN(t),kf)}function b4(t,e){return w(this,null,function*(){let n=re(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Lw,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=yI(o,`Initialization of query '${Wo(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&vI(n)})}function D4(t,e){return w(this,null,function*(){let n=re(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function T4(t,e){let n=re(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&vI(n)}function C4(t,e,n){let r=re(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function vI(t){t.Y_.forEach(e=>{e.next()})}var Uw,UR;(UR=Uw||(Uw={})).ea="default",UR.Cache="cache";var jw=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new ca(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=ca.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Uw.Cache}};var bf=class{constructor(e){this.key=e}},Df=class{constructor(e){this.key=e}},Bw=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ve(),this.mutatedKeys=ve(),this.Aa=uN(e),this.Ra=new If(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Ef,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Ff(this.query,p)?p:null,b=!!m&&this.mutatedKeys.has(m.key),R=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),S=!1;m&&y?m.data.isEqual(y.data)?b!==R&&(r.track({type:3,doc:y}),S=!0):this.ga(m,y)||(r.track({type:2,doc:y}),S=!0,(u&&this.Aa(y,u)>0||l&&this.Aa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),S=!0):m&&!y&&(r.track({type:1,doc:m}),S=!0,(u||l)&&(a=!0)),S&&(y?(o=o.add(y),s=R?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),r.track({type:1,doc:h})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((h,p)=>function(y,b){let R=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return R(y)-R(b)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,o.length!==0||l?{snapshot:new ca(this.query,e.Ra,s,o,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Ef,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=ve(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Df(r))}),this.da.forEach(r=>{e.has(r)||n.push(new bf(r))}),n}ba(e){this.Ta=e.Ts,this.da=ve();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return ca.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},$w=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},Hw=class{constructor(e){this.key=e,this.va=!1}},qw=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ei(a=>cN(a),kf),this.Ma=new Map,this.xa=new Set,this.Oa=new Le(Y.comparator),this.Na=new Map,this.La=new _u,this.Ba={},this.ka=new Map,this.qa=vu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function S4(t,e,n=!0){return w(this,null,function*(){let r=BN(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield FN(r,e,n,!0),i})}function A4(t,e){return w(this,null,function*(){let n=BN(t);yield FN(n,e,!0,!1)})}function FN(t,e,n,r){return w(this,null,function*(){let i=yield u4(t.localStore,Vn(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield R4(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&NN(t.remoteStore,i),a})}function R4(t,e,n,r,i){return w(this,null,function*(){t.Ka=(p,m,y)=>function(R,S,x,j){return w(this,null,function*(){let V=S.view.ma(x);V.ns&&(V=yield FR(R.localStore,S.query,!1).then(({documents:E})=>S.view.ma(E,V)));let G=j&&j.targetChanges.get(S.targetId),he=j&&j.targetMismatches.get(S.targetId)!=null,Q=S.view.applyChanges(V,R.isPrimaryClient,G,he);return BR(R,S.targetId,Q.wa),Q.snapshot})}(t,p,m,y);let s=yield FR(t.localStore,e,!0),o=new Bw(e,s.Ts),a=o.ma(s.documents),u=mu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=o.applyChanges(a,t.isPrimaryClient,u);BR(t,n,l.wa);let h=new $w(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function N4(t,e,n){return w(this,null,function*(){let r=re(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!kf(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Cw(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fI(r.remoteStore,i.targetId),zw(r,i.targetId)}).catch(Tu))):(zw(r,i.targetId),yield Cw(r.localStore,i.targetId,!0))})}function M4(t,e){return w(this,null,function*(){let n=re(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fI(n.remoteStore,r.targetId))})}function x4(t,e,n){return w(this,null,function*(){let r=U4(t);try{let i=yield function(o,a){let u=re(o),l=ct.now(),h=a.reduce((y,b)=>y.add(b.key),ve()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=Sr(),R=ve();return u.cs.getEntries(y,h).next(S=>{b=S,b.forEach((x,j)=>{j.isValidDocument()||(R=R.add(x))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,b)).next(S=>{p=S;let x=[];for(let j of a){let V=Lq(j,p.get(j.key).overlayedDocument);V!=null&&x.push(new Bn(j.key,V,tN(V.value.mapValue),Dr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,x,a)}).next(S=>{m=S;let x=S.applyToLocalDocumentSet(p,R);return u.documentOverlayCache.saveOverlays(y,S.batchId,x)})}).then(()=>({batchId:m.batchId,changes:dN(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let l=o.Ba[o.currentUser.toKey()];l||(l=new Le(be)),l=l.insert(a,u),o.Ba[o.currentUser.toKey()]=l}(r,i.batchId,n),yield Au(r,i.changes),yield Uf(r.remoteStore)}catch(i){let s=yI(i,"Failed to persist write");n.reject(s)}})}function LN(t,e){return w(this,null,function*(){let n=re(t);try{let r=yield o4(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Te(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Te(o.va):i.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),yield Au(n,r,e)}catch(r){yield Tu(r)}})}function jR(t,e,n){let r=re(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=re(o);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&vI(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function P4(t,e,n){return w(this,null,function*(){let r=re(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Le(Y.comparator);o=o.insert(s,yn.newNoDocument(s,ae.min()));let a=ve().add(s),u=new lf(ae.min(),new Map,new Le(be),o,a);yield LN(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),_I(r)}else yield Cw(r.localStore,e,!1).then(()=>zw(r,e,n)).catch(Tu)})}function O4(t,e){return w(this,null,function*(){let n=re(t),r=e.batch.batchId;try{let i=yield s4(n.localStore,e);UN(n,r,null),VN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Au(n,i)}catch(i){yield Tu(i)}})}function k4(t,e,n){return w(this,null,function*(){let r=re(t);try{let i=yield function(o,a){let u=re(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Te(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);UN(r,e,n),VN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Au(r,i)}catch(i){yield Tu(i)}})}function VN(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function UN(t,e,n){let r=re(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function zw(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||jN(t,r)})}function jN(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(fI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),_I(t))}function BR(t,e,n){for(let r of n)r instanceof bf?(t.La.addReference(r.key,e),F4(t,r)):r instanceof Df?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||jN(t,r.key)):ee()}function F4(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),_I(t))}function _I(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Y(Pe.fromString(e)),r=t.qa.next();t.Na.set(r,new Hw(n)),t.Oa=t.Oa.insert(n,r),NN(t.remoteStore,new yu(Vn(lI(n.path)),r,"TargetPurposeLimboResolution",JR.oe))}}function Au(t,e,n){return w(this,null,function*(){let r=re(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Ew.Wi(u.targetId,l);s.push(p)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,l){return w(this,null,function*(){let h=re(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>O.forEach(m.Ui,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!Cu(p))throw p;q("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.os.get(m),b=y.snapshotVersion,R=y.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(m,R)}}})}(r.localStore,s))})}function L4(t,e){return w(this,null,function*(){let n=re(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield AN(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new B(M.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Au(n,r.hs)}})}function V4(t,e){let n=re(t),r=n.Na.get(e);if(r&&r.va)return ve().add(r.key);{let i=ve(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function BN(t){let e=re(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=LN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=P4.bind(null,e),e.Ca.d_=T4.bind(null,e.eventManager),e.Ca.$a=C4.bind(null,e.eventManager),e}function U4(t){let e=re(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=O4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k4.bind(null,e),e}var $R=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return w(this,null,function*(){this.serializer=Lf(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return i4(this.persistence,new Dw,n.initialUser,this.serializer)}Ga(n){return new _w(Iw.Zr,this.serializer)}Wa(n){return new Sw}terminate(){return w(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var j4=(()=>{class t{initialize(n,r){return w(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>jR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=L4.bind(null,this.syncEngine),yield E4(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new Vw}()}createDatastore(n){let r=Lf(n.databaseInfo.databaseId),i=function(o){return new Nw(o)}(n.databaseInfo);return function(o,a,u,l){return new Pw(o,a,u,l)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new kw(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>jR(this.syncEngine,r,0),function(){return yf.D()?new yf:new Aw}())}createSyncEngine(n,r){return function(s,o,a,u,l,h,p){let m=new qw(s,o,a,u,l,h);return p&&(m.Qa=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return w(this,null,function*(){var n,r;yield function(s){return w(this,null,function*(){let o=re(s);q("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Su(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Gw=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Tr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Ww=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=nt.UNAUTHENTICATED,this.clientId=rf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>w(this,null,function*(){q("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(q("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>w(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=yI(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function E_(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>w(this,null,function*(){r.isEqual(i)||(yield AN(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function HR(t,e){return w(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield B4(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>LR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>LR(e.remoteStore,i)),t._onlineComponents=e})}function B4(t){return w(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield E_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===M.FAILED_PRECONDITION||i.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Xo("Error using user provided cache. Falling back to memory cache: "+n),yield E_(t,new $R)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield E_(t,new $R);return t._offlineComponents})}function $N(t){return w(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield HR(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield HR(t,new j4))),t._onlineComponents})}function $4(t){return $N(t).then(e=>e.syncEngine)}function qR(t){return w(this,null,function*(){let e=yield $N(t),n=e.eventManager;return n.onListen=S4.bind(null,e.syncEngine),n.onUnlisten=N4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=A4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=M4.bind(null,e.syncEngine),n})}function HN(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var zR=new Map;function qN(t,e,n){if(!n)throw new B(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function H4(t,e,n,r){if(e===!0&&r===!0)throw new B(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function GR(t){if(!Y.isDocumentKey(t))throw new B(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function WR(t){if(Y.isDocumentKey(t))throw new B(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new B(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=jf(t);throw new B(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Tf=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new B(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}H4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new B(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new B(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new B(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ua=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tf({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tf(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new b_;switch(r.type){case"firstParty":return new S_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return w(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=zR.get(n);r&&(q("ComponentProvider","Removing Datastore"),zR.delete(n),r.terminate())}(this),Promise.resolve()}};function zN(t,e,n,r={}){var i;let s=(t=vi(t,ua))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=nt.MOCK_USER;else{a=Ih(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new B(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new nt(l)}t._authCredentials=new D_(new nf(a,u))}}var Ts=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Bt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _i(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},_i=class t extends Ts{constructor(e,n,r){super(e,n,lI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Bt(this.firestore,null,new Y(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function GN(t,e,...n){if(t=Fe(t),qN("collection","path",e),t instanceof ua){let r=Pe.fromString(e,...n);return WR(r),new _i(t,null,r)}{if(!(t instanceof Bt||t instanceof _i))throw new B(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return WR(r),new _i(t.firestore,null,r)}}function fa(t,e,...n){if(t=Fe(t),arguments.length===1&&(e=rf.newId()),qN("doc","path",e),t instanceof ua){let r=Pe.fromString(e,...n);return GR(r),new Bt(t,null,new Y(r))}{if(!(t instanceof Bt||t instanceof _i))throw new B(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Pe.fromString(e,...n));return GR(r),new Bt(t.firestore,t instanceof _i?t.converter:null,new Y(r))}}var Cf=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new vf(this,"async_queue_retry"),this.Vu=()=>{let r=I_();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=I_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=I_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new br;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return w(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cu(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Tr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=Fw.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return w(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function KR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Di=class extends ua{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Cf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return w(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Cf(e),this._firestoreClient=void 0,yield e}})}};function WN(t,e){let n=typeof t=="object"?t:li(),r=typeof t=="string"?t:e||"(default)",i=as(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=wh("firestore");s&&zN(i,...s)}return i}function KN(t){if(t._terminated)throw new B(M.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||q4(t),t._firestoreClient}function q4(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,l,h){return new x_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HN(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ww(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var wu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(It.fromBase64String(e))}catch(n){throw new B(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(It.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var la=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new B(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Iu=class{constructor(e){this._methodName=e}};var Eu=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new B(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new B(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var bu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var z4=/^__.*__$/,Kw=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ds(e,this.data,n,this.fieldTransforms)}},Sf=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Bn(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function QN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var Qw=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Rf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(QN(this.Cu)&&z4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},Yw=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Lf(e)}Qu(e,n,r,i=!1){return new Qw({Cu:e,methodName:n,qu:r,path:Yt.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function wI(t){let e=t._freezeSettings(),n=Lf(t._databaseId);return new Yw(t._databaseId,!!e.ignoreUndefinedProperties,n)}function G4(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);II("Data must be an object, but it was:",o,r);let a=YN(r,o),u,l;if(s.merge)u=new an(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){let h=[];for(let p of s.mergeFields){let m=Jw(e,p,n);if(!o.contains(m))throw new B(M.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZN(h,m)||h.push(m)}u=new an(h),l=o.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=o.fieldTransforms;return new Kw(new Qt(a),u,l)}var Af=class t extends Iu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function W4(t,e,n,r){let i=t.Qu(1,e,n);II("Data must be an object, but it was:",i,r);let s=[],o=Qt.empty();Cs(r,(u,l)=>{let h=EI(e,u,n);l=Fe(l);let p=i.Nu(h);if(l instanceof Af)s.push(h);else{let m=Ru(l,p);m!=null&&(s.push(h),o.set(h,m))}});let a=new an(s);return new Sf(o,a,i.fieldTransforms)}function K4(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[Jw(e,r,n)],u=[i];if(s.length%2!=0)throw new B(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(Jw(e,s[m])),u.push(s[m+1]);let l=[],h=Qt.empty();for(let m=a.length-1;m>=0;--m)if(!ZN(l,a[m])){let y=a[m],b=u[m];b=Fe(b);let R=o.Nu(y);if(b instanceof Af)l.push(y);else{let S=Ru(b,R);S!=null&&(l.push(y),h.set(y,S))}}let p=new an(l);return new Sf(h,p,o.fieldTransforms)}function Q4(t,e,n,r=!1){return Ru(n,t.Qu(r?4:3,e))}function Ru(t,e){if(JN(t=Fe(t)))return II("Unsupported field value:",e,t),YN(t,e);if(t instanceof Iu)return function(r,i){if(!QN(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=Ru(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Fe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return xq(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=ct.fromDate(r);return{timestampValue:pf(i.serializer,s)}}if(r instanceof ct){let s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pf(i.serializer,s)}}if(r instanceof Eu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof wu)return{bytesValue:IN(i.serializer,r._byteString)};if(r instanceof Bt){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:hI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof bu)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return dI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${jf(r)}`)}(t,e)}function YN(t,e){let n={};return ZR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Cs(t,(r,i)=>{let s=Ru(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof Eu||t instanceof wu||t instanceof Bt||t instanceof Iu||t instanceof bu)}function II(t,e,n){if(!JN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=jf(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function Jw(t,e,n){if((e=Fe(e))instanceof la)return e._internalPath;if(typeof e=="string")return EI(t,e);throw Rf("Field path arguments must be of type string or ",t,!1,void 0,n)}var Y4=new RegExp("[~\\*/\\[\\]]");function EI(t,e,n){if(e.search(Y4)>=0)throw Rf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new la(...e.split("."))._internalPath}catch{throw Rf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rf(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new B(M.INVALID_ARGUMENT,a+t+u)}function ZN(t,e){return t.some(n=>n.isEqual(e))}var Nf=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Zw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(bI("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},Zw=class extends Nf{data(){return super.data()}};function bI(t,e){return typeof e=="string"?EI(t,e):e instanceof la?e._internalPath:e._delegate._internalPath}function J4(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new B(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Du=class{},Mf=class extends Du{};function XN(t,e,...n){let r=[];e instanceof Du&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof eI).length,a=s.filter(u=>u instanceof Xw).length;if(o>1||o>0&&a>0)throw new B(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Xw=class t extends Mf{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return tM(e._query,n),new Ts(e.firestore,e.converter,z_(e._query,n))}_parse(e){let n=wI(e.firestore);return function(s,o,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new B(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){YR(p,h);let y=[];for(let b of p)y.push(QR(u,s,b));m={arrayValue:{values:y}}}else m=QR(u,s,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||YR(p,h),m=Q4(a,o,p,h==="in"||h==="not-in");return Ge.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var eI=class t extends Du{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)tM(o,u),o=z_(o,u)}(e._query,n),new Ts(e.firestore,e.converter,z_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var tI=class t extends Mf{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new B(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new B(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Is(s,o)}(e._query,this._field,this._direction);return new Ts(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Ii(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function eM(t,e="asc"){let n=e,r=bI("orderBy",t);return tI._create(r,n)}function QR(t,e,n){if(typeof(n=Fe(n))=="string"){if(n==="")throw new B(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!aN(e)&&n.indexOf("/")!==-1)throw new B(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(Pe.fromString(n));if(!Y.isDocumentKey(r))throw new B(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return _R(t,new Y(r))}if(n instanceof Bt)return _R(t,n._key);throw new B(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${jf(n)}.`)}function YR(t,e){if(!Array.isArray(t)||t.length===0)throw new B(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function tM(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new B(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new B(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var nI=class{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Cs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>xe(o.doubleValue));return new bu(s)}convertGeoPoint(e){return new Eu(xe(e.latitude),xe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=oI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(fu(e));default:return null}}convertTimestamp(e){let n=Cr(e);return new ct(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=Pe.fromString(e);Te(SN(r));let i=new cf(r.get(1),r.get(3)),s=new Y(r.popFirst(5));return i.isEqual(n)||Tr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function Z4(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ys=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},xf=class extends Nf{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Zo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(bI("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Zo=class extends xf{data(e={}){return super.data(e)}},rI=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ys(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Zo(this._firestore,this._userDataWriter,r.key,r,new ys(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new B(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Zo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ys(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Zo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ys(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:X4(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function X4(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}var Pf=class extends nI{constructor(e){super(),this.firestore=e}convertBytes(e){return new wu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Bt(this.firestore,null,n)}};function DI(t,e,n,...r){t=vi(t,Bt);let i=vi(t.firestore,Di),s=wI(i),o;return o=typeof(e=Fe(e))=="string"||e instanceof la?K4(s,"updateDoc",t._key,e,n,r):W4(s,"updateDoc",t._key,e),AI(i,[o.toMutation(t._key,Dr.exists(!0))])}function TI(t){return AI(vi(t.firestore,Di),[new gu(t._key,Dr.none())])}function CI(t,e){let n=vi(t.firestore,Di),r=fa(t),i=Z4(t.converter,e);return AI(n,[G4(wI(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Dr.exists(!1))]).then(()=>r)}function SI(t,...e){var n,r,i;t=Fe(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||KR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(KR(e[o])){let p=e[o];e[o]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[o+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[o+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof Bt)l=vi(t.firestore,Di),h=lI(t._key.path),u={next:p=>{e[o]&&e[o](ez(l,t,p))},error:e[o+1],complete:e[o+2]};else{let p=vi(t,Ts);l=vi(p.firestore,Di),h=p._query;let m=new Pf(l);u={next:y=>{e[o]&&e[o](new rI(l,m,p,y))},error:e[o+1],complete:e[o+2]},J4(t._query)}return function(m,y,b,R){let S=new Gw(R),x=new jw(y,S,b);return m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return b4(yield qR(m),x)})),()=>{S.Za(),m.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return D4(yield qR(m),x)}))}}(KN(l),h,a,u)}function AI(t,e){return function(r,i){let s=new br;return r.asyncQueue.enqueueAndForget(()=>w(this,null,function*(){return x4(yield $4(r),i,s)})),s.promise}(KN(t),e)}function ez(t,e,n){let r=n.docs.get(e._key),i=new Pf(t);return new xf(t,i,e._key,r,new ys(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){da=i})(Pn),Mn(new Ut("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Di(new T_(r.getProvider("auth-internal")),new R_(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cf(l.options.projectId,h)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Me(gR,"4.7.3",e),Me(gR,"4.7.3","esm2017")})();var Bf=function(){return Bf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bf.apply(this,arguments)};var rz={includeMetadataChanges:!1};function RI(t,e){return e===void 0&&(e=rz),new ce(function(n){var r=SI(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function nM(t){return RI(t,{includeMetadataChanges:!0})}function rM(t,e){return e===void 0&&(e={}),nM(t).pipe(Z(function(n){return NI(n,e)}))}function NI(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Bf(Bf({},r),(n={},n[e.idField]=t.id,n))}function iM(t){return RI(t,{includeMetadataChanges:!0}).pipe(Z(function(e){return e.docs}))}function sM(t,e){return e===void 0&&(e={}),iM(t).pipe(Z(function(n){return n.map(function(r){return NI(r,e)})}))}var As=class{constructor(e){return e}},oM="firestore",MI=class{constructor(){return us(oM)}};var xI=new $("angularfire2.firestore-instances");function iz(t,e){let n=Ho(oM,t,e);return n&&new As(n)}function sz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new As(r)}}var oz={provide:MI,deps:[[new He,xI]]},az={provide:As,useFactory:iz,deps:[[new He,xI],mn]};function aM(t,...e){return Me("angularfire",yr.full,"fst"),Ft([az,oz,{provide:xI,useFactory:sz(t),multi:!0,deps:[we,Ke,hi,vr,[new He,ps],[new He,di],...e]}])}var cM=jt(sM,!0);var uM=jt(rM,!0);var lM=jt(GN,!0);var dM=jt(WN,!0);var hM=jt(eM,!0);var fM=jt(XN,!0);var pa=class t{constructor(e){this.firestore=e;this.clientesRef=lM(this.firestore,"clientes");let n=fM(this.clientesRef,hM("nombre","asc"));this.clientes=cM(n,{idField:"id"})}clientes;clientesRef;getClientes(){return this.clientes}agregarCliente(e){return CI(this.clientesRef,e)}getCliente(e){let n=fa(this.firestore,`clientes/${e}`);return uM(n,{idField:"id"})}modificarCliente(e){let n=fa(this.firestore,`clientes/${e.id}`);return DI(n,k({},e))}eliminarCliente(e){let n=fa(this.firestore,`clientes/${e.id}`);return TI(n)}static \u0275fac=function(n){return new(n||t)(z(As))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})};var uz=["botonCerrar"];function lz(t,e){if(t&1&&(U(0,"tr")(1,"td"),K(2),F(),U(3,"td"),K(4),Wm(5,"currency"),F(),U(6,"td")(7,"a",44),Re(8,"i",45),K(9,"Editar "),F()()()),t&2){let n=e.$implicit;se(2),Gm("",n.nombre," ",n.apellido,""),se(2),zm(Km(5,5,n.saldo,"MXN","$")),se(3),$m("routerLink","/cliente/editar/",n.id,"")}}function dz(t,e){t&1&&(U(0,"div",34),K(1," Nombre es requerido y debe tener al menos 2 caracteres. "),F())}function hz(t,e){t&1&&(U(0,"div",34),K(1," Apellido es requerido y debe tener al menos 2 caracteres. "),F())}function fz(t,e){t&1&&(U(0,"div",34),K(1," Por favor ingrese un email v\xE1lido. "),F())}function pz(t,e){t&1&&(U(0,"div",34),K(1," El saldo es requerido y debe ser un n\xFAmero positivo. "),F())}var $f=class t{constructor(e){this.clienteServicio=e}clientes=null;cliente={nombre:"",apellido:"",email:"",saldo:void 0};botonCerrar;ngOnInit(){this.clienteServicio.getClientes().subscribe(e=>{this.clientes=e})}getSaldoTotal(){return this.clientes?.reduce((e,n)=>e+(n.saldo??0),0)??0}agregar(e){let{value:n,valid:r}=e;r&&(this.clienteServicio.agregarCliente(n),e.resetForm(),this.cerrarModal())}cerrarModal(){this.botonCerrar.nativeElement.click()}static \u0275fac=function(n){return new(n||t)(oe(pa))};static \u0275cmp=Ye({type:t,selectors:[["app-clientes"]],viewQuery:function(n,r){if(n&1&&OC(uz,5),n&2){let i;Hm(i=qm())&&(r.botonCerrar=i.first)}},standalone:!0,features:[Xe],decls:82,vars:15,consts:[["botonCerrar",""],["clienteForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["email","ngModel"],["saldo","ngModel"],["id","actions",1,"py-4","mb-4"],[1,"container"],[1,"row"],[1,"col-md-3"],["href","#","data-bs-toggle","modal","data-bs-target","#agregarClienteModal",1,"btn","btn-primary","w-100"],[1,"bi","bi-plus-circle"],["id","clientes"],[1,"col-md-9"],[1,"card"],[1,"card-header"],[1,"table","table-striped"],[1,"table-dark"],[1,"card","text-center","bg-danger","text-white","mb-3"],[1,"card-body"],[1,"display-4"],[1,"card","text-center","bg-success","text-white","mb-3"],[1,"bi","bi-people-fill"],["id","agregarClienteModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-info","text-white"],[1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],[3,"ngSubmit"],[1,"modal-body"],[1,"d-flex","align-items-center","mb-3"],["for","nombre",1,"form-label","me-3",2,"min-width","100px"],["type","text","id","nombre","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","apellido",1,"form-label","me-3",2,"min-width","100px"],["type","text","id","apellido","name","apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label","me-3",2,"min-width","100px"],[1,"col-sm-9"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","saldo",1,"form-label","me-3",2,"min-width","100px"],["type","number","id","saldo","name","saldo","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"],[1,"modal-footer"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"btn","btn-secondary",3,"routerLink"],[1,"bi","bi-pencil-square"]],template:function(n,r){if(n&1){let i=yo();U(0,"section",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"a",10),Re(5,"i",11),K(6," Agregar Cliente "),F()()()()(),U(7,"section",12)(8,"div",7)(9,"div",8)(10,"div",13)(11,"div",14)(12,"div",15)(13,"h4"),K(14,"Listado de Clientes"),F(),U(15,"table",16)(16,"thead",17)(17,"tr")(18,"th"),K(19,"Nombre"),F(),U(20,"th"),K(21,"Saldo"),F()()(),U(22,"tbody"),MC(23,lz,10,9,"tr",null,NC),F()()()()(),U(25,"div",9)(26,"div",18)(27,"div",19)(28,"h3"),K(29,"Saldo Total"),F(),U(30,"h4",20),K(31),Wm(32,"currency"),F()()(),U(33,"div",21)(34,"div",19)(35,"h3"),K(36,"Total Clientes"),F(),U(37,"h4",20),Re(38,"i",22),K(39),F()()()()()()(),U(40,"div",23)(41,"div",24)(42,"div",25)(43,"div",26)(44,"h5",27),K(45,"Agregar Cliente"),F(),Re(46,"button",28,0),F(),U(48,"form",29,1),yt("ngSubmit",function(){St(i);let o=zt(49);return At(r.agregar(o))}),U(50,"div",30)(51,"div",31)(52,"label",32),K(53," Nombre "),F(),U(54,"div")(55,"input",33,2),Vt("ngModelChange",function(o){return St(i),Gt(r.cliente.nombre,o)||(r.cliente.nombre=o),At(o)}),F(),mt(57,dz,2,0,"div",34),F()(),U(58,"div",31)(59,"label",35),K(60," Apellido "),F(),U(61,"div")(62,"input",36,3),Vt("ngModelChange",function(o){return St(i),Gt(r.cliente.apellido,o)||(r.cliente.apellido=o),At(o)}),F(),mt(64,hz,2,0,"div",34),F()(),U(65,"div",31)(66,"label",37),K(67," Email "),F(),U(68,"div",38)(69,"input",39,4),Vt("ngModelChange",function(o){return St(i),Gt(r.cliente.email,o)||(r.cliente.email=o),At(o)}),F(),mt(71,fz,2,0,"div",34),F()(),U(72,"div",31)(73,"label",40),K(74," Saldo "),F(),U(75,"div",38)(76,"input",41,5),Vt("ngModelChange",function(o){return St(i),Gt(r.cliente.saldo,o)||(r.cliente.saldo=o),At(o)}),F(),mt(78,pz,2,0,"div",34),F()()(),U(79,"div",42)(80,"button",43),K(81,"Guardar"),F()()()()()()}if(n&2){let i=zt(49),s=zt(56),o=zt(63),a=zt(70),u=zt(77);se(23),xC(r.clientes),se(8),Yi(" ",Km(32,11,r.getSaldoTotal(),"MXN","$")," "),se(8),Yi("",r.clientes==null?null:r.clientes.length," "),se(16),Lt("ngModel",r.cliente.nombre),se(2),st(s.invalid&&s.touched?57:-1),se(5),Lt("ngModel",r.cliente.apellido),se(2),st(o.invalid&&o.touched?64:-1),se(5),Lt("ngModel",r.cliente.email),se(2),st(a.invalid&&a.touched?71:-1),se(5),Lt("ngModel",r.cliente.saldo),se(2),st(u.invalid&&u.touched?78:-1),se(2),sn("disabled",i.invalid)}},dependencies:[ny,r0,oi,si,Uo,Vo,ai,qc,Fo,Lo,is,Gc,zc,rs,ns]})};var Hf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ye({type:t,selectors:[["app-tablero"]],standalone:!0,features:[Xe],decls:8,vars:0,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-lg-8"],[1,"bi","bi-gear-fill"]],template:function(n,r){n&1&&(U(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),Re(5,"i",4),K(6," Control de Clientes "),F()()()()(),Re(7,"app-clientes"))},dependencies:[$f]})};var gz=()=>["/"],qf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ye({type:t,selectors:[["app-no-encontrado"]],standalone:!0,features:[Xe],decls:8,vars:2,consts:[[1,"container","d-flex","flex-column","justify-content-center","align-items-center","my-5"],[1,"alert","alert-danger","text-center","w-75"],[1,"display-4"],[1,"lead"],[1,"btn","btn-primary","mt-3",3,"routerLink"]],template:function(n,r){n&1&&(U(0,"div",0)(1,"div",1)(2,"h1",2),K(3,"Error 404"),F(),U(4,"p",3),K(5,"No se encuentra el recurso solicitado."),F(),U(6,"a",4),K(7,"Volver al Inicio"),F()()()),n&2&&(se(6),sn("routerLink",or(1,gz)))},dependencies:[oi,si]})};var ga=class t{constructor(e){this.authService=e}login(e,n){return new Promise((r,i)=>{zh(this.authService,e,n).then(s=>r(s)).catch(s=>i(s))})}getAuthState(){return Qh(this.authService)}logout(){this.authService.signOut()}static \u0275fac=function(n){return new(n||t)(z(Ir))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})};function mz(t,e){if(t&1&&(U(0,"div",7),K(1),F()),t&2){let n=Rd();se(),Yi(" ",n.mensaje," ")}}var zf=class t{constructor(e,n){this.router=e;this.loginService=n}email=null;password=null;mensaje=null;ngOnInit(){this.loginService.getAuthState().subscribe(e=>{e&&this.router.navigate(["/"])})}login(){this.email&&this.password?this.loginService.login(this.email,this.password).then(()=>{this.router.navigate(["/"])}).catch(e=>{this.mensaje="Error al hacer login: "+e}):this.mensaje="Por favor, ingresa un email y password v\xE1lidos."}static \u0275fac=function(n){return new(n||t)(oe(at),oe(ga))};static \u0275cmp=Ye({type:t,selectors:[["app-login"]],standalone:!0,features:[Xe],decls:30,vars:3,consts:[["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"row"],[1,"col-md-6"],[1,"bi","bi-person"],[1,"container","my-3"],[1,"col-md-6","mx-auto"],["role","alert",1,"alert","alert-danger","text-center"],["id","login"],[1,"container","my-5"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"submit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","password",1,"form-label"],["type","password","name","password","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","submit","value","Login",1,"btn","btn-primary","w-100"]],template:function(n,r){n&1&&(U(0,"header",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1"),Re(5,"i",4),K(6," Login "),F()()()()(),U(7,"div",5)(8,"div",2)(9,"div",6),mt(10,mz,2,1,"div",7),F()()(),U(11,"section",8)(12,"div",9)(13,"div",2)(14,"div",6)(15,"div",10)(16,"div",11)(17,"h4"),K(18,"Login"),F()(),U(19,"div",12)(20,"form",13),yt("submit",function(){return r.login()}),U(21,"div",14)(22,"label",15),K(23,"Email"),F(),U(24,"input",16),Vt("ngModelChange",function(s){return Gt(r.email,s)||(r.email=s),s}),F()(),U(25,"div",14)(26,"label",17),K(27,"Password"),F(),U(28,"input",18),Vt("ngModelChange",function(s){return Gt(r.password,s)||(r.password=s),s}),F()(),Re(29,"input",19),F()()()()()()()),n&2&&(se(10),st(r.mensaje?10:-1),se(14),Lt("ngModel",r.email),se(4),Lt("ngModel",r.password))},dependencies:[Uo,Vo,ai,Fo,Lo,is,rs,ns]})};var yz=()=>["/"];function vz(t,e){t&1&&(U(0,"div",24),K(1," Nombre es requerido y debe tener al menos 2 caracteres. "),F())}function _z(t,e){t&1&&(U(0,"div",24),K(1," Apellido es requerido y debe tener al menos 2 caracteres. "),F())}function wz(t,e){t&1&&(U(0,"div",24),K(1," Por favor ingrese un email v\xE1lido. "),F())}function Iz(t,e){t&1&&(U(0,"div",24),K(1," El saldo es requerido y debe ser un n\xFAmero positivo. "),F())}var Gf=class t{constructor(e,n,r){this.clienteServicio=e;this.router=n;this.route=r}cliente={nombre:"",apellido:"",email:"",saldo:void 0};id=null;ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.id?this.clienteServicio.getCliente(this.id).subscribe(e=>{e?this.cliente=e:(console.log("Cliente no encontrado"+this.id),this.router.navigate(["/"]))}):(console.log("ID no proporcionado"),this.router.navigate(["/"]))}guardar(e){let{value:n,valid:r}=e;r&&(n.id=this.id,this.clienteServicio.modificarCliente(n),this.router.navigate(["/"]))}eliminar(){confirm("Seguro que deseas eliminar el cliente?")&&(this.clienteServicio.eliminarCliente(this.cliente),this.router.navigate(["/"]))}static \u0275fac=function(n){return new(n||t)(oe(pa),oe(at),oe(Rn))};static \u0275cmp=Ye({type:t,selectors:[["app-editar-cliente"]],standalone:!0,features:[Xe],decls:53,vars:10,consts:[["clienteForm","ngForm"],["nombre","ngModel"],["apellido","ngModel"],["email","ngModel"],["saldo","ngModel"],["id","main-header",1,"py-2","bg-info","text-white"],[1,"container"],[1,"bi","bi-person"],[3,"ngSubmit"],["id","actions",1,"py-4","mb-4"],[1,"container","d-flex","justify-content-between"],[1,"btn","btn-primary",3,"routerLink"],[1,"bi","bi-arrow-left"],["type","submit",1,"btn","btn-success"],[1,"bi","bi-check"],["href","#",1,"btn","btn-danger",3,"click"],[1,"bi","bi-trash"],["id","details"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"d-flex","align-items-center","mb-3"],["for","nombre",1,"form-label","me-3",2,"min-width","100px"],["type","text","id","nombre","name","nombre","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],[1,"text-danger"],["for","apellido",1,"form-label","me-3",2,"min-width","100px"],["type","text","id","apellido","name","apellido","required","","minlength","2",1,"form-control",3,"ngModelChange","ngModel"],["for","email",1,"form-label","me-3",2,"min-width","100px"],[1,"col-sm-9"],["type","email","id","email","name","email","required","",1,"form-control",3,"ngModelChange","ngModel"],["for","saldo",1,"form-label","me-3",2,"min-width","100px"],["type","number","id","saldo","name","saldo","required","","min","0.01","step","0.01",1,"form-control",3,"ngModelChange","ngModel"]],template:function(n,r){if(n&1){let i=yo();U(0,"header",5)(1,"div",6)(2,"h1"),Re(3,"i",7),K(4,"Editar Cliente"),F()()(),U(5,"form",8,0),yt("ngSubmit",function(){St(i);let o=zt(6);return At(r.guardar(o))}),U(7,"section",9)(8,"div",10)(9,"a",11),Re(10,"i",12),K(11," Regresar al Inicio "),F(),U(12,"button",13),Re(13,"i",14),K(14," Guardar Cliente "),F(),U(15,"a",15),yt("click",function(){return St(i),At(r.eliminar())}),Re(16,"i",16),K(17," Eliminar Cliente "),F()()(),U(18,"section",17)(19,"div",6)(20,"div",18)(21,"div",19)(22,"h4"),K(23,"Editar Cliente"),F()(),U(24,"div",20)(25,"div",21)(26,"label",22),K(27," Nombre "),F(),U(28,"div")(29,"input",23,1),Vt("ngModelChange",function(o){return St(i),Gt(r.cliente.nombre,o)||(r.cliente.nombre=o),At(o)}),F(),mt(31,vz,2,0,"div",24),F()(),U(32,"div",21)(33,"label",25),K(34," Apellido "),F(),U(35,"div")(36,"input",26,2),Vt("ngModelChange",function(o){return St(i),Gt(r.cliente.apellido,o)||(r.cliente.apellido=o),At(o)}),F(),mt(38,_z,2,0,"div",24),F()(),U(39,"div",21)(40,"label",27),K(41," Email "),F(),U(42,"div",28)(43,"input",29,3),Vt("ngModelChange",function(o){return St(i),Gt(r.cliente.email,o)||(r.cliente.email=o),At(o)}),F(),mt(45,wz,2,0,"div",24),F()(),U(46,"div",21)(47,"label",30),K(48," Saldo "),F(),U(49,"div",28)(50,"input",31,4),Vt("ngModelChange",function(o){return St(i),Gt(r.cliente.saldo,o)||(r.cliente.saldo=o),At(o)}),F(),mt(52,Iz,2,0,"div",24),F()()()()()()()}if(n&2){let i=zt(30),s=zt(37),o=zt(44),a=zt(51);se(9),sn("routerLink",or(9,yz)),se(20),Lt("ngModel",r.cliente.nombre),se(2),st(i.invalid&&i.touched?31:-1),se(5),Lt("ngModel",r.cliente.apellido),se(2),st(s.invalid&&s.touched?38:-1),se(5),Lt("ngModel",r.cliente.email),se(2),st(o.invalid&&o.touched?45:-1),se(5),Lt("ngModel",r.cliente.saldo),se(2),st(a.invalid&&a.touched?52:-1)}},dependencies:[Uo,Vo,ai,qc,Fo,Lo,is,Gc,zc,rs,ns,oi,si]})};var Nu=class t{constructor(e,n){this.authService=e;this.router=n}canActivate(){return Qh(this.authService).pipe(Z(e=>!!e||(this.router.navigate(["/login"]),!1)))}static \u0275fac=function(n){return new(n||t)(z(Ir),z(at))};static \u0275prov=H({token:t,factory:t.\u0275fac,providedIn:"root"})};var mM=[{path:"",component:Hf,canActivate:[Nu]},{path:"login",component:zf},{path:"cliente/editar/:id",component:Gf,canActivate:[Nu]},{path:"**",component:qf}];var PI={providers:[BC({eventCoalescing:!0}),fS(mM)]};var OI=()=>["/"],Ez=()=>["/login"];function bz(t,e){t&1&&(U(0,"ul",6)(1,"li",8)(2,"a",9),K(3,"Inicio"),F()()()),t&2&&(se(2),sn("routerLink",or(1,OI)))}function Dz(t,e){t&1&&(U(0,"li",8)(1,"a",9),Re(2,"i",10),K(3," Bienvenido "),F()()),t&2&&(se(),sn("routerLink",or(1,OI)))}function Tz(t,e){t&1&&(U(0,"li",8)(1,"a",9),Re(2,"i",11),K(3," Login "),F()()),t&2&&(se(),sn("routerLink",or(1,Ez)))}function Cz(t,e){if(t&1){let n=yo();U(0,"li",8)(1,"a",12),yt("click",function(){St(n);let i=Rd();return At(i.logout())}),Re(2,"i",13),K(3," Salir "),F()()}}var Wf=class t{constructor(e,n){this.loginService=e;this.router=n}isLoggedIn=!1;loggedInUser=null;ngOnInit(){this.loginService.getAuthState().subscribe(e=>{e?(this.isLoggedIn=!0,this.loggedInUser=e.email):this.isLoggedIn=!1})}logout(){this.loginService.logout(),this.isLoggedIn=!1,this.router.navigate(["/"])}static \u0275fac=function(n){return new(n||t)(oe(ga),oe(at))};static \u0275cmp=Ye({type:t,selectors:[["app-cabecero"]],standalone:!0,features:[Xe],decls:12,vars:6,consts:[[1,"navbar","navbar-expand-lg"],[1,"container"],[1,"navbar-brand",3,"routerLink"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto"],[1,"navbar-nav"],[1,"nav-item","px-2"],[1,"nav-link",3,"routerLink"],[1,"bi","bi-person-circle"],[1,"bi","bi-person"],[1,"nav-link",2,"cursor","pointer",3,"click"],[1,"bi","bi-box-arrow-right"]],template:function(n,r){n&1&&(U(0,"nav",0)(1,"div",1)(2,"a",2),K(3,"Control Clientes"),F(),U(4,"button",3),Re(5,"span",4),F(),U(6,"div",5),mt(7,bz,4,2,"ul",6),U(8,"ul",7),mt(9,Dz,4,2,"li",8)(10,Tz,4,2,"li",8)(11,Cz,4,0,"li",8),F()()()()),n&2&&(se(2),sn("routerLink",or(5,OI)),se(5),st(r.isLoggedIn?7:-1),se(2),st(r.isLoggedIn?9:-1),se(),st(r.isLoggedIn?-1:10),se(),st(r.isLoggedIn?11:-1))},dependencies:[oi,si]})};var Kf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ye({type:t,selectors:[["app-pie-pagina"]],standalone:!0,features:[Xe],decls:6,vars:0,consts:[["id","pie-pagina",1,"bg-warning","text-white","mt-5","py-4"],[1,"container"],[1,"row"],[1,"col"],[1,"lead","text-center","mb-0"]],template:function(n,r){n&1&&(U(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p",4),K(5," \xA9 Mat\xEDas Rodr\xEDguez "),F()()()()())}})};var Qf=class t{titulo="Control de Clientes";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ye({type:t,selectors:[["app-root"]],standalone:!0,features:[Xe],decls:3,vars:0,template:function(n,r){n&1&&Re(0,"app-cabecero")(1,"router-outlet")(2,"app-pie-pagina")},dependencies:[Ky,Wf,Kf]})};var yM={production:!0,firebaseConfig:{apiKey:"AIzaSyBKzBvaqHC7uzy5544iYWMvVvCRfFFZGLM",authDomain:"control-clientes-ac41e.firebaseapp.com",projectId:"control-clientes-ac41e",storageBucket:"control-clientes-ac41e.firebasestorage.app",messagingSenderId:"625981837884",appId:"1:625981837884:web:ecd8310c632a1a08d2a939"}};var bM="firebasestorage.googleapis.com",Sz="storageBucket",Az=2*60*1e3,Rz=10*60*1e3;var $n=class t extends Nt{constructor(e,n,r=0){super(kI(e),`Firebase Storage: ${n} (${kI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Rr=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Rr||{});function kI(t){return"storage/"+t}function Nz(){let t="An unknown error occurred, please check the error payload for server response.";return new $n(Rr.UNKNOWN,t)}function Mz(){return new $n(Rr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function xz(){return new $n(Rr.CANCELED,"User canceled the upload/download.")}function Pz(t){return new $n(Rr.INVALID_URL,"Invalid URL '"+t+"'.")}function Oz(t){return new $n(Rr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function vM(t){return new $n(Rr.INVALID_ARGUMENT,t)}function DM(){return new $n(Rr.APP_DELETED,"The Firebase app was deleted.")}function kz(t){return new $n(Rr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}var Ar=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Oz(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function l(G){G.path_=decodeURIComponent(G.path)}let h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",y=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),b={bucket:1,path:3},R=n===bM?"(?:storage.googleapis.com|storage.cloud.google.com)":n,S="([^?#]*)",x=new RegExp(`^https?://${R}/${i}/${S}`,"i"),V=[{regex:a,indices:u,postModify:s},{regex:y,indices:b,postModify:l},{regex:x,indices:{bucket:1,path:2},postModify:l}];for(let G=0;G<V.length;G++){let he=V[G],Q=he.regex.exec(e);if(Q){let E=Q[he.indices.bucket],v=Q[he.indices.path];v||(v=""),r=new t(E,v),he.postModify(r);break}}if(r==null)throw Pz(e);return r}},FI=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Fz(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let l=!1;function h(...S){l||(l=!0,e.apply(null,S))}function p(S){i=setTimeout(()=>{i=null,t(y,u())},S)}function m(){s&&clearTimeout(s)}function y(S,...x){if(l){m();return}if(S){m(),h.call(null,S,...x);return}if(u()||o){m(),h.call(null,S,...x);return}r<64&&(r*=2);let V;a===1?(a=2,V=0):V=(r+Math.random())*1e3,p(V)}let b=!1;function R(S){b||(b=!0,m(),!l&&(i!==null?(S||(a=2),clearTimeout(i),p(0)):S||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,R(!0)},n),R}function Lz(t){t(!1)}function Vz(t){return t!==void 0}function _M(t,e,n,r){if(r<e)throw vM(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw vM(`Invalid value for '${t}'. Expected ${n} or less.`)}function Uz(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var LI=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(LI||{});function jz(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var VI=class{constructor(e,n,r,i,s,o,a,u,l,h,p,m=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=l,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new ma(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,l=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,l)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===LI.NO_ERROR,u=s.getStatus();if(!a||jz(u,this.additionalRetryCodes_)&&this.retry){let h=s.getErrorCode()===LI.ABORT;r(!1,new ma(!1,null,h));return}let l=this.successCodes_.indexOf(u)!==-1;r(!0,new ma(l,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());Vz(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=Nz();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?DM():xz();o(u)}else{let u=Mz();o(u)}};this.canceled_?n(!1,new ma(!1,null,!0)):this.backoffId_=Fz(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Lz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},ma=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Bz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function $z(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Hz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function qz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zz(t,e,n,r,i,s,o=!0){let a=Uz(t.urlParams),u=t.url+a,l=Object.assign({},t.headers);return Hz(l,e),Bz(l,n),$z(l,s),qz(l,r),new VI(u,t.method,l,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function Gz(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Wz(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}var VZ=256*1024;var UI=class t{constructor(e,n){this._service=e,n instanceof Ar?this._location=n:this._location=Ar.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Ar(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Wz(this._location.path)}get storage(){return this._service}get parent(){let e=Gz(this._location.path);if(e===null)return null;let n=new Ar(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw kz(e)}};function wM(t,e){let n=e?.[Sz];return n==null?null:Ar.makeFromBucketSpec(n,t)}function Kz(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Ih(i,t.app.options.projectId))}var jI=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=bM,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Az,this._maxUploadRetryTime=Rz,this._requests=new Set,i!=null?this._bucket=Ar.makeFromBucketSpec(i,this._host):this._bucket=wM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ar.makeFromBucketSpec(this._url,e):this._bucket=wM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){_M("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){_M("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return w(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return w(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new UI(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new FI(DM());{let o=zz(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return w(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},IM="@firebase/storage",EM="0.13.2";var TM="storage";function CM(t=li(),e){t=Fe(t);let r=as(t,TM).getImmediate({identifier:e}),i=wh("storage");return i&&SM(r,...i),r}function SM(t,e,n,r={}){Kz(t,e,n,r)}function Qz(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new jI(n,r,i,e,Pn)}function Yz(){Mn(new Ut(TM,Qz,"PUBLIC").setMultipleInstances(!0)),Me(IM,EM,""),Me(IM,EM,"esm2017")}Yz();var Mu=class{constructor(e){return e}},AM="storage",BI=class{constructor(){return us(AM)}};var $I=new $("angularfire2.storage-instances");function Jz(t,e){let n=Ho(AM,t,e);return n&&new Mu(n)}function Zz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Mu(r)}}var Xz={provide:BI,deps:[[new He,$I]]},eG={provide:Mu,useFactory:Jz,deps:[[new He,$I],mn]};function RM(t,...e){return Me("angularfire",yr.full,"gcs"),Ft([eG,Xz,{provide:$I,useFactory:Zz(t),multi:!0,deps:[we,Ke,hi,vr,[new He,ps],[new He,di],...e]}])}var NM=jt(CM,!0);b0(Qf,fe(k({},PI),{providers:[g0(),dA(()=>hA(yM.firebaseConfig)),aM(()=>dM()),lR(()=>dR()),RM(()=>NM()),...PI.providers]})).catch(t=>console.error(t));
